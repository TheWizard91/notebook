/*! For license information please see main.d5c5cbcb.js.LICENSE.txt */
!function(){var e={142:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case h:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case f:case m:case v:case u:return e;default:return t}}case i:return t}}}function _(e){return w(e)===h}t.isForwardRef=function(e){return w(e)===f}},33:function(e,t,n){"use strict";e.exports=n(142)},630:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(618);n(7);var i=n(791);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var p=function(){function e(t){o(this,e),c(this,"handlers",void 0),this.handlers=t.slice(0)}return u(e,[{key:"addHandlers",value:function(t){for(var n=this.handlers.slice(0),r=t.length,i=0;i<r;i+=1)n.push(t[i]);return new e(n)}},{key:"dispatchEvent",value:function(e,t){var n=this.handlers.length-1;if(t){for(var r=n;r>=0;r-=1)this.handlers[r].called||(this.handlers[r].called=!0,this.handlers[r](e));for(var i=n;i>=0;i-=1)this.handlers[i].called=!1}else(0,this.handlers[n])(e)}},{key:"hasHandlers",value:function(){return this.handlers.length>0}},{key:"removeHandlers",value:function(t){for(var n=[],r=this.handlers.length,i=0;i<r;i+=1){var a=this.handlers[i];-1===t.indexOf(a)&&n.push(a)}return new e(n)}}]),e}();function v(e){var t=new Map;return e.forEach((function(e,n){t.set(n,e)})),t}function m(e){return Array.isArray(e)?e:[e]}function g(e){return"document"===e?document:"window"===e?window:function(e){return null!==e&&"object"===a(e)&&e.hasOwnProperty("current")}(e)?e.current||document:e||document}var y=function(){function e(t,n){o(this,e),c(this,"handlerSets",void 0),c(this,"poolName",void 0),this.handlerSets=n,this.poolName=t}return u(e,[{key:"addHandlers",value:function(t,n){var r=v(this.handlerSets);if(r.has(t)){var i=r.get(t);r.set(t,i.addHandlers(n))}else r.set(t,new p(n));return new e(this.poolName,r)}},{key:"dispatchEvent",value:function(e,t){var n=this.handlerSets.get(e),r="default"===this.poolName;n&&n.dispatchEvent(t,r)}},{key:"hasHandlers",value:function(e){if(!e)return this.handlerSets.size>0;var t=this.handlerSets.get(e);return!!t&&t.hasHandlers()}},{key:"removeHandlers",value:function(t,n){var r=v(this.handlerSets);if(!r.has(t))return new e(this.poolName,r);var i=r.get(t).removeHandlers(n);return i.hasHandlers()?r.set(t,i):r.delete(t),new e(this.poolName,r)}}]),e}();c(y,"createByType",(function(e,t,n){var r=new Map;return r.set(t,new p(n)),new y(e,r)}));var b=function(){function e(t){var n=this;o(this,e),c(this,"handlers",new Map),c(this,"pools",new Map),c(this,"target",void 0),c(this,"createEmitter",(function(e){return function(t){n.pools.forEach((function(n){n.dispatchEvent(e,t)}))}})),this.target=t}return u(e,[{key:"addHandlers",value:function(e,t,n){if(this.pools.has(e)){var r=this.pools.get(e);this.pools.set(e,r.addHandlers(t,n))}else this.pools.set(e,y.createByType(e,t,n));this.handlers.has(t)||this.addTargetHandler(t)}},{key:"hasHandlers",value:function(){return this.handlers.size>0}},{key:"removeHandlers",value:function(e,t,n){if(this.pools.has(e)){var r=this.pools.get(e).removeHandlers(t,n);r.hasHandlers()?this.pools.set(e,r):this.pools.delete(e);var i=!1;this.pools.forEach((function(e){return i=i||e.hasHandlers(t)})),i||this.removeTargetHandler(t)}}},{key:"addTargetHandler",value:function(e){var t=this.createEmitter(e);this.handlers.set(e,t),this.target.addEventListener(e,t,!0)}},{key:"removeTargetHandler",value:function(e){this.handlers.has(e)&&(this.target.removeEventListener(e,this.handlers.get(e),!0),this.handlers.delete(e))}}]),e}(),k=function(){function e(){var t=this;o(this,e),c(this,"targets",new Map),c(this,"getTarget",(function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=g(e);if(t.targets.has(r))return t.targets.get(r);if(!n)return null;var i=new b(r);return t.targets.set(r,i),i})),c(this,"removeTarget",(function(e){t.targets.delete(g(e))}))}return u(e,[{key:"sub",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.canUseDOM){var i=n.target,a=void 0===i?document:i,o=n.pool,s=void 0===o?"default":o;this.getTarget(a).addHandlers(s,e,m(t))}}},{key:"unsub",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.canUseDOM){var i=n.target,a=void 0===i?document:i,o=n.pool,s=void 0===o?"default":o,u=this.getTarget(a,!1);u&&(u.removeHandlers(s,e,m(t)),u.hasHandlers()||this.removeTarget(a))}}}]),e}(),w=new k,_=function(e){function t(){return o(this,t),d(this,h(t).apply(this,arguments))}return l(t,i.PureComponent),u(t,[{key:"componentDidMount",value:function(){this.subscribe(this.props)}},{key:"componentDidUpdate",value:function(e){this.unsubscribe(e),this.subscribe(this.props)}},{key:"componentWillUnmount",value:function(){this.unsubscribe(this.props)}},{key:"subscribe",value:function(e){var t=e.name,n=e.on,r=e.pool,i=e.target;w.sub(t,n,{pool:r,target:i})}},{key:"unsubscribe",value:function(e){var t=e.name,n=e.on,r=e.pool,i=e.target;w.unsub(t,n,{pool:r,target:i})}},{key:"render",value:function(){return null}}]),t}();c(_,"defaultProps",{pool:"default",target:"document"}),_.propTypes={},t.instance=w,t.default=_},775:function(e,t,n){"use strict";var r;r=n(630),e.exports=r.default,e.exports.instance=r.instance},694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},618:function(e,t,n){var r;!function(){"use strict";var i=!("undefined"===typeof window||!window.document||!window.document.createElement),a={canUseDOM:i,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},854:function(e){"use strict";for(var t=function(e){return null!==e&&!Array.isArray(e)&&"object"===typeof e},n={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"},r=0;r<24;r+=1)n[112+r]="F"+(r+1);for(var i=0;i<26;i+=1){var a=i+65;n[a]=[String.fromCharCode(a+32),String.fromCharCode(a)]}var o={codes:n,getCode:function(e){return t(e)?e.keyCode||e.which||this[e.key]:this[e]},getKey:function(e){var r=t(e);if(r&&e.key)return e.key;var i=n[r?e.keyCode||e.which:e];return Array.isArray(i)&&(i=r?i[e.shiftKey?1:0]:i[0]),i},Cancel:3,Help:6,Backspace:8,Tab:9,Clear:12,Enter:13,Shift:16,Control:17,Alt:18,Pause:19,CapsLock:20,Escape:27,Convert:28,NonConvert:29,Accept:30,ModeChange:31," ":32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Select:41,Print:42,Execute:43,PrintScreen:44,Insert:45,Delete:46,0:48,")":48,1:49,"!":49,2:50,"@":50,3:51,"#":51,4:52,$:52,5:53,"%":53,6:54,"^":54,7:55,"&":55,8:56,"*":56,9:57,"(":57,a:65,A:65,b:66,B:66,c:67,C:67,d:68,D:68,e:69,E:69,f:70,F:70,g:71,G:71,h:72,H:72,i:73,I:73,j:74,J:74,k:75,K:75,l:76,L:76,m:77,M:77,n:78,N:78,o:79,O:79,p:80,P:80,q:81,Q:81,r:82,R:82,s:83,S:83,t:84,T:84,u:85,U:85,v:86,V:86,w:87,W:87,x:88,X:88,y:89,Y:89,z:90,Z:90,OS:91,ContextMenu:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NumLock:144,ScrollLock:145,VolumeMute:181,VolumeDown:182,VolumeUp:183,";":186,":":186,"=":187,"+":187,",":188,"<":188,"-":189,_:189,".":190,">":190,"/":191,"?":191,"`":192,"~":192,"[":219,"{":219,"\\":220,"|":220,"]":221,"}":221,"'":222,'"':222,Meta:224,AltGraph:225,Attn:246,CrSel:247,ExSel:248,EraseEof:249,Play:250,ZoomOut:251};o.Spacebar=o[" "],o.Digit0=o[0],o.Digit1=o[1],o.Digit2=o[2],o.Digit3=o[3],o.Digit4=o[4],o.Digit5=o[5],o.Digit6=o[6],o.Digit7=o[7],o.Digit8=o[8],o.Digit9=o[9],o.Tilde=o["~"],o.GraveAccent=o["`"],o.ExclamationPoint=o["!"],o.AtSign=o["@"],o.PoundSign=o["#"],o.PercentSign=o["%"],o.Caret=o["^"],o.Ampersand=o["&"],o.PlusSign=o["+"],o.MinusSign=o["-"],o.EqualsSign=o["="],o.DivisionSign=o["/"],o.MultiplicationSign=o["*"],o.Comma=o[","],o.Decimal=o["."],o.Colon=o[":"],o.Semicolon=o[";"],o.Pipe=o["|"],o.BackSlash=o["\\"],o.QuestionMark=o["?"],o.SingleQuote=o["'"],o.DoubleQuote=o['"'],o.LeftCurlyBrace=o["{"],o.RightCurlyBrace=o["}"],o.LeftParenthesis=o["("],o.RightParenthesis=o[")"],o.LeftAngleBracket=o["<"],o.RightAngleBracket=o[">"],o.LeftSquareBracket=o["["],o.RightSquareBracket=o["]"],e.exports=o},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var a,o,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var c in a=Object(arguments[u]))n.call(a,c)&&(s[c]=a[c]);if(t){o=t(a);for(var l=0;l<o.length;l++)r.call(a,o[l])&&(s[o[l]]=a[o[l]])}}return s}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},173:function(e,t,n){"use strict";var r,i=n(791),a=(r=i)&&"object"===typeof r&&"default"in r?r.default:r,o=n(338),s=new o,u=s.getBrowser(),c=s.getCPU(),l=s.getDevice(),h=s.getEngine(),f=s.getOS(),d=s.getUA(),p=function(e){return s.setUA(e)},v=function(e){if(e){var t=new o(e);return{UA:t,browser:t.getBrowser(),cpu:t.getCPU(),device:t.getDevice(),engine:t.getEngine(),os:t.getOS(),ua:t.getUA(),setUserAgent:function(e){return t.setUA(e)}}}console.error("No userAgent string was provided")},m=Object.freeze({ClientUAInstance:s,browser:u,cpu:c,device:l,engine:h,os:f,ua:d,setUa:p,parseUserAgent:v});function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){return y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(){return w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w.apply(this,arguments)}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function x(e,t){return x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},x(e,t)}function E(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T="mobile",N="tablet",P="smarttv",R="console",A="wearable",O="embedded",D=void 0,L={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},M={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},F={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},j=function(e){return e||(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none")},U=function(){return!("undefined"===typeof window||!window.navigator&&!navigator)&&(window.navigator||navigator)},q=function(e){var t=U();return t&&t.platform&&(-1!==t.platform.indexOf(e)||"MacIntel"===t.platform&&t.maxTouchPoints>1&&!window.MSStream)},z=function(e,t,n,r){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{vendor:j(t.vendor),model:j(t.model),os:j(n.name),osVersion:j(n.version),ua:j(r)})};var V=function(e){return e.type===T},B=function(e){return e.type===N},W=function(e){var t=e.type;return t===T||t===N},H=function(e){return e.type===P},G=function(e){return e.type===D},K=function(e){return e.type===A},Q=function(e){return e.type===R},Y=function(e){return e.type===O},X=function(e){var t=e.vendor;return j(t)},J=function(e){var t=e.model;return j(t)},$=function(e){var t=e.type;return j(t,"browser")},Z=function(e){return e.name===M.Android},ee=function(e){return e.name===M.Windows},te=function(e){return e.name===M.MAC_OS},ne=function(e){return e.name===M.WindowsPhone},re=function(e){return e.name===M.IOS},ie=function(e){var t=e.version;return j(t)},ae=function(e){var t=e.name;return j(t)},oe=function(e){return e.name===L.Chrome},se=function(e){return e.name===L.Firefox},ue=function(e){return e.name===L.Chromium},ce=function(e){return e.name===L.Edge},le=function(e){return e.name===L.Yandex},he=function(e){var t=e.name;return t===L.Safari||t===L.MobileSafari},fe=function(e){return e.name===L.MobileSafari},de=function(e){return e.name===L.Opera},pe=function(e){var t=e.name;return t===L.InternetExplorer||t===L.Ie},ve=function(e){return e.name===L.MIUI},me=function(e){return e.name===L.SamsungBrowser},ge=function(e){var t=e.version;return j(t)},ye=function(e){var t=e.major;return j(t)},be=function(e){var t=e.name;return j(t)},ke=function(e){var t=e.name;return j(t)},we=function(e){var t=e.version;return j(t)},_e=function(){var e=U(),t=e&&e.userAgent&&e.userAgent.toLowerCase();return"string"===typeof t&&/electron/.test(t)},xe=function(e){return"string"===typeof e&&-1!==e.indexOf("Edg/")},Ee=function(){var e=U();return e&&(/iPad|iPhone|iPod/.test(e.platform)||"MacIntel"===e.platform&&e.maxTouchPoints>1)&&!window.MSStream},Se=function(){return q("iPad")},Ie=function(){return q("iPhone")},Ce=function(){return q("iPod")},Te=function(e){return j(e)};function Ne(e){var t=e||m,n=t.device,r=t.browser,i=t.os,a=t.engine,o=t.ua;return{isSmartTV:H(n),isConsole:Q(n),isWearable:K(n),isEmbedded:Y(n),isMobileSafari:fe(r)||Se(),isChromium:ue(r),isMobile:W(n)||Se(),isMobileOnly:V(n),isTablet:B(n)||Se(),isBrowser:G(n),isDesktop:G(n),isAndroid:Z(i),isWinPhone:ne(i),isIOS:re(i)||Se(),isChrome:oe(r),isFirefox:se(r),isSafari:he(r),isOpera:de(r),isIE:pe(r),osVersion:ie(i),osName:ae(i),fullBrowserVersion:ge(r),browserVersion:ye(r),browserName:be(r),mobileVendor:X(n),mobileModel:J(n),engineName:ke(a),engineVersion:we(a),getUA:Te(o),isEdge:ce(r)||xe(o),isYandex:le(r),deviceType:$(n),isIOS13:Ee(),isIPad13:Se(),isIPhone13:Ie(),isIPod13:Ce(),isElectron:_e(),isEdgeChromium:xe(o),isLegacyEdge:ce(r)&&!xe(o),isWindows:ee(i),isMacOs:te(i),isMIUI:ve(r),isSamsungBrowser:me(r)}}var Pe=H(l),Re=Q(l),Ae=K(l),Oe=Y(l),De=fe(u)||Se(),Le=ue(u),Me=W(l)||Se(),Fe=V(l),je=B(l)||Se(),Ue=G(l),qe=G(l),ze=Z(f),Ve=ne(f),Be=re(f)||Se(),We=oe(u),He=se(u),Ge=he(u),Ke=de(u),Qe=pe(u),Ye=ie(f),Xe=ae(f),Je=ge(u),$e=ye(u),Ze=be(u),et=X(l),tt=J(l),nt=ke(h),rt=we(h),it=Te(d),at=ce(u)||xe(d),ot=le(u),st=$(l),ut=Ee(),ct=Se(),lt=Ie(),ht=Ce(),ft=_e(),dt=xe(d),pt=ce(u)&&!xe(d),vt=ee(f),mt=te(f),gt=ve(u),yt=me(u);function bt(e){var t=e||window.navigator.userAgent;return v(t)}t.tq=Me},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(f.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=60103,x=60106,E=60107,S=60108,I=60114,C=60109,T=60110,N=60112,P=60113,R=60120,A=60115,O=60116,D=60121,L=60128,M=60129,F=60130,j=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;_=U("react.element"),x=U("react.portal"),E=U("react.fragment"),S=U("react.strict_mode"),I=U("react.profiler"),C=U("react.provider"),T=U("react.context"),N=U("react.forward_ref"),P=U("react.suspense"),R=U("react.suspense_list"),A=U("react.memo"),O=U("react.lazy"),D=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),F=U("react.offscreen"),j=U("react.legacy_hidden")}var q,z="function"===typeof Symbol&&Symbol.iterator;function V(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}function B(e){if(void 0===q)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);q=t&&t[1]||""}return"\n"+q+e}var W=!1;function H(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function G(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function K(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case I:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case A:return K(e.type);case D:return K(e._render);case O:t=e._payload,e=e._init;try{return K(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function de(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,ve,me=(ve=function(e,t){if(e.namespaceURI!==he.svg||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function ke(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ke(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ye).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,Ce=null,Te=null;function Ne(e){if(e=ni(e)){if("function"!==typeof Ie)throw Error(o(280));var t=e.stateNode;t&&(t=ii(t),Ie(e.stateNode,e.type,t))}}function Pe(e){Ce?Te?Te.push(e):Te=[e]:Ce=e}function Re(){if(Ce){var e=Ce,t=Te;if(Te=Ce=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Ae(e,t){return e(t)}function Oe(e,t,n,r,i){return e(t,n,r,i)}function De(){}var Le=Ae,Me=!1,Fe=!1;function je(){null===Ce&&null===Te||(De(),Re())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var qe=!1;if(h)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){qe=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(ve){qe=!1}function Ve(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Be=!1,We=null,He=!1,Ge=null,Ke={onError:function(e){Be=!0,We=e}};function Qe(e,t,n,r,i,a,o,s,u){Be=!1,We=null,Ve.apply(Ke,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Ye(e)!==e)throw Error(o(188))}function $e(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Je(i),e;if(a===r)return Je(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,at=[],ot=null,st=null,ut=null,ct=new Map,lt=new Map,ht=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":ot=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lt.delete(t.pointerId)}}function vt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=dt(t,n,r,i,a),null!==t&&(null!==(t=ni(t))&&tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=ti(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ni(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(it=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ni(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==ot&&gt(ot)&&(ot=null),null!==st&&gt(st)&&(st=null),null!==ut&&gt(ut)&&(ut=null),ct.forEach(yt),lt.forEach(yt)}function kt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function wt(e){function t(t){return kt(t,e)}if(0<at.length){kt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ot&&kt(ot,e),null!==st&&kt(st,e),null!==ut&&kt(ut,e),ct.forEach(t),lt.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)mt(n),null===n.blockedOn&&ht.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xt={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},Et={},St={};function It(e){if(Et[e])return Et[e];if(!xt[e])return e;var t,n=xt[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return Et[e]=n[t];return e}h&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete xt.animationend.animation,delete xt.animationiteration.animation,delete xt.animationstart.animation),"TransitionEvent"in window||delete xt.transitionend.transition);var Ct=It("animationend"),Tt=It("animationiteration"),Nt=It("animationstart"),Pt=It("transitionend"),Rt=new Map,At=new Map,Ot=["abort","abort",Ct,"animationEnd",Tt,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Pt,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),At.set(r,t),Rt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Lt=8;function Mt(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Lt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=Mt(u),i=Lt):0!==(s&=a)&&(r=Mt(s),i=Lt)}else 0!==(a=n&~o)?(r=Mt(a),i=Lt):0!==s&&(r=Mt(s),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Bt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Bt(t)),r|=e[n],t&=~i;return r}function jt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=qt(24&~t))?Ut(10,t):e;case 10:return 0===(e=qt(192&~t))?Ut(8,t):e;case 8:return 0===(e=qt(3584&~t))&&(0===(e=qt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=qt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function qt(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Bt(t)]=n}var Bt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Ht|0)|0},Wt=Math.log,Ht=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Kt=a.unstable_runWithPriority,Qt=!0;function Yt(e,t,n,r){Me||De();var i=Jt,a=Me;Me=!0;try{Oe(i,e,t,n,r)}finally{(Me=a)||je()}}function Xt(e,t,n,r){Kt(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Qt)if((i=0===(4&t))&&0<at.length&&-1<ft.indexOf(e))e=dt(null,e,t,n,r),at.push(e);else{var a=$t(e,t,n,r);if(null===a)i&&pt(e,r);else{if(i){if(-1<ft.indexOf(e))return e=dt(a,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ot=vt(ot,e,t,n,r,i),!0;case"dragenter":return st=vt(st,e,t,n,r,i),!0;case"mouseover":return ut=vt(ut,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return ct.set(a,vt(ct.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,lt.set(a,vt(lt.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;pt(e,r)}Dr(e,t,r,null,n)}}}function $t(e,t,n,r){var i=Se(r);if(null!==(i=ti(i))){var a=Ye(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Xe(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Dr(e,t,r,i,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function on(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:on,this.isPropagationStopped=on,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var un,cn,ln,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=sn(hn),dn=i({},hn,{view:0,detail:0}),pn=sn(dn),vn=i({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(un=e.screenX-ln.screenX,cn=e.screenY-ln.screenY):cn=un=0,ln=e),un)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),mn=sn(vn),gn=sn(i({},vn,{dataTransfer:0})),yn=sn(i({},dn,{relatedTarget:0})),bn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),kn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(kn),_n=sn(i({},hn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return In}var Tn=i({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=sn(Tn),Pn=sn(i({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=sn(i({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),An=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=i({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=sn(On),Ln=[9,13,27,32],Mn=h&&"CompositionEvent"in window,Fn=null;h&&"documentMode"in document&&(Fn=document.documentMode);var jn=h&&"TextEvent"in window&&!Fn,Un=h&&(!Mn||Fn&&8<Fn&&11>=Fn),qn=String.fromCharCode(32),zn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Kn(e,t,n,r){Pe(r),0<(t=Mr(t,"onChange")).length&&(n=new fn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,Yn=null;function Xn(e){Tr(e,0)}function Jn(e){if(J(ri(e)))return e}function $n(e,t){if("change"===e)return t}var Zn=!1;if(h){var er;if(h){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"===typeof nr.oninput}er=tr}else er=!1;Zn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Qn&&(Qn.detachEvent("onpropertychange",ir),Yn=Qn=null)}function ir(e){if("value"===e.propertyName&&Jn(Yn)){var t=[];if(Kn(t,Yn,e,Se(e)),e=Xn,Me)e(t);else{Me=!0;try{Ae(e,t)}finally{Me=!1,je()}}}}function ar(e,t,n){"focusin"===e?(rr(),Yn=n,(Qn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Yn)}function sr(e,t){if("click"===e)return Jn(t)}function ur(e,t){if("input"===e||"change"===e)return Jn(t)}var cr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},lr=Object.prototype.hasOwnProperty;function hr(e,t){if(cr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!lr.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function fr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=fr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fr(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=h&&"documentMode"in document&&11>=document.documentMode,yr=null,br=null,kr=null,wr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==yr||yr!==$(r)||("selectionStart"in(r=yr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},kr&&hr(kr,r)||(kr=r,0<(r=Mr(br,"onSelect")).length&&(t=new fn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(Ot,2);for(var xr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<xr.length;Er++)At.set(xr[Er],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Qe.apply(this,arguments),Be){if(!Be)throw Error(o(198));var l=We;Be=!1,We=null,He||(He=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Tr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}}}if(He)throw e=Ge,He=!1,Ge=null,e}function Nr(e,t){var n=ai(t),r=e+"__bubble";n.has(r)||(Or(t,e,2,!1),n.add(r))}var Pr="_reactListening"+Math.random().toString(36).slice(2);function Rr(e){e[Pr]||(e[Pr]=!0,s.forEach((function(t){Ir.has(t)||Ar(t,!1,e,null),Ar(t,!0,e,null)})))}function Ar(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Ir.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=ai(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Or(a,e,i,t),o.add(s))}function Or(e,t,n,r){var i=At.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Xt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!qe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Dr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ti(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{return Le(e,t,n)}finally{Fe=!1,je()}}((function(){var r=a,i=Se(n),o=[];e:{var s=Rt.get(e);if(void 0!==s){var u=fn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":u=Nn;break;case"focusin":c="focus",u=yn;break;case"focusout":c="blur",u=yn;break;case"beforeblur":case"afterblur":u=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Rn;break;case Ct:case Tt:case Nt:u=bn;break;case Pt:u=An;break;case"scroll":u=pn;break;case"wheel":u=Dn;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Pn}var l=0!==(4&t),h=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&(null!=(v=Ue(p,f))&&l.push(Lr(p,v,d)))),h)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ti(c)&&!c[Zr])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ti(c):null)&&(c!==(h=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=mn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Pn,v="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:ri(u),d=null==c?s:ri(c),(s=new l(v,p+"leave",u,n,i)).target=h,s.relatedTarget=d,v=null,ti(i)===r&&((l=new l(f,p+"enter",c,n,i)).target=d,l.relatedTarget=h,v=l),h=v,u&&c)e:{for(f=c,p=0,d=l=u;d;d=Fr(d))p++;for(d=0,v=f;v;v=Fr(v))d++;for(;0<p-d;)l=Fr(l),p--;for(;0<d-p;)f=Fr(f),d--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=Fr(l),f=Fr(f)}l=null}else l=null;null!==u&&jr(o,s,u,l,!1),null!==c&&null!==h&&jr(o,h,c,l,!0)}if("select"===(u=(s=r?ri(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=$n;else if(Gn(s))if(Zn)m=ur;else{m=or;var g=ar}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=sr);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ie(s,"number",s.value)),g=r?ri(r):window,e){case"focusin":(Gn(g)||"true"===g.contentEditable)&&(yr=g,br=r,kr=null);break;case"focusout":kr=br=yr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,_r(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":_r(o,n,i)}var y;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Un&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wn&&(y=nn()):(en="value"in(Zt=i)?Zt.value:Zt.textContent,Wn=!0)),0<(g=Mr(r,b)).length&&(b=new _n(b,e,null,n,i),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=jn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(zn=!0,qn);case"textInput":return(e=t.data)===qn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Mn&&Vn(e,t)?(e=nn(),tn=en=Zt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Mr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Tr(o,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ue(e,n))&&r.unshift(Lr(e,a,i)),null!=(a=Ue(e,t))&&r.push(Lr(e,a,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function jr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ue(n,a))&&o.unshift(Lr(n,u,s)):i||null!=(u=Ue(n,a))&&o.push(Lr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Ur(){}var qr=null,zr=null;function Vr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Br(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Hr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Kr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Xr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Xr,$r="__reactProps$"+Xr,Zr="__reactContainer$"+Xr,ei="__reactEvents$"+Xr;function ti(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zr]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Qr(e);null!==e;){if(n=e[Jr])return n;e=Qr(e)}return t}n=(e=n).parentNode}return null}function ni(e){return!(e=e[Jr]||e[Zr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ri(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ii(e){return e[$r]||null}function ai(e){var t=e[ei];return void 0===t&&(t=e[ei]=new Set),t}var oi=[],si=-1;function ui(e){return{current:e}}function ci(e){0>si||(e.current=oi[si],oi[si]=null,si--)}function li(e,t){si++,oi[si]=e.current,e.current=t}var hi={},fi=ui(hi),di=ui(!1),pi=hi;function vi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){ci(di),ci(fi)}function yi(e,t,n){if(fi.current!==hi)throw Error(o(168));li(fi,t),li(di,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,K(t)||"Unknown",a));return i({},n,r)}function ki(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,pi=fi.current,li(fi,e),li(di,di.current),!0}function wi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,pi),r.__reactInternalMemoizedMergedChildContext=e,ci(di),ci(fi),li(fi,e)):ci(di),li(di,n)}var _i=null,xi=null,Ei=a.unstable_runWithPriority,Si=a.unstable_scheduleCallback,Ii=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ti=a.unstable_requestPaint,Ni=a.unstable_now,Pi=a.unstable_getCurrentPriorityLevel,Ri=a.unstable_ImmediatePriority,Ai=a.unstable_UserBlockingPriority,Oi=a.unstable_NormalPriority,Di=a.unstable_LowPriority,Li=a.unstable_IdlePriority,Mi={},Fi=void 0!==Ti?Ti:function(){},ji=null,Ui=null,qi=!1,zi=Ni(),Vi=1e4>zi?Ni:function(){return Ni()-zi};function Bi(){switch(Pi()){case Ri:return 99;case Ai:return 98;case Oi:return 97;case Di:return 96;case Li:return 95;default:throw Error(o(332))}}function Wi(e){switch(e){case 99:return Ri;case 98:return Ai;case 97:return Oi;case 96:return Di;case 95:return Li;default:throw Error(o(332))}}function Hi(e,t){return e=Wi(e),Ei(e,t)}function Gi(e,t,n){return e=Wi(e),Si(e,t,n)}function Ki(){if(null!==Ui){var e=Ui;Ui=null,Ii(e)}Qi()}function Qi(){if(!qi&&null!==ji){qi=!0;var e=0;try{var t=ji;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ji=null}catch(n){throw null!==ji&&(ji=ji.slice(e+1)),Si(Ri,Ki),n}finally{qi=!1}}}var Yi=w.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ui(null),$i=null,Zi=null,ea=null;function ta(){ea=Zi=$i=null}function na(e){var t=Ji.current;ci(Ji),e.type._context._currentValue=t}function ra(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ia(e,t){$i=e,ea=Zi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Mo=!0),e.firstContext=null)}function aa(e,t){if(ea!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ea=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Zi){if(null===$i)throw Error(o(308));Zi=t,$i.dependencies={lanes:0,firstContext:t,responders:null}}else Zi=Zi.next=t;return e._currentValue}var oa=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ua(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ca(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function la(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fa(e,t,n,r){var a=e.updateQueue;oa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var h=e.alternate;if(null!==h){var f=(h=h.updateQueue).lastBaseUpdate;f!==s&&(null===f?h.firstBaseUpdate=l:f.next=l,h.lastBaseUpdate=c)}}if(null!==o){for(f=a.baseState,s=0,h=l=c=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==h&&(h=h.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,u);break e}f=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,f,u):p)||void 0===u)break e;f=i({},f,u);break e;case 2:oa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===h?(l=h=d,c=f):h=h.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===h&&(c=f),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=h,zs|=s,e.lanes=s,e.memoizedState=f}}function da(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var pa=(new r.Component).refs;function va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ma={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=fu(),i=du(e),a=ca(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),la(e,a),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=fu(),i=du(e),a=ca(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),la(e,a),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fu(),r=du(e),i=ca(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),la(e,i),pu(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ya(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=aa(a):(i=mi(t)?pi:fi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?vi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ma,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ma.enqueueReplaceState(t,t.state,null)}function ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=pa,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=aa(a):(a=mi(t)?pi:fi.current,i.context=vi(e,a)),fa(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ma.enqueueReplaceState(i,i.state,null),fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var wa=Array.isArray;function _a(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===pa&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function xa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ea(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Gu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Xu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_a(e,t,n),r.return=e,r):((r=Ku(n.type,n.key,n.props,null,e.mode,r)).ref=_a(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ju(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=Qu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Xu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Ku(t.type,t.key,t.props,null,e.mode,n)).ref=_a(e,null,t),n.return=e,n;case x:return(t=Ju(t,e.mode,n)).return=e,t}if(wa(t)||V(t))return(t=Qu(t,e.mode,n,null)).return=e,t;xa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?n.type===E?h(e,t,n.props.children,r,i):c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null}if(wa(n)||V(n))return null!==i?null:h(e,t,n,r,null);xa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return e=e.get(null===r.key?n:r.key)||null,r.type===E?h(t,e,r.props.children,i,r.key):c(t,e,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(wa(r)||V(r))return h(t,e=e.get(n)||null,r,i,null);xa(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,h=o,v=o=0,m=null;null!==h&&v<s.length;v++){h.index>v?(m=h,h=null):m=h.sibling;var g=d(i,h,s[v],u);if(null===g){null===h&&(h=m);break}e&&h&&null===g.alternate&&t(i,h),o=a(g,o,v),null===l?c=g:l.sibling=g,l=g,h=m}if(v===s.length)return n(i,h),c;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],u))&&(o=a(h,o,v),null===l?c=h:l.sibling=h,l=h);return c}for(h=r(i,h);v<s.length;v++)null!==(m=p(h,i,v,s[v],u))&&(e&&null!==m.alternate&&h.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&h.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=V(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var h=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=d(i,v,y.value,c);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=a(b,s,m),null===h?l=b:h.sibling=b,h=b,v=g}if(y.done)return n(i,v),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=f(i,y.value,c))&&(s=a(y,s,m),null===h?l=y:h.sibling=y,h=y);return l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=a(y,s,m),null===h?l=y:h.sibling=y,h=y);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===E&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case _:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===E){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=_a(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===E?((r=Qu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Ku(a.type,a.key,a.props,null,e.mode,u)).ref=_a(e,r,a),u.return=e,e=u)}return s(e);case x:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ju(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Xu(a,e.mode,u)).return=e,e=r),s(e);if(wa(a))return v(e,r,a,u);if(V(a))return m(e,r,a,u);if(l&&xa(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,K(e.type)||"Component"))}return n(e,r)}}var Sa=Ea(!0),Ia=Ea(!1),Ca={},Ta=ui(Ca),Na=ui(Ca),Pa=ui(Ca);function Ra(e){if(e===Ca)throw Error(o(174));return e}function Aa(e,t){switch(li(Pa,t),li(Na,e),li(Ta,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:de(null,"");break;default:t=de(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ci(Ta),li(Ta,t)}function Oa(){ci(Ta),ci(Na),ci(Pa)}function Da(e){Ra(Pa.current);var t=Ra(Ta.current),n=de(t,e.type);t!==n&&(li(Na,e),li(Ta,n))}function La(e){Na.current===e&&(ci(Ta),ci(Na))}var Ma=ui(0);function Fa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ja=null,Ua=null,qa=!1;function za(e,t){var n=Wu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Va(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ba(e){if(qa){var t=Ua;if(t){var n=t;if(!Va(e,t)){if(!(t=Kr(n.nextSibling))||!Va(e,t))return e.flags=-1025&e.flags|2,qa=!1,void(ja=e);za(ja,n)}ja=e,Ua=Kr(t.firstChild)}else e.flags=-1025&e.flags|2,qa=!1,ja=e}}function Wa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ja=e}function Ha(e){if(e!==ja)return!1;if(!qa)return Wa(e),qa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Br(t,e.memoizedProps))for(t=Ua;t;)za(e,t),t=Kr(t.nextSibling);if(Wa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ua=Kr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ua=null}}else Ua=ja?Kr(e.stateNode.nextSibling):null;return!0}function Ga(){Ua=ja=null,qa=!1}var Ka=[];function Qa(){for(var e=0;e<Ka.length;e++)Ka[e]._workInProgressVersionPrimary=null;Ka.length=0}var Ya=w.ReactCurrentDispatcher,Xa=w.ReactCurrentBatchConfig,Ja=0,$a=null,Za=null,eo=null,to=!1,no=!1;function ro(){throw Error(o(321))}function io(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function ao(e,t,n,r,i,a){if(Ja=a,$a=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ya.current=null===e||null===e.memoizedState?Ao:Oo,e=n(r,i),no){a=0;do{if(no=!1,!(25>a))throw Error(o(301));a+=1,eo=Za=null,t.updateQueue=null,Ya.current=Do,e=n(r,i)}while(no)}if(Ya.current=Ro,t=null!==Za&&null!==Za.next,Ja=0,eo=Za=$a=null,to=!1,t)throw Error(o(300));return e}function oo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===eo?$a.memoizedState=eo=e:eo=eo.next=e,eo}function so(){if(null===Za){var e=$a.alternate;e=null!==e?e.memoizedState:null}else e=Za.next;var t=null===eo?$a.memoizedState:eo.next;if(null!==t)eo=t,Za=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Za=e).memoizedState,baseState:Za.baseState,baseQueue:Za.baseQueue,queue:Za.queue,next:null},null===eo?$a.memoizedState=eo=e:eo=eo.next=e}return eo}function uo(e,t){return"function"===typeof t?t(e):t}function co(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Za,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if((Ja&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var h={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=h,a=r):u=u.next=h,$a.lanes|=l,zs|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,cr(r,t.memoizedState)||(Mo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);cr(a,t.memoizedState)||(Mo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ja&e)===e)&&(t._workInProgressVersionPrimary=r,Ka.push(t))),e)return n(t._source);throw Ka.push(t),Error(o(350))}function fo(e,t,n,r){var i=Os;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=Ya.current,c=u.useState((function(){return ho(i,t,n)})),l=c[1],h=c[0];c=eo;var f=e.memoizedState,d=f.refs,p=d.getSnapshot,v=f.source;f=f.subscribe;var m=$a;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!cr(s,e)){e=n(t._source),cr(h,e)||(l(e),e=du(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-Bt(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),cr(p,n)&&cr(v,t)&&cr(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:uo,lastRenderedState:h}).dispatch=l=Po.bind(null,$a,e),c.queue=e,c.baseQueue=null,h=ho(i,t,n),c.memoizedState=c.baseState=h),h}function po(e,t,n){return fo(so(),e,t,n)}function vo(e){var t=oo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:uo,lastRenderedState:e}).dispatch=Po.bind(null,$a,e),[t.memoizedState,e]}function mo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=$a.updateQueue)?(t={lastEffect:null},$a.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},oo().memoizedState=e}function yo(){return so().memoizedState}function bo(e,t,n,r){var i=oo();$a.flags|=e,i.memoizedState=mo(1|t,n,void 0,void 0===r?null:r)}function ko(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==Za){var o=Za.memoizedState;if(a=o.destroy,null!==r&&io(r,o.deps))return void mo(t,n,a,r)}$a.flags|=e,i.memoizedState=mo(1|t,n,a,r)}function wo(e,t){return bo(516,4,e,t)}function _o(e,t){return ko(516,4,e,t)}function xo(e,t){return ko(4,2,e,t)}function Eo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function So(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ko(4,2,Eo.bind(null,t,e),n)}function Io(){}function Co(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&io(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function To(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&io(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=Bi();Hi(98>n?98:n,(function(){e(!0)})),Hi(97<n?97:n,(function(){var n=Xa.transition;Xa.transition=1;try{e(!1),t()}finally{Xa.transition=n}}))}function Po(e,t,n){var r=fu(),i=du(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===$a||null!==o&&o===$a)no=to=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,cr(u,s))return}catch(c){}pu(e,i,r)}}var Ro={readContext:aa,useCallback:ro,useContext:ro,useEffect:ro,useImperativeHandle:ro,useLayoutEffect:ro,useMemo:ro,useReducer:ro,useRef:ro,useState:ro,useDebugValue:ro,useDeferredValue:ro,useTransition:ro,useMutableSource:ro,useOpaqueIdentifier:ro,unstable_isNewReconciler:!1},Ao={readContext:aa,useCallback:function(e,t){return oo().memoizedState=[e,void 0===t?null:t],e},useContext:aa,useEffect:wo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Eo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=oo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=oo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Po.bind(null,$a,e),[r.memoizedState,e]},useRef:go,useState:vo,useDebugValue:Io,useDeferredValue:function(e){var t=vo(e),n=t[0],r=t[1];return wo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=vo(!1),t=e[0];return go(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=oo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},fo(r,e,t,n)},useOpaqueIdentifier:function(){if(qa){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(o(355))})),n=vo(t)[1];return 0===(2&$a.mode)&&($a.flags|=516,mo(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return vo(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Oo={readContext:aa,useCallback:Co,useContext:aa,useEffect:_o,useImperativeHandle:So,useLayoutEffect:xo,useMemo:To,useReducer:co,useRef:yo,useState:function(){return co(uo)},useDebugValue:Io,useDeferredValue:function(e){var t=co(uo),n=t[0],r=t[1];return _o((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=co(uo)[0];return[yo().current,e]},useMutableSource:po,useOpaqueIdentifier:function(){return co(uo)[0]},unstable_isNewReconciler:!1},Do={readContext:aa,useCallback:Co,useContext:aa,useEffect:_o,useImperativeHandle:So,useLayoutEffect:xo,useMemo:To,useReducer:lo,useRef:yo,useState:function(){return lo(uo)},useDebugValue:Io,useDeferredValue:function(e){var t=lo(uo),n=t[0],r=t[1];return _o((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=lo(uo)[0];return[yo().current,e]},useMutableSource:po,useOpaqueIdentifier:function(){return lo(uo)[0]},unstable_isNewReconciler:!1},Lo=w.ReactCurrentOwner,Mo=!1;function Fo(e,t,n,r){t.child=null===e?Ia(t,null,n,r):Sa(t,e.child,n,r)}function jo(e,t,n,r,i){n=n.render;var a=t.ref;return ia(t,i),r=ao(e,t,n,r,a,i),null===e||Mo?(t.flags|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Uo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Hu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ku(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,qo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Gu(o,r)).ref=t.ref,e.return=t,t.child=e)}function qo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Mo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(Mo=!0)}return Bo(e,t,n,r,a)}function zo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},_u(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},_u(t,e),null;t.memoizedState={baseLanes:0},_u(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_u(t,r);return Fo(e,t,i,n),t.child}function Vo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Bo(e,t,n,r,i){var a=mi(n)?pi:fi.current;return a=vi(t,a),ia(t,i),n=ao(e,t,n,r,a,i),null===e||Mo?(t.flags|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Wo(e,t,n,r,i){if(mi(n)){var a=!0;ki(t)}else a=!1;if(ia(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ya(t,n,r),ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=aa(c):c=vi(t,c=mi(n)?pi:fi.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&ba(t,o,r,c),oa=!1;var f=t.memoizedState;o.state=f,fa(t,r,o,i),u=t.memoizedState,s!==r||f!==u||di.current||oa?("function"===typeof l&&(va(t,n,l,r),u=t.memoizedState),(s=oa||ga(t,n,s,r,f,u,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ua(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Xi(t.type,s),o.props=c,h=t.pendingProps,f=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=aa(u):u=vi(t,u=mi(n)?pi:fi.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||f!==u)&&ba(t,o,r,u),oa=!1,f=t.memoizedState,o.state=f,fa(t,r,o,i);var p=t.memoizedState;s!==h||f!==p||di.current||oa?("function"===typeof d&&(va(t,n,d,r),p=t.memoizedState),(c=oa||ga(t,n,c,r,f,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return Ho(e,t,n,r,a,i)}function Ho(e,t,n,r,i,a){Vo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&wi(t,n,!1),as(e,t,a);r=t.stateNode,Lo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Sa(t,e.child,null,a),t.child=Sa(t,null,s,a)):Fo(e,t,s,a),t.memoizedState=r.state,i&&wi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?yi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yi(0,t.context,!1),Aa(e,t.containerInfo)}var Ko,Qo,Yo,Xo,Jo={dehydrated:null,retryLane:0};function $o(e,t,n){var r,i=t.pendingProps,a=Ma.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),li(Ma,1&a),null===e?(void 0!==i.fallback&&Ba(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,t.lanes=33554432,e):((n=Yu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Jo,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Yu(t,i,0,null),n=Qu(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Gu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Gu(o,s),null!==e?r=Gu(e,r):(r=Qu(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ra(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fo(e,t,r.children,n),0!==(2&(r=Ma.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(li(Ma,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Gu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Gu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!qa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(t.type)&&gi(),null;case 3:return Oa(),ci(di),ci(fi),Qa(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ha(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Qo(t),null;case 5:La(t);var a=Ra(Pa.current);if(n=t.type,null!==e&&null!=t.stateNode)Yo(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ra(Ta.current),Ha(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Jr]=t,r[$r]=s,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)Nr(Sr[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,s),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Nr("invalid",r);break;case"textarea":ue(r,s),Nr("invalid",r)}for(var c in xe(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":X(r),re(r,s,!0);break;case"textarea":X(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Ur)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===he.html&&(e=fe(n)),e===he.html?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[$r]=r,Ko(e,t,!1,!1),t.stateNode=e,c=Ee(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),a=r;break;case"iframe":case"object":case"embed":Nr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Sr.length;a++)Nr(Sr[a],e);a=r;break;case"source":Nr("error",e),a=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),a=r;break;case"details":Nr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Nr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Nr("invalid",e);break;default:a=r}xe(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var h=l[s];"style"===s?we(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&me(e,h):"children"===s?"string"===typeof h?("textarea"!==n||""!==h)&&ge(e,h):"number"===typeof h&&ge(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=h&&"onScroll"===s&&Nr("scroll",e):null!=h&&k(e,s,h,c))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Ur)}Vr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Xo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Ra(Pa.current),Ra(Ta.current),Ha(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return ci(Ma),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ha(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ma.current)?0===js&&(js=3):(0!==js&&3!==js||(js=4),null===Os||0===(134217727&zs)&&0===(134217727&Vs)||yu(Os,Ls))),(r||n)&&(t.flags|=4),null);case 4:return Oa(),Qo(t),null===e&&Rr(t.stateNode.containerInfo),null;case 10:return na(t),null;case 19:if(ci(Ma),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==js||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Fa(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return li(Ma,1&Ma.current|2),t.child}e=e.sibling}null!==r.tail&&Vi()>Gs&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Fa(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!qa)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Vi()-r.renderingStartTime>Gs&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Vi(),n.sibling=null,t=Ma.current,li(Ma,s?1&t|2:1&t),n):null;case 23:case 24:return xu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:mi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Oa(),ci(di),ci(fi),Qa(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return La(e),null;case 13:return ci(Ma),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ci(Ma),null;case 4:return Oa(),null;case 10:return na(e),null;case 23:case 24:return xu(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=G(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ko=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qo=function(){},Yo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ra(Ta.current);var o,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Ur)}for(h in xe(n,r),n=null,a)if(!r.hasOwnProperty(h)&&a.hasOwnProperty(h)&&null!=a[h])if("style"===h){var c=a[h];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(u.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var l=r[h];if(c=null!=a?a[h]:void 0,r.hasOwnProperty(h)&&l!==c&&(null!=l||null!=c))if("style"===h)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(h,n)),n=l;else"dangerouslySetInnerHTML"===h?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(h,l)):"children"===h?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(h,""+l):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(u.hasOwnProperty(h)?(null!=l&&"onScroll"===h&&Nr("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(h,l))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}},Xo=function(e,t,n,r){n!==r&&(t.flags|=4)};var hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=ca(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xs||(Xs=!0,Js=r),ls(0,t)},n}function ds(e,t,n){(n=ca(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===$s?$s=new Set([this]):$s.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){qu(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function gs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fu(n,e),Mu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&da(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}da(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Vr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&wt(n)))))}throw Error(o(163))}function ys(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=ke("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bs(e,t){if(xi&&"function"===typeof xi.onCommitFiberUnmount)try{xi.onCommitFiberUnmount(_i,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fu(t,n);else{r=t;try{i()}catch(a){qu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){qu(t,a)}break;case 5:vs(t);break;case 4:Ss(e,t)}}function ks(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function _s(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?xs(e,n,t):Es(e,n,t)}function xs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ur));else if(4!==r&&null!==(e=e.child))for(xs(e,t,n),e=e.sibling;null!==e;)xs(e,t,n),e=e.sibling}function Es(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function Ss(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(bs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(bs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Is(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[$r]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ee(e,i),t=Ee(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?we(n,u):"dangerouslySetInnerHTML"===s?me(n,u):"children"===s?ge(n,u):k(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,wt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hs=Vi(),ys(t.child,!0)),void Cs(t);case 19:return void Cs(t);case 23:case 24:return void ys(t,null!==t.memoizedState)}throw Error(o(163))}function Cs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=Vu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ts(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ns=Math.ceil,Ps=w.ReactCurrentDispatcher,Rs=w.ReactCurrentOwner,As=0,Os=null,Ds=null,Ls=0,Ms=0,Fs=ui(0),js=0,Us=null,qs=0,zs=0,Vs=0,Bs=0,Ws=null,Hs=0,Gs=1/0;function Ks(){Gs=Vi()+500}var Qs,Ys=null,Xs=!1,Js=null,$s=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,cu=0,lu=null,hu=!1;function fu(){return 0!==(48&As)?Vi():-1!==su?su:su=Vi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Bi()?1:2;if(0===uu&&(uu=qs),0!==Yi.transition){0!==cu&&(cu=null!==Ws?Ws.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Bi(),0!==(4&As)&&98===e?e=Ut(12,uu):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;Vt(e,t,n),e===Os&&(Vs|=t,4===js&&yu(e,Ls));var r=Bi();1===t?0!==(8&As)&&0===(48&As)?bu(e):(mu(e,n),0===As&&(Ks(),Ki())):(0===(4&As)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),mu(e,n)),Ws=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Bt(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Mt(c);var h=Lt;a[u]=10<=h?l+250:6<=h?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ft(e,e===Os?Ls:0),t=Lt,0===r)null!==n&&(n!==Mi&&Ii(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&Ii(n)}15===t?(n=bu.bind(null,e),null===ji?(ji=[n],Ui=Si(Ri,Qi)):ji.push(n),n=Mi):14===t?n=Gi(99,bu.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,gu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gu(e){if(su=-1,cu=uu=0,0!==(48&As))throw Error(o(327));var t=e.callbackNode;if(Lu()&&e.callbackNode!==t)return null;var n=Ft(e,e===Os?Ls:0);if(0===n)return null;var r=n,i=As;As|=16;var a=Iu();for(Os===e&&Ls===r||(Ks(),Eu(e,r));;)try{Nu();break}catch(u){Su(e,u)}if(ta(),Ps.current=a,As=i,null!==Ds?r=0:(Os=null,Ls=0,r=js),0!==(qs&Vs))Eu(e,0);else if(0!==r){if(2===r&&(As|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=jt(e))&&(r=Cu(e,n))),1===r)throw t=Us,Eu(e,0),yu(e,n),mu(e,Vi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Au(e);break;case 3:if(yu(e,n),(62914560&n)===n&&10<(r=Hs+500-Vi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){fu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Au.bind(null,e),r);break}Au(e);break;case 4:if(yu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Bt(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=Vi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ns(n/1960))-n)){e.timeoutHandle=Wr(Au.bind(null,e),n);break}Au(e);break;default:throw Error(o(329))}}return mu(e,Vi()),e.callbackNode===t?gu.bind(null,e):null}function yu(e,t){for(t&=~Bs,t&=~Vs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Bt(t),r=1<<n;e[n]=-1,t&=~r}}function bu(e){if(0!==(48&As))throw Error(o(327));if(Lu(),e===Os&&0!==(e.expiredLanes&Ls)){var t=Ls,n=Cu(e,t);0!==(qs&Vs)&&(n=Cu(e,t=Ft(e,t)))}else n=Cu(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(As|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=jt(e))&&(n=Cu(e,t))),1===n)throw n=Us,Eu(e,0),yu(e,t),mu(e,Vi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Au(e),mu(e,Vi()),null}function ku(e,t){var n=As;As|=1;try{return e(t)}finally{0===(As=n)&&(Ks(),Ki())}}function wu(e,t){var n=As;As&=-2,As|=8;try{return e(t)}finally{0===(As=n)&&(Ks(),Ki())}}function _u(e,t){li(Fs,Ms),Ms|=t,qs|=t}function xu(){Ms=Fs.current,ci(Fs)}function Eu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Oa(),ci(di),ci(fi),Qa();break;case 5:La(r);break;case 4:Oa();break;case 13:case 19:ci(Ma);break;case 10:na(r);break;case 23:case 24:xu()}n=n.return}Os=e,Ds=Gu(e.current,null),Ls=Ms=qs=t,js=0,Us=null,Bs=Vs=zs=0}function Su(e,t){for(;;){var n=Ds;try{if(ta(),Ya.current=Ro,to){for(var r=$a.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}to=!1}if(Ja=0,eo=Za=$a=null,no=!1,Rs.current=null,null===n||null===n.return){js=1,Us=t,Ds=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Ls,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!==(1&Ma.current),f=o;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=f.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!h)}}if(d){var m=f.updateQueue;if(null===m){var g=new Set;g.add(c),f.updateQueue=g}else m.add(c);if(0===(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=ca(-1,1);y.tag=2,la(s,y)}s.lanes|=1;break e}u=void 0,s=t;var b=a.pingCache;if(null===b?(b=a.pingCache=new hs,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var k=zu.bind(null,a,c,s);c.then(k,k)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);u=Error((K(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==js&&(js=2),u=cs(u,s),f=o;do{switch(f.tag){case 3:a=u,f.flags|=4096,t&=-t,f.lanes|=t,ha(f,fs(0,a,t));break e;case 1:a=u;var w=f.type,_=f.stateNode;if(0===(64&f.flags)&&("function"===typeof w.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===$s||!$s.has(_)))){f.flags|=4096,t&=-t,f.lanes|=t,ha(f,ds(f,a,t));break e}}f=f.return}while(null!==f)}Ru(n)}catch(x){t=x,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function Iu(){var e=Ps.current;return Ps.current=Ro,null===e?Ro:e}function Cu(e,t){var n=As;As|=16;var r=Iu();for(Os===e&&Ls===t||Eu(e,t);;)try{Tu();break}catch(i){Su(e,i)}if(ta(),As=n,Ps.current=r,null!==Ds)throw Error(o(261));return Os=null,Ls=0,js}function Tu(){for(;null!==Ds;)Pu(Ds)}function Nu(){for(;null!==Ds&&!Ci();)Pu(Ds)}function Pu(e){var t=Qs(e.alternate,e,Ms);e.memoizedProps=e.pendingProps,null===t?Ru(e):Ds=t,Rs.current=null}function Ru(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ms)))return void(Ds=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ms)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ds=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===js&&(js=5)}function Au(e){var t=Bi();return Hi(99,Ou.bind(null,e,t)),null}function Ou(e,t){do{Lu()}while(null!==eu);if(0!==(48&As))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-Bt(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Os&&(Ds=Os=null,Ls=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=As,As|=32,Rs.current=null,qr=Qt,mr(s=vr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(I){u=null;break e}var h=0,f=-1,d=-1,p=0,v=0,m=s,g=null;t:for(;;){for(var y;m!==u||0!==a&&3!==m.nodeType||(f=h+a),m!==c||0!==l&&3!==m.nodeType||(d=h+l),3===m.nodeType&&(h+=m.nodeValue.length),null!==(y=m.firstChild);)g=m,m=y;for(;;){if(m===s)break t;if(g===u&&++p===a&&(f=h),g===c&&++v===l&&(d=h),null!==(y=m.nextSibling))break;g=(m=g).parentNode}m=y}u=-1===f||-1===d?null:{start:f,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;zr={focusedElem:s,selectionRange:u},Qt=!1,lu=null,hu=!1,Ys=r;do{try{Du()}catch(I){if(null===Ys)throw Error(o(330));qu(Ys,I),Ys=Ys.nextEffect}}while(null!==Ys);lu=null,Ys=r;do{try{for(s=e;null!==Ys;){var b=Ys.flags;if(16&b&&ge(Ys.stateNode,""),128&b){var k=Ys.alternate;if(null!==k){var w=k.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&b){case 2:_s(Ys),Ys.flags&=-3;break;case 6:_s(Ys),Ys.flags&=-3,Is(Ys.alternate,Ys);break;case 1024:Ys.flags&=-1025;break;case 1028:Ys.flags&=-1025,Is(Ys.alternate,Ys);break;case 4:Is(Ys.alternate,Ys);break;case 8:Ss(s,u=Ys);var _=u.alternate;ks(u),null!==_&&ks(_)}Ys=Ys.nextEffect}}catch(I){if(null===Ys)throw Error(o(330));qu(Ys,I),Ys=Ys.nextEffect}}while(null!==Ys);if(w=zr,k=vr(),b=w.focusedElem,s=w.selectionRange,k!==b&&b&&b.ownerDocument&&pr(b.ownerDocument.documentElement,b)){null!==s&&mr(b)&&(k=s.start,void 0===(w=s.end)&&(w=k),"selectionStart"in b?(b.selectionStart=k,b.selectionEnd=Math.min(w,b.value.length)):(w=(k=b.ownerDocument||document)&&k.defaultView||window).getSelection&&(w=w.getSelection(),u=b.textContent.length,_=Math.min(s.start,u),s=void 0===s.end?_:Math.min(s.end,u),!w.extend&&_>s&&(u=s,s=_,_=u),u=dr(b,_),a=dr(b,s),u&&a&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((k=k.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),_>s?(w.addRange(k),w.extend(a.node,a.offset)):(k.setEnd(a.node,a.offset),w.addRange(k))))),k=[];for(w=b;w=w.parentNode;)1===w.nodeType&&k.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<k.length;b++)(w=k[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Qt=!!qr,zr=qr=null,e.current=n,Ys=r;do{try{for(b=e;null!==Ys;){var x=Ys.flags;if(36&x&&gs(b,Ys.alternate,Ys),128&x){k=void 0;var E=Ys.ref;if(null!==E){var S=Ys.stateNode;Ys.tag,k=S,"function"===typeof E?E(k):E.current=k}}Ys=Ys.nextEffect}}catch(I){if(null===Ys)throw Error(o(330));qu(Ys,I),Ys=Ys.nextEffect}}while(null!==Ys);Ys=null,Fi(),As=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for(Ys=r;null!==Ys;)t=Ys.nextEffect,Ys.nextEffect=null,8&Ys.flags&&((x=Ys).sibling=null,x.stateNode=null),Ys=t;if(0===(r=e.pendingLanes)&&($s=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,xi&&"function"===typeof xi.onCommitFiberRoot)try{xi.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(I){}if(mu(e,Vi()),Xs)throw Xs=!1,e=Js,Js=null,e;return 0!==(8&As)||Ki(),null}function Du(){for(;null!==Ys;){var e=Ys.alternate;hu||null===lu||(0!==(8&Ys.flags)?Ze(Ys,lu)&&(hu=!0):13===Ys.tag&&Ts(e,Ys)&&Ze(Ys,lu)&&(hu=!0));var t=Ys.flags;0!==(256&t)&&ms(e,Ys),0===(512&t)||Zs||(Zs=!0,Gi(97,(function(){return Lu(),null}))),Ys=Ys.nextEffect}}function Lu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Hi(e,ju)}return!1}function Mu(e,t){nu.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Lu(),null})))}function Fu(e,t){ru.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Lu(),null})))}function ju(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&As))throw Error(o(331));var t=As;As|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));qu(a,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));qu(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return As=t,Ki(),!0}function Uu(e,t,n){la(e,t=fs(0,t=cs(n,t),1)),t=fu(),null!==(e=vu(e,1))&&(Vt(e,1,t),mu(e,t))}function qu(e,t){if(3===e.tag)Uu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Uu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$s||!$s.has(r))){var i=ds(n,e=cs(t,e),1);if(la(n,i),i=fu(),null!==(n=vu(n,1)))Vt(n,1,i),mu(n,i);else if("function"===typeof r.componentDidCatch&&(null===$s||!$s.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function zu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=fu(),e.pingedLanes|=e.suspendedLanes&n,Os===e&&(Ls&n)===n&&(4===js||3===js&&(62914560&Ls)===Ls&&500>Vi()-Hs?Eu(e,0):Bs|=n),mu(e,t)}function Vu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Bi()?1:2:(0===uu&&(uu=qs),0===(t=qt(62914560&~uu))&&(t=4194304))),n=fu(),null!==(e=vu(e,t))&&(Vt(e,t,n),mu(e,n))}function Bu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Wu(e,t,n,r){return new Bu(e,t,n,r)}function Hu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Gu(e,t){var n=e.alternate;return null===n?((n=Wu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ku(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Hu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Qu(n.children,i,a,t);case M:s=8,i|=16;break;case S:s=8,i|=1;break;case I:return(e=Wu(12,n,t,8|i)).elementType=I,e.type=I,e.lanes=a,e;case P:return(e=Wu(13,n,t,i)).type=P,e.elementType=P,e.lanes=a,e;case R:return(e=Wu(19,n,t,i)).elementType=R,e.lanes=a,e;case F:return Yu(n,i,a,t);case j:return(e=Wu(24,n,t,i)).elementType=j,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case T:s=9;break e;case N:s=11;break e;case A:s=14;break e;case O:s=16,r=null;break e;case D:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Wu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qu(e,t,n,r){return(e=Wu(7,e,r,t)).lanes=n,e}function Yu(e,t,n,r){return(e=Wu(23,e,r,t)).elementType=F,e.lanes=n,e}function Xu(e,t,n){return(e=Wu(6,e,null,t)).lanes=n,e}function Ju(e,t,n){return(t=Wu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $u(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n,r){var i=t.current,a=fu(),s=du(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(mi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=bi(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=ca(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),la(i,t),pu(i,s,a),s}function ec(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nc(e,t){tc(e,t),(e=e.alternate)&&tc(e,t)}function rc(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new $u(e,t,null!=n&&!0===n.hydrate),t=Wu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[Zr]=n.current,Rr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ic(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ac(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=ec(o);s.call(e)}}Zu(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new rc(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=ec(o);u.call(e)}}wu((function(){Zu(t,o,e,i)}))}return ec(o)}function oc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ic(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||di.current)Mo=!0;else{if(0===(n&r)){switch(Mo=!1,t.tag){case 3:Go(t),Ga();break;case 5:Da(t);break;case 1:mi(t.type)&&ki(t);break;case 4:Aa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;li(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?$o(e,t,n):(li(Ma,1&Ma.current),null!==(t=as(e,t,n))?t.sibling:null);li(Ma,1&Ma.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),li(Ma,Ma.current),r)break;return null;case 23:case 24:return t.lanes=0,zo(e,t,n)}return as(e,t,n)}Mo=0!==(16384&e.flags)}else Mo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=vi(t,fi.current),ia(t,n),i=ao(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var a=!0;ki(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&va(t,r,s,e),i.updater=ma,t.stateNode=i,i._reactInternals=t,ka(t,r,e,n),t=Ho(null,t,r,!0,a,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Hu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===A)return 14}return 2}(i),e=Xi(i,e),a){case 0:t=Bo(null,t,i,e,n);break e;case 1:t=Wo(null,t,i,e,n);break e;case 11:t=jo(null,t,i,e,n);break e;case 14:t=Uo(null,t,i,Xi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Bo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ua(e,t),fa(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Ua=Kr(t.stateNode.containerInfo.firstChild),ja=t,a=qa=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Ka.push(a);for(n=Ia(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(e,t,r,n),Ga();t=t.child}return t;case 5:return Da(t),null===e&&Ba(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Br(r,i)?s=null:null!==a&&Br(r,a)&&(t.flags|=16),Vo(e,t),Fo(e,t,s,n),t.child;case 6:return null===e&&Ba(t),null;case 13:return $o(e,t,n);case 4:return Aa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Sa(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(li(Ji,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=cr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!di.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=ca(-1,n&-n)).tag=2,la(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ra(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,ia(t,n),r=r(i=aa(i,a.unstable_observedBits)),t.flags|=1,Fo(e,t,r,n),t.child;case 14:return a=Xi(i=t.type,t.pendingProps),Uo(e,t,i,a=Xi(i.type,a),r,n);case 15:return qo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,ki(t)):e=!1,ia(t,n),ya(t,r,i),ka(t,r,i,n),Ho(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return zo(e,t,n)}throw Error(o(156,t.tag))},rc.prototype.render=function(e){Zu(e,this._internalRoot,null,null)},rc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Zu(null,e,null,(function(){t[Zr]=null}))},et=function(e){13===e.tag&&(pu(e,4,fu()),nc(e,4))},tt=function(e){13===e.tag&&(pu(e,67108864,fu()),nc(e,67108864))},nt=function(e){if(13===e.tag){var t=fu(),n=du(e);pu(e,n,t),nc(e,n)}},rt=function(e,t){return t()},Ie=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ii(r);if(!i)throw Error(o(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Ae=ku,Oe=function(e,t,n,r,i){var a=As;As|=4;try{return Hi(98,e.bind(null,t,n,r,i))}finally{0===(As=a)&&(Ks(),Ki())}},De=function(){0===(49&As)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,Vi())}))}Ki()}(),Lu())},Le=function(e,t){var n=As;As|=2;try{return e(t)}finally{0===(As=n)&&(Ks(),Ki())}};var sc={Events:[ni,ri,ii,Pe,Re,Lu,{current:!1}]},uc={findFiberByHostInstance:ti,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cc={bundleType:uc.bundleType,version:uc.version,rendererPackageName:uc.rendererPackageName,rendererConfig:uc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:uc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{_i=lc.inject(cc),xi=lc}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=oc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e,t){var n=As;if(0!==(48&n))return e(t);As|=1;try{if(e)return Hi(99,e.bind(null,t))}finally{As=n,Ki()}},t.hydrate=function(e,t,n){if(!ic(t))throw Error(o(200));return ac(null,e,t,!0,n)},t.render=function(e,t,n){if(!ic(t))throw Error(o(200));return ac(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ic(e))throw Error(o(40));return!!e._reactRootContainer&&(wu((function(){ac(null,null,e,!1,(function(){e._reactRootContainer=null,e[Zr]=null}))})),!0)},t.unstable_batchedUpdates=ku,t.unstable_createPortal=function(e,t){return oc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ic(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ac(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),a=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),o=h("react.provider"),s=h("react.context"),u=h("react.forward_ref"),t.Suspense=h("react.suspense"),c=h("react.memo"),l=h("react.lazy")}var f="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=y.prototype=new g;b.constructor=y,r(b,m.prototype),b.isPureReactComponent=!0;var k={current:null},w=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!_.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:k.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+I(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),C(o,t,n,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+I(s=e[c],c);u+=C(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=C(s=s.value,t,n,l=r+I(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function T(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var P={current:null};function R(){var e=P.current;if(null===e)throw Error(d(321));return e}var A={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:k,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!_.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var h=0;h<l;h++)c[h]=arguments[h+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,h=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(h,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,g=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var k=new MessageChannel,w=k.port2;k.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();b=e+y;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){g=f((function(){e(t.unstable_now())}),n)},i=function(){d(g),g=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function x(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>S(o,n))void 0!==u&&0>S(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>S(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],C=[],T=1,N=null,P=3,R=!1,A=!1,O=!1;function D(e){for(var t=x(C);null!==t;){if(null===t.callback)E(C);else{if(!(t.startTime<=e))break;E(C),t.sortIndex=t.expirationTime,_(I,t)}t=x(C)}}function L(e){if(O=!1,D(e),!A)if(null!==x(I))A=!0,n(M);else{var t=x(C);null!==t&&r(L,t.startTime-e)}}function M(e,n){A=!1,O&&(O=!1,i()),R=!0;var a=P;try{for(D(n),N=x(I);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"===typeof o){N.callback=null,P=N.priorityLevel;var s=o(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?N.callback=s:N===x(I)&&E(I),D(n)}else E(I);N=x(I)}if(null!==N)var u=!0;else{var c=x(C);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{N=null,P=a,R=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){A||R||(A=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_getFirstCallbackNode=function(){return x(I)},t.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var n=P;P=t;try{return e()}finally{P=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=P;P=e;try{return t()}finally{P=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:T++,callback:a,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,_(C,e),null===x(I)&&e===x(C)&&(O?i():O=!0,r(L,o-s))):(e.sortIndex=u,_(I,e),A||R||(A=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=P;return function(){var n=P;P=t;try{return e.apply(this,arguments)}finally{P=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var c=a[u];if(!s(c))return!1;var l=e[c],h=t[c];if(!1===(i=n?n.call(r,l,h,c):void 0)||void 0===i&&l!==h)return!1}return!0}},338:function(e,t,n){var r;!function(i,a){"use strict";var o="function",s="undefined",u="object",c="string",l="major",h="model",f="name",d="type",p="vendor",v="version",m="architecture",g="console",y="mobile",b="tablet",k="smarttv",w="wearable",_="embedded",x="Amazon",E="Apple",S="ASUS",I="BlackBerry",C="Browser",T="Chrome",N="Firefox",P="Google",R="Huawei",A="LG",O="Microsoft",D="Motorola",L="Opera",M="Samsung",F="Sharp",j="Sony",U="Xiaomi",q="Zebra",z="Facebook",V="Chromium OS",B="Mac OS",W=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},H=function(e,t){return typeof e===c&&-1!==G(t).indexOf(G(e))},G=function(e){return e.toLowerCase()},K=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,""),typeof t===s?e:e.substring(0,350)},Q=function(e,t){for(var n,r,i,s,c,l,h=0;h<t.length&&!c;){var f=t[h],d=t[h+1];for(n=r=0;n<f.length&&!c&&f[n];)if(c=f[n++].exec(e))for(i=0;i<d.length;i++)l=c[++r],typeof(s=d[i])===u&&s.length>0?2===s.length?typeof s[1]==o?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:3===s.length?typeof s[1]!==o||s[1].exec&&s[1].test?this[s[0]]=l?l.replace(s[1],s[2]):a:this[s[0]]=l?s[1].call(this,l,s[2]):a:4===s.length&&(this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):a):this[s]=l||a;h+=2}},Y=function(e,t){for(var n in t)if(typeof t[n]===u&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(H(t[n][r],e))return"?"===n?a:n}else if(H(t[n],e))return"?"===n?a:n;return e},X={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},J={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[v,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[v,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,v],[/opios[\/ ]+([\w\.]+)/i],[v,[f,L+" Mini"]],[/\bopr\/([\w\.]+)/i],[v,[f,L]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[f,v],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[v,[f,"UC"+C]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[v,[f,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[v,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[v,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[v,[f,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[v,[f,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+C],v],[/\bfocus\/([\w\.]+)/i],[v,[f,N+" Focus"]],[/\bopt\/([\w\.]+)/i],[v,[f,L+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[v,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[v,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[v,[f,L+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[v,[f,"MIUI "+C]],[/fxios\/([-\w\.]+)/i],[v,[f,N]],[/\bqihu|(qi?ho?o?|360)browser/i],[[f,"360 "+C]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1 "+C],v],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],v],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[f,v],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,z],v],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[f,v],[/\bgsa\/([\w\.]+) .*safari\//i],[v,[f,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[v,[f,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[v,[f,T+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,T+" WebView"],v],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[v,[f,"Android "+C]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,v],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[v,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[v,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[v,Y,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[f,v],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],v],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[v,[f,N+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[f,v],[/(cobalt)\/([\w\.]+)/i],[f,[v,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,G]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[m,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[m,"armhf"]],[/windows (ce|mobile); ppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[m,/ower/,"",G]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[m,G]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[h,[p,M],[d,b]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[h,[p,M],[d,y]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[h,[p,E],[d,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[h,[p,E],[d,b]],[/(macintosh);/i],[h,[p,E]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[h,[p,F],[d,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[h,[p,R],[d,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[h,[p,R],[d,y]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[h,/_/g," "],[p,U],[d,y]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[h,/_/g," "],[p,U],[d,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[h,[p,"OPPO"],[d,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[h,[p,"Vivo"],[d,y]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[h,[p,"Realme"],[d,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[h,[p,D],[d,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[h,[p,D],[d,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[h,[p,A],[d,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[h,[p,A],[d,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[h,[p,"Lenovo"],[d,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[h,/_/g," "],[p,"Nokia"],[d,y]],[/(pixel c)\b/i],[h,[p,P],[d,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[h,[p,P],[d,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[h,[p,j],[d,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[h,"Xperia Tablet"],[p,j],[d,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[h,[p,"OnePlus"],[d,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[h,[p,x],[d,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[h,/(.+)/g,"Fire Phone $1"],[p,x],[d,y]],[/(playbook);[-\w\),; ]+(rim)/i],[h,p,[d,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[h,[p,I],[d,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[h,[p,S],[d,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[h,[p,S],[d,y]],[/(nexus 9)/i],[h,[p,"HTC"],[d,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[h,/_/g," "],[d,y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[h,[p,"Acer"],[d,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[h,[p,"Meizu"],[d,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,h,[d,y]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,h,[d,b]],[/(surface duo)/i],[h,[p,O],[d,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[h,[p,"Fairphone"],[d,y]],[/(u304aa)/i],[h,[p,"AT&T"],[d,y]],[/\bsie-(\w*)/i],[h,[p,"Siemens"],[d,y]],[/\b(rct\w+) b/i],[h,[p,"RCA"],[d,b]],[/\b(venue[\d ]{2,7}) b/i],[h,[p,"Dell"],[d,b]],[/\b(q(?:mv|ta)\w+) b/i],[h,[p,"Verizon"],[d,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[h,[p,"Barnes & Noble"],[d,b]],[/\b(tm\d{3}\w+) b/i],[h,[p,"NuVision"],[d,b]],[/\b(k88) b/i],[h,[p,"ZTE"],[d,b]],[/\b(nx\d{3}j) b/i],[h,[p,"ZTE"],[d,y]],[/\b(gen\d{3}) b.+49h/i],[h,[p,"Swiss"],[d,y]],[/\b(zur\d{3}) b/i],[h,[p,"Swiss"],[d,b]],[/\b((zeki)?tb.*\b) b/i],[h,[p,"Zeki"],[d,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],h,[d,b]],[/\b(ns-?\w{0,9}) b/i],[h,[p,"Insignia"],[d,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[h,[p,"NextBook"],[d,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],h,[d,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],h,[d,y]],[/\b(ph-1) /i],[h,[p,"Essential"],[d,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[h,[p,"Envizen"],[d,b]],[/\b(trio[-\w\. ]+) b/i],[h,[p,"MachSpeed"],[d,b]],[/\btu_(1491) b/i],[h,[p,"Rotor"],[d,b]],[/(shield[\w ]+) b/i],[h,[p,"Nvidia"],[d,b]],[/(sprint) (\w+)/i],[p,h,[d,y]],[/(kin\.[onetw]{3})/i],[[h,/\./g," "],[p,O],[d,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[h,[p,q],[d,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[h,[p,q],[d,y]],[/smart-tv.+(samsung)/i],[p,[d,k]],[/hbbtv.+maple;(\d+)/i],[[h,/^/,"SmartTV"],[p,M],[d,k]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,A],[d,k]],[/(apple) ?tv/i],[p,[h,E+" TV"],[d,k]],[/crkey/i],[[h,T+"cast"],[p,P],[d,k]],[/droid.+aft(\w+)( bui|\))/i],[h,[p,x],[d,k]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[h,[p,F],[d,k]],[/(bravia[\w ]+)( bui|\))/i],[h,[p,j],[d,k]],[/(mitv-\w{5}) bui/i],[h,[p,U],[d,k]],[/Hbbtv.*(technisat) (.*);/i],[p,h,[d,k]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[p,K],[h,K],[d,k]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[d,k]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,h,[d,g]],[/droid.+; (shield) bui/i],[h,[p,"Nvidia"],[d,g]],[/(playstation [345portablevi]+)/i],[h,[p,j],[d,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[h,[p,O],[d,g]],[/((pebble))app/i],[p,h,[d,w]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[h,[p,E],[d,w]],[/droid.+; (glass) \d/i],[h,[p,P],[d,w]],[/droid.+; (wt63?0{2,3})\)/i],[h,[p,q],[d,w]],[/(quest( 2| pro)?)/i],[h,[p,z],[d,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[d,_]],[/(aeobc)\b/i],[h,[p,x],[d,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[h,[d,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[h,[d,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[d,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[d,y]],[/(android[-\w\. ]{0,9});.+buil/i],[h,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[v,[f,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[v,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[f,v],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[v,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,v],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[f,[v,Y,X]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[f,"Windows"],[v,Y,X]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[v,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,B],[v,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[v,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[f,v],[/\(bb(10);/i],[v,[f,I]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[v,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[v,[f,N+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[v,[f,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[v,[f,"watchOS"]],[/crkey\/([\d\.]+)/i],[v,[f,T+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[f,V],v],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,v],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],v],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[f,v]]},$=function e(t,n){if(typeof t===u&&(n=t,t=a),!(this instanceof e))return new e(t,n).getResult();var r=typeof i!==s&&i.navigator?i.navigator:a,g=t||(r&&r.userAgent?r.userAgent:""),k=r&&r.userAgentData?r.userAgentData:a,w=n?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2===0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(J,n):J,_=r&&r.userAgent==g;return this.getBrowser=function(){var e,t={};return t[f]=a,t[v]=a,Q.call(t,g,w.browser),t[l]=typeof(e=t[v])===c?e.replace(/[^\d\.]/g,"").split(".")[0]:a,_&&r&&r.brave&&typeof r.brave.isBrave==o&&(t[f]="Brave"),t},this.getCPU=function(){var e={};return e[m]=a,Q.call(e,g,w.cpu),e},this.getDevice=function(){var e={};return e[p]=a,e[h]=a,e[d]=a,Q.call(e,g,w.device),_&&!e[d]&&k&&k.mobile&&(e[d]=y),_&&"Macintosh"==e[h]&&r&&typeof r.standalone!==s&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[h]="iPad",e[d]=b),e},this.getEngine=function(){var e={};return e[f]=a,e[v]=a,Q.call(e,g,w.engine),e},this.getOS=function(){var e={};return e[f]=a,e[v]=a,Q.call(e,g,w.os),_&&!e[f]&&k&&"Unknown"!=k.platform&&(e[f]=k.platform.replace(/chrome os/i,V).replace(/macos/i,B)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return g},this.setUA=function(e){return g=typeof e===c&&e.length>350?K(e,350):e,this},this.setUA(g),this};$.VERSION="1.0.36",$.BROWSER=W([f,v,l]),$.CPU=W([m]),$.DEVICE=W([h,p,d,g,y,k,b,w,_]),$.ENGINE=$.OS=W([f,v]),typeof t!==s?(e.exports&&(t=e.exports=$),t.UAParser=$):n.amdO?(r=function(){return $}.call(t,n,t,e))===a||(e.exports=r):typeof i!==s&&(i.UAParser=$);var Z=typeof i!==s&&(i.jQuery||i.Zepto);if(Z&&!Z.ua){var ee=new $;Z.ua=ee.getResult(),Z.ua.get=function(){return ee.getUA()},Z.ua.set=function(e){ee.setUA(e);var t=ee.getResult();for(var n in t)Z.ua[n]=t[n]}}}("object"===typeof window?window:this)},610:function(e,t,n){var r=n(669),i=n(560),a=i;a.v1=r,a.v4=i,e.exports=a},874:function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},180:function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},669:function(e,t,n){var r,i,a=n(180),o=n(874),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],h=(e=e||{}).node||r,f=void 0!==e.clockseq?e.clockseq:i;if(null==h||null==f){var d=a();null==h&&(h=r=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==f&&(f=i=16383&(d[6]<<8|d[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,m=p-s+(v-u)/1e4;if(m<0&&void 0===e.clockseq&&(f=f+1&16383),(m<0||p>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,u=v,i=f;var g=(1e4*(268435455&(p+=122192928e5))+v)%4294967296;l[c++]=g>>>24&255,l[c++]=g>>>16&255,l[c++]=g>>>8&255,l[c++]=255&g;var y=p/4294967296*1e4&268435455;l[c++]=y>>>8&255,l[c++]=255&y,l[c++]=y>>>24&15|16,l[c++]=y>>>16&255,l[c++]=f>>>8|128,l[c++]=255&f;for(var b=0;b<6;++b)l[c+b]=h[b];return t||o(l)}},560:function(e,t,n){var r=n(180),i=n(874);e.exports=function(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var s=0;s<16;++s)t[a+s]=o[s];return t||i(o)}},391:function(e){"use strict";var t=function(){};e.exports=t}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.amdO={},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Hr},SDK_VERSION:function(){return ga},_DEFAULT_ENTRY_NAME:function(){return ia},_addComponent:function(){return ua},_addOrOverwriteComponent:function(){return ca},_apps:function(){return oa},_clearComponents:function(){return da},_components:function(){return sa},_getProvider:function(){return ha},_registerComponent:function(){return la},_removeServiceInstance:function(){return fa},deleteApp:function(){return wa},getApp:function(){return ba},getApps:function(){return ka},initializeApp:function(){return ya},onLog:function(){return Ea},registerVersion:function(){return xa},setLogLevel:function(){return Sa}});var t=n(791),r=n.t(t,2),i=n(164),a=n.t(i,2);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function s(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=s(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var u=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=s(e))&&(r&&(r+=" "),r+=t);return r},c={1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",10:"ten",11:"eleven",12:"twelve",13:"thirteen",14:"fourteen",15:"fifteen",16:"sixteen"};function l(e){var t=typeof e;return"string"===t||"number"===t?c[e]||e:""}var h=function(e,t){return e&&t},f=function(e,t){return e&&!0!==e&&e+" "+t},d=function(e,t){return e&&(!0===e?t:e+" "+t)},p=function(e,t){return e&&!0!==e?e.replace("large screen","large-screen").replace(/ vertically/g,"-vertically").split(" ").map((function(e){return e.replace("-"," ")+" "+t})).join(" "):null},v=function(e){return"justified"===e?"justified":f(e,"aligned")},m=function(e){return f(e,"aligned")},g=function(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=!1),n&&"equal"===e)return"equal width";var r=typeof e;return"string"!==r&&"number"!==r||!t?l(e):l(e)+" "+t},y=function(e,t){var n=e.handledProps,r=void 0===n?[]:n;return Object.keys(t).reduce((function(e,n){return"childKey"===n||-1===r.indexOf(n)&&(e[n]=t[n]),e}),{})};var b=function(e,t,n){var r=e.defaultProps,i=void 0===r?{}:r;if(t.as&&t.as!==i.as)return t.as;if(n){var a=n();if(a)return a}return t.href?"a":i.as||"div"};var k=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var w=function(){this.__data__=[],this.size=0};var _=function(e,t){return e===t||e!==e&&t!==t};var x=function(e,t){for(var n=e.length;n--;)if(_(e[n][0],t))return n;return-1},E=Array.prototype.splice;var S=function(e){var t=this.__data__,n=x(t,e);return!(n<0)&&(n==t.length-1?t.pop():E.call(t,n,1),--this.size,!0)};var I=function(e){var t=this.__data__,n=x(t,e);return n<0?void 0:t[n][1]};var C=function(e){return x(this.__data__,e)>-1};var T=function(e,t){var n=this.__data__,r=x(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function N(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}N.prototype.clear=w,N.prototype.delete=S,N.prototype.get=I,N.prototype.has=C,N.prototype.set=T;var P=N;var R=function(){this.__data__=new P,this.size=0};var A=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var O=function(e){return this.__data__.get(e)};var D=function(e){return this.__data__.has(e)},L="object"==typeof global&&global&&global.Object===Object&&global,M="object"==typeof self&&self&&self.Object===Object&&self,F=L||M||Function("return this")(),j=F.Symbol,U=Object.prototype,q=U.hasOwnProperty,z=U.toString,V=j?j.toStringTag:void 0;var B=function(e){var t=q.call(e,V),n=e[V];try{e[V]=void 0;var r=!0}catch(a){}var i=z.call(e);return r&&(t?e[V]=n:delete e[V]),i},W=Object.prototype.toString;var H=function(e){return W.call(e)},G=j?j.toStringTag:void 0;var K=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":G&&G in Object(e)?B(e):H(e)};var Q=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var Y=function(e){if(!Q(e))return!1;var t=K(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},X=F["__core-js_shared__"],J=function(){var e=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var $=function(e){return!!J&&J in e},Z=Function.prototype.toString;var ee=function(e){if(null!=e){try{return Z.call(e)}catch(t){}try{return e+""}catch(t){}}return""},te=/^\[object .+?Constructor\]$/,ne=Function.prototype,re=Object.prototype,ie=ne.toString,ae=re.hasOwnProperty,oe=RegExp("^"+ie.call(ae).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var se=function(e){return!(!Q(e)||$(e))&&(Y(e)?oe:te).test(ee(e))};var ue=function(e,t){return null==e?void 0:e[t]};var ce=function(e,t){var n=ue(e,t);return se(n)?n:void 0},le=ce(F,"Map"),he=ce(Object,"create");var fe=function(){this.__data__=he?he(null):{},this.size=0};var de=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},pe=Object.prototype.hasOwnProperty;var ve=function(e){var t=this.__data__;if(he){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return pe.call(t,e)?t[e]:void 0},me=Object.prototype.hasOwnProperty;var ge=function(e){var t=this.__data__;return he?void 0!==t[e]:me.call(t,e)};var ye=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=he&&void 0===t?"__lodash_hash_undefined__":t,this};function be(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}be.prototype.clear=fe,be.prototype.delete=de,be.prototype.get=ve,be.prototype.has=ge,be.prototype.set=ye;var ke=be;var we=function(){this.size=0,this.__data__={hash:new ke,map:new(le||P),string:new ke}};var _e=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var xe=function(e,t){var n=e.__data__;return _e(t)?n["string"==typeof t?"string":"hash"]:n.map};var Ee=function(e){var t=xe(this,e).delete(e);return this.size-=t?1:0,t};var Se=function(e){return xe(this,e).get(e)};var Ie=function(e){return xe(this,e).has(e)};var Ce=function(e,t){var n=xe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Te(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Te.prototype.clear=we,Te.prototype.delete=Ee,Te.prototype.get=Se,Te.prototype.has=Ie,Te.prototype.set=Ce;var Ne=Te;var Pe=function(e,t){var n=this.__data__;if(n instanceof P){var r=n.__data__;if(!le||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ne(r)}return n.set(e,t),this.size=n.size,this};function Re(e){var t=this.__data__=new P(e);this.size=t.size}Re.prototype.clear=R,Re.prototype.delete=A,Re.prototype.get=O,Re.prototype.has=D,Re.prototype.set=Pe;var Ae=Re;var Oe=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var De=function(e){return this.__data__.has(e)};function Le(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Ne;++t<n;)this.add(e[t])}Le.prototype.add=Le.prototype.push=Oe,Le.prototype.has=De;var Me=Le;var Fe=function(e,t){return e.has(t)};var je=function(e,t,n,r,i,a){var o=1&n,s=e.length,u=t.length;if(s!=u&&!(o&&u>s))return!1;var c=a.get(e),l=a.get(t);if(c&&l)return c==t&&l==e;var h=-1,f=!0,d=2&n?new Me:void 0;for(a.set(e,t),a.set(t,e);++h<s;){var p=e[h],v=t[h];if(r)var m=o?r(v,p,h,t,e,a):r(p,v,h,e,t,a);if(void 0!==m){if(m)continue;f=!1;break}if(d){if(!k(t,(function(e,t){if(!Fe(d,t)&&(p===e||i(p,e,n,r,a)))return d.push(t)}))){f=!1;break}}else if(p!==v&&!i(p,v,n,r,a)){f=!1;break}}return a.delete(e),a.delete(t),f},Ue=F.Uint8Array;var qe=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};var ze=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Ve=j?j.prototype:void 0,Be=Ve?Ve.valueOf:void 0;var We=function(e,t,n,r,i,a,o){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new Ue(e),new Ue(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return _(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=qe;case"[object Set]":var u=1&r;if(s||(s=ze),e.size!=t.size&&!u)return!1;var c=o.get(e);if(c)return c==t;r|=2,o.set(e,t);var l=je(s(e),s(t),r,i,a,o);return o.delete(e),l;case"[object Symbol]":if(Be)return Be.call(e)==Be.call(t)}return!1};var He=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},Ge=Array.isArray;var Ke=function(e,t,n){var r=t(e);return Ge(e)?r:He(r,n(e))};var Qe=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a};var Ye=function(){return[]},Xe=Object.prototype.propertyIsEnumerable,Je=Object.getOwnPropertySymbols,$e=Je?function(e){return null==e?[]:(e=Object(e),Qe(Je(e),(function(t){return Xe.call(e,t)})))}:Ye;var Ze=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var et=function(e){return null!=e&&"object"==typeof e};var tt=function(e){return et(e)&&"[object Arguments]"==K(e)},nt=Object.prototype,rt=nt.hasOwnProperty,it=nt.propertyIsEnumerable,at=tt(function(){return arguments}())?tt:function(e){return et(e)&&rt.call(e,"callee")&&!it.call(e,"callee")},ot=at;var st=function(){return!1},ut="object"==typeof exports&&exports&&!exports.nodeType&&exports,ct=ut&&"object"==typeof module&&module&&!module.nodeType&&module,lt=ct&&ct.exports===ut?F.Buffer:void 0,ht=(lt?lt.isBuffer:void 0)||st,ft=/^(?:0|[1-9]\d*)$/;var dt=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ft.test(e))&&e>-1&&e%1==0&&e<t};var pt=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},vt={};vt["[object Float32Array]"]=vt["[object Float64Array]"]=vt["[object Int8Array]"]=vt["[object Int16Array]"]=vt["[object Int32Array]"]=vt["[object Uint8Array]"]=vt["[object Uint8ClampedArray]"]=vt["[object Uint16Array]"]=vt["[object Uint32Array]"]=!0,vt["[object Arguments]"]=vt["[object Array]"]=vt["[object ArrayBuffer]"]=vt["[object Boolean]"]=vt["[object DataView]"]=vt["[object Date]"]=vt["[object Error]"]=vt["[object Function]"]=vt["[object Map]"]=vt["[object Number]"]=vt["[object Object]"]=vt["[object RegExp]"]=vt["[object Set]"]=vt["[object String]"]=vt["[object WeakMap]"]=!1;var mt=function(e){return et(e)&&pt(e.length)&&!!vt[K(e)]};var gt=function(e){return function(t){return e(t)}},yt="object"==typeof exports&&exports&&!exports.nodeType&&exports,bt=yt&&"object"==typeof module&&module&&!module.nodeType&&module,kt=bt&&bt.exports===yt&&L.process,wt=function(){try{var e=bt&&bt.require&&bt.require("util").types;return e||kt&&kt.binding&&kt.binding("util")}catch(t){}}(),_t=wt&&wt.isTypedArray,xt=_t?gt(_t):mt,Et=Object.prototype.hasOwnProperty;var St=function(e,t){var n=Ge(e),r=!n&&ot(e),i=!n&&!r&&ht(e),a=!n&&!r&&!i&&xt(e),o=n||r||i||a,s=o?Ze(e.length,String):[],u=s.length;for(var c in e)!t&&!Et.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||dt(c,u))||s.push(c);return s},It=Object.prototype;var Ct=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||It)};var Tt=function(e,t){return function(n){return e(t(n))}},Nt=Tt(Object.keys,Object),Pt=Object.prototype.hasOwnProperty;var Rt=function(e){if(!Ct(e))return Nt(e);var t=[];for(var n in Object(e))Pt.call(e,n)&&"constructor"!=n&&t.push(n);return t};var At=function(e){return null!=e&&pt(e.length)&&!Y(e)};var Ot=function(e){return At(e)?St(e):Rt(e)};var Dt=function(e){return Ke(e,Ot,$e)},Lt=Object.prototype.hasOwnProperty;var Mt=function(e,t,n,r,i,a){var o=1&n,s=Dt(e),u=s.length;if(u!=Dt(t).length&&!o)return!1;for(var c=u;c--;){var l=s[c];if(!(o?l in t:Lt.call(t,l)))return!1}var h=a.get(e),f=a.get(t);if(h&&f)return h==t&&f==e;var d=!0;a.set(e,t),a.set(t,e);for(var p=o;++c<u;){var v=e[l=s[c]],m=t[l];if(r)var g=o?r(m,v,l,t,e,a):r(v,m,l,e,t,a);if(!(void 0===g?v===m||i(v,m,n,r,a):g)){d=!1;break}p||(p="constructor"==l)}if(d&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(d=!1)}return a.delete(e),a.delete(t),d},Ft=ce(F,"DataView"),jt=ce(F,"Promise"),Ut=ce(F,"Set"),qt=ce(F,"WeakMap"),zt="[object Map]",Vt="[object Promise]",Bt="[object Set]",Wt="[object WeakMap]",Ht="[object DataView]",Gt=ee(Ft),Kt=ee(le),Qt=ee(jt),Yt=ee(Ut),Xt=ee(qt),Jt=K;(Ft&&Jt(new Ft(new ArrayBuffer(1)))!=Ht||le&&Jt(new le)!=zt||jt&&Jt(jt.resolve())!=Vt||Ut&&Jt(new Ut)!=Bt||qt&&Jt(new qt)!=Wt)&&(Jt=function(e){var t=K(e),n="[object Object]"==t?e.constructor:void 0,r=n?ee(n):"";if(r)switch(r){case Gt:return Ht;case Kt:return zt;case Qt:return Vt;case Yt:return Bt;case Xt:return Wt}return t});var $t=Jt,Zt="[object Arguments]",en="[object Array]",tn="[object Object]",nn=Object.prototype.hasOwnProperty;var rn=function(e,t,n,r,i,a){var o=Ge(e),s=Ge(t),u=o?en:$t(e),c=s?en:$t(t),l=(u=u==Zt?tn:u)==tn,h=(c=c==Zt?tn:c)==tn,f=u==c;if(f&&ht(e)){if(!ht(t))return!1;o=!0,l=!1}if(f&&!l)return a||(a=new Ae),o||xt(e)?je(e,t,n,r,i,a):We(e,t,u,n,r,i,a);if(!(1&n)){var d=l&&nn.call(e,"__wrapped__"),p=h&&nn.call(t,"__wrapped__");if(d||p){var v=d?e.value():e,m=p?t.value():t;return a||(a=new Ae),i(v,m,n,r,a)}}return!!f&&(a||(a=new Ae),Mt(e,t,n,r,i,a))};var an=function e(t,n,r,i,a){return t===n||(null==t||null==n||!et(t)&&!et(n)?t!==t&&n!==n:rn(t,n,r,i,e,a))};var on=function(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var u=(s=n[i])[0],c=e[u],l=s[1];if(o&&s[2]){if(void 0===c&&!(u in e))return!1}else{var h=new Ae;if(r)var f=r(c,l,u,e,t,h);if(!(void 0===f?an(l,c,3,r,h):f))return!1}}return!0};var sn=function(e){return e===e&&!Q(e)};var un=function(e){for(var t=Ot(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,sn(i)]}return t};var cn=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var ln=function(e){var t=un(e);return 1==t.length&&t[0][2]?cn(t[0][0],t[0][1]):function(n){return n===e||on(n,e,t)}};var hn=function(e){return"symbol"==typeof e||et(e)&&"[object Symbol]"==K(e)},fn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dn=/^\w*$/;var pn=function(e,t){if(Ge(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!hn(e))||(dn.test(e)||!fn.test(e)||null!=t&&e in Object(t))};function vn(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(vn.Cache||Ne),n}vn.Cache=Ne;var mn=vn;var gn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yn=/\\(\\)?/g,bn=function(e){var t=mn(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(gn,(function(e,n,r,i){t.push(r?i.replace(yn,"$1"):n||e)})),t}));var kn=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},wn=j?j.prototype:void 0,_n=wn?wn.toString:void 0;var xn=function e(t){if("string"==typeof t)return t;if(Ge(t))return kn(t,e)+"";if(hn(t))return _n?_n.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var En=function(e){return null==e?"":xn(e)};var Sn=function(e,t){return Ge(e)?e:pn(e,t)?[e]:bn(En(e))};var In=function(e){if("string"==typeof e||hn(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};var Cn=function(e,t){for(var n=0,r=(t=Sn(t,e)).length;null!=e&&n<r;)e=e[In(t[n++])];return n&&n==r?e:void 0};var Tn=function(e,t,n){var r=null==e?void 0:Cn(e,t);return void 0===r?n:r};var Nn=function(e,t){return null!=e&&t in Object(e)};var Pn=function(e,t,n){for(var r=-1,i=(t=Sn(t,e)).length,a=!1;++r<i;){var o=In(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&pt(i)&&dt(o,i)&&(Ge(e)||ot(e))};var Rn=function(e,t){return null!=e&&Pn(e,t,Nn)};var An=function(e,t){return pn(e)&&sn(t)?cn(In(e),t):function(n){var r=Tn(n,e);return void 0===r&&r===t?Rn(n,e):an(t,r,3)}};var On=function(e){return e};var Dn=function(e){return function(t){return null==t?void 0:t[e]}};var Ln=function(e){return function(t){return Cn(t,e)}};var Mn=function(e){return pn(e)?Dn(In(e)):Ln(e)};var Fn=function(e){return"function"==typeof e?e:null==e?On:"object"==typeof e?Ge(e)?An(e[0],e[1]):ln(e):Mn(e)};var jn=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var u=o[e?s:++i];if(!1===n(a[u],u,a))break}return t}}();var Un=function(e,t){return e&&jn(e,t,Ot)};var qn=function(e,t){return function(n,r){if(null==n)return n;if(!At(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}(Un);var zn=function(e,t){var n;return qn(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n};var Vn=function(e,t,n){if(!Q(n))return!1;var r=typeof t;return!!("number"==r?At(n)&&dt(t,n.length):"string"==r&&t in n)&&_(n[t],e)};var Bn=function(e,t,n){var r=Ge(e)?k:zn;return n&&Vn(e,t,n)&&(t=void 0),r(e,Fn(t,3))},Wn=function(e){return null===e||void 0===e||Array.isArray(e)&&0===e.length};function Hn(e){var n=e.children,r=e.className,i=e.compact,a=e.content,s=e.horizontal,c=e.piled,l=e.raised,f=e.size,d=e.stacked,p=u("ui",f,h(i,"compact"),h(s,"horizontal"),h(c,"piled"),h(l,"raised"),h(d,"stacked"),"segments",r),v=y(Hn,e),m=b(Hn,e);return t.createElement(m,o({},v,{className:p}),Wn(n)?a:n)}Hn.handledProps=["as","children","className","compact","content","horizontal","piled","raised","size","stacked"],Hn.propTypes={};var Gn=Hn;function Kn(e){var n=e.children,r=e.className,i=e.content,a=u("inline",r),s=y(Kn,e),c=b(Kn,e);return t.createElement(c,o({},s,{className:a}),Wn(n)?i:n)}Kn.handledProps=["as","children","className","content"],Kn.propTypes={};var Qn=Kn;function Yn(e){var n=e.attached,r=e.basic,i=e.children,a=e.circular,s=e.className,c=e.clearing,l=e.color,p=e.compact,m=e.content,g=e.disabled,k=e.floated,w=e.inverted,_=e.loading,x=e.placeholder,E=e.padded,S=e.piled,I=e.raised,C=e.secondary,T=e.size,N=e.stacked,P=e.tertiary,R=e.textAlign,A=e.vertical,O=u("ui",l,T,h(r,"basic"),h(a,"circular"),h(c,"clearing"),h(p,"compact"),h(g,"disabled"),h(w,"inverted"),h(_,"loading"),h(x,"placeholder"),h(S,"piled"),h(I,"raised"),h(C,"secondary"),h(N,"stacked"),h(P,"tertiary"),h(A,"vertical"),d(n,"attached"),d(E,"padded"),v(R),f(k,"floated"),"segment",s),D=y(Yn,e),L=b(Yn,e);return t.createElement(L,o({},D,{className:O}),Wn(i)?m:i)}Yn.handledProps=["as","attached","basic","children","circular","className","clearing","color","compact","content","disabled","floated","inverted","loading","padded","piled","placeholder","raised","secondary","size","stacked","tertiary","textAlign","vertical"],Yn.Group=Gn,Yn.Inline=Qn,Yn.propTypes={};var Xn=Yn;function Jn(e){var n=e.children,r=e.className,i=e.content,a=e.fluid,s=e.text,c=e.textAlign,l=u("ui",h(s,"text"),h(a,"fluid"),v(c),"container",r),f=y(Jn,e),d=b(Jn,e);return t.createElement(d,o({},f,{className:l}),Wn(n)?i:n)}Jn.handledProps=["as","children","className","content","fluid","text","textAlign"],Jn.propTypes={};var $n=Jn,Zn=n(173);function er(e){if(Array.isArray(e))return e}function tr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nr(e,t){if(e){if("string"===typeof e)return tr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tr(e,t):void 0}}function rr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ir(e,t){return er(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||nr(e,t)||rr()}function ar(e){return ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ar(e)}function or(e){var t=function(e,t){if("object"!==ar(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ar(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ar(t)?t:String(t)}function sr(e,t,n){return(t=or(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ur(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,or(r.key),r)}}function lr(e,t,n){return t&&cr(e.prototype,t),n&&cr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function hr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=nr(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function fr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dr(e,t){return dr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dr(e,t)}function pr(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dr(e,t)}function vr(e){return vr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vr(e)}function mr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function gr(e){var t=mr();return function(){var n,r=vr(e);if(t){var i=vr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===ar(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fr(e)}(this,n)}}function yr(e,t,n){return yr=mr()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&dr(i,n.prototype),i},yr.apply(null,arguments)}function br(e){var t="function"===typeof Map?new Map:void 0;return br=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"===typeof e}}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return yr(e,arguments,vr(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),dr(n,e)},br(e)}var kr=!1,wr=!1,_r="${JSCORE_VERSION}",xr=function(e,t){if(!e)throw Er(t)},Er=function(e){return new Error("Firebase Database ("+_r+") INTERNAL ASSERT FAILED: "+e)},Sr=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ir={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,h=(3&a)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Sr(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new Cr;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Cr=function(e){pr(n,e);var t=gr(n);function n(){var e;return ur(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return lr(n)}(br(Error)),Tr=function(e){var t=Sr(e);return Ir.encodeByteArray(t,!0)},Nr=function(e){return Tr(e).replace(/\./g,"")},Pr=function(e){try{return Ir.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Rr(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Rr(e[n],t[n]));return e}var Ar=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Or=function(){try{return Ar()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/notebook",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDE-Cl5RxG1byLc4pjoBxD3aXWO3wi43P8",REACT_APP_FIREBASE_AUTH_DOMAIN:"diary-6211f.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"diary-6211f",REACT_APP_FIREBASE_STORAGE_BUCKET:"diary-6211f.appspot.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"765031385372",REACT_APP_FIREBASE_APP_ID:"1:765031385372:web:9b72a3164df87c4c9712d9",REACT_APP_FIREBASE_MEASUMENT_ID:"G-5VWBRJH7V4"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&Pr(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Dr=function(){var e;return null===(e=Or())||void 0===e?void 0:e.config},Lr=function(){function e(){var t=this;ur(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return lr(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Mr(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Nr(JSON.stringify({alg:"none",type:"JWT"})),Nr(JSON.stringify(a)),""].join(".")}function Fr(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function jr(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fr())}function Ur(){var e,t=null===(e=Or())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function qr(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function zr(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Vr(){var e=Fr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Br(){return!0===kr||!0===wr}function Wr(){try{return"object"===typeof indexedDB}catch(e){return!1}}var Hr=function(e){pr(n,e);var t=gr(n);function n(e,r,i){var a;return ur(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(fr(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(fr(a),Gr.prototype.create),a}return lr(n)}(br(Error)),Gr=function(){function e(t,n,r){ur(this,e),this.service=t,this.serviceName=n,this.errors=r}return lr(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Kr,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Hr(n,a,t)}}]),e}();var Kr=/\{\$([^}]+)}/g;function Qr(e){return JSON.parse(e)}function Yr(e){return JSON.stringify(e)}var Xr=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=Qr(Pr(a[0])||""),n=Qr(Pr(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function Jr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function $r(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Zr(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ei(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function ti(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(ni(s)&&ni(u)){if(!ti(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var h=l[c];if(!n.includes(h))return!1}return!0}function ni(e){return null!==e&&"object"===typeof e}function ri(e){for(var t=[],n=function(){var e=ir(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function ii(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=ir(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function ai(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var oi=function(){function e(){ur(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return lr(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,c=this.chain_[0],l=this.chain_[1],h=this.chain_[2],f=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=f^l&(h^f),u=1518500249):(s=l^h^f,u=1859775393):p<60?(s=l&h|f&(l|h),u=2400959708):(s=l^h^f,u=3395469782);var v=(c<<5|c>>>27)+s+d+u+n[p]&4294967295;d=f,f=h,h=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function si(e,t){var n=new ui(e,t);return n.subscribe.bind(n)}var ui=function(){function e(t,n){var r=this;ur(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return lr(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=hr(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=ci),void 0===r.error&&(r.error=ci),void 0===r.complete&&(r.complete=ci);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function ci(){}var li=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function hi(e,t){return"".concat(e," failed: ").concat(t," argument ")}function fi(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(hi(e,t)+"must be a valid function.")}function di(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(hi(e,t)+"must be a valid context object.")}var pi=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function vi(e){return e&&e._delegate?e._delegate:e}function mi(){mi=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof g?t:g,o=Object.create(a.prototype),s=new P(r||[]);return i(o,"_invoke",{value:I(e,n,s)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",m={};function g(){}function y(){}function b(){}var k={};c(k,o,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(R([])));_&&_!==n&&r.call(_,o)&&(k=_);var x=b.prototype=g.prototype=Object.create(k);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,s){var u=h(e[i],e,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==ar(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(l).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function I(t,n,r){var i=f;return function(a,o){if(i===p)throw new Error("Generator is already running");if(i===v){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var u=C(s,r);if(u){if(u===m)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var c=h(t,n,r);if("normal"===c.type){if(i=r.done?v:d,c.arg===m)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=v,r.method="throw",r.arg=c.arg)}}}function C(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=h(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function R(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(ar(t)+" is not iterable")}return y.prototype=b,i(x,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},E(S.prototype),c(S.prototype,s,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new S(l(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(x),c(x,u,"Generator"),c(x,o,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=R,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;N(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:R(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function gi(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function yi(e){return function(e){if(Array.isArray(e))return tr(e)}(e)||gi(e)||nr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bi(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(cq){return void n(cq)}s.done?t(u):Promise.resolve(u).then(r,i)}function ki(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){bi(a,r,i,o,s,"next",e)}function s(e){bi(a,r,i,o,s,"throw",e)}o(void 0)}))}}var wi=function(){function e(t,n,r){ur(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return lr(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),_i="[DEFAULT]",xi=function(){function e(t,n){ur(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return lr(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Lr;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:_i})}catch(u){}var t,n=hr(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=ir(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=ki(mi().mark((function e(){var t;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(yi(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),yi(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=hr(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=ir(i.value,2),u=s[0],c=s[1];r===this.normalizeInstanceIdentifier(u)&&c.resolve(a)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=hr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(WD){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===_i?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(WD){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i;return this.component?this.component.multipleInstances?e:_i:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ei,Si,Ii=function(){function e(t){ur(this,e),this.name=t,this.providers=new Map}return lr(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new xi(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Ci=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Si||(Si={}));var Ti={debug:Si.DEBUG,verbose:Si.VERBOSE,info:Si.INFO,warn:Si.WARN,error:Si.ERROR,silent:Si.SILENT},Ni=Si.INFO,Pi=(sr(Ei={},Si.DEBUG,"log"),sr(Ei,Si.VERBOSE,"log"),sr(Ei,Si.INFO,"info"),sr(Ei,Si.WARN,"warn"),sr(Ei,Si.ERROR,"error"),Ei),Ri=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Pi[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Ai=function(){function e(t){ur(this,e),this.name=t,this._logLevel=Ni,this._logHandler=Ri,this._userLogHandler=null,Ci.push(this)}return lr(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Si))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ti[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Si.DEBUG].concat(t)),this._logHandler.apply(this,[this,Si.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Si.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Si.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Si.INFO].concat(t)),this._logHandler.apply(this,[this,Si.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Si.WARN].concat(t)),this._logHandler.apply(this,[this,Si.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Si.ERROR].concat(t)),this._logHandler.apply(this,[this,Si.ERROR].concat(t))}}]),e}();function Oi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Di(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oi(Object(n),!0).forEach((function(t){sr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Li,Mi,Fi=function(e,t){return t.some((function(t){return e instanceof t}))};var ji=new WeakMap,Ui=new WeakMap,qi=new WeakMap,zi=new WeakMap,Vi=new WeakMap;var Bi={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ui.get(e);if("objectStoreNames"===t)return e.objectStoreNames||qi.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gi(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Wi(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Mi||(Mi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ki(this),n),Gi(ji.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Gi(e.apply(Ki(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Ki(this),t].concat(r));return qi.set(a,t.sort?t.sort():[t]),Gi(a)}}function Hi(e){return"function"===typeof e?Wi(e):(e instanceof IDBTransaction&&function(e){if(!Ui.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Ui.set(e,t)}}(e),Fi(e,Li||(Li=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Bi):e)}function Gi(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Gi(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&ji.set(t,e)})).catch((function(){})),Vi.set(t,e),t}(e);if(zi.has(e))return zi.get(e);var t=Hi(e);return t!==e&&(zi.set(e,t),Vi.set(t,e)),t}var Ki=function(e){return Vi.get(e)};var Qi,Yi,Xi=["get","getKey","getAll","getAllKeys","count"],Ji=["put","add","delete","clear"],$i=new Map;function Zi(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if($i.get(t))return $i.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Ji.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Xi.includes(n))){var a=function(){var e=ki(mi().mark((function e(t){var a,o,s,u,c,l,h=arguments;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=h.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=h[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return $i.set(t,a),a}}}Bi=function(e){return Di(Di({},e),{},{get:function(t,n,r){return Zi(t,n)||e.get(t,n,r)},has:function(t,n){return!!Zi(t,n)||e.has(t,n)}})}(Bi);var ea=function(){function e(t){ur(this,e),this.container=t}return lr(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ta="@firebase/app",na="0.9.13",ra=new Ai("@firebase/app"),ia="[DEFAULT]",aa=(sr(Qi={},ta,"fire-core"),sr(Qi,"@firebase/app-compat","fire-core-compat"),sr(Qi,"@firebase/analytics","fire-analytics"),sr(Qi,"@firebase/analytics-compat","fire-analytics-compat"),sr(Qi,"@firebase/app-check","fire-app-check"),sr(Qi,"@firebase/app-check-compat","fire-app-check-compat"),sr(Qi,"@firebase/auth","fire-auth"),sr(Qi,"@firebase/auth-compat","fire-auth-compat"),sr(Qi,"@firebase/database","fire-rtdb"),sr(Qi,"@firebase/database-compat","fire-rtdb-compat"),sr(Qi,"@firebase/functions","fire-fn"),sr(Qi,"@firebase/functions-compat","fire-fn-compat"),sr(Qi,"@firebase/installations","fire-iid"),sr(Qi,"@firebase/installations-compat","fire-iid-compat"),sr(Qi,"@firebase/messaging","fire-fcm"),sr(Qi,"@firebase/messaging-compat","fire-fcm-compat"),sr(Qi,"@firebase/performance","fire-perf"),sr(Qi,"@firebase/performance-compat","fire-perf-compat"),sr(Qi,"@firebase/remote-config","fire-rc"),sr(Qi,"@firebase/remote-config-compat","fire-rc-compat"),sr(Qi,"@firebase/storage","fire-gcs"),sr(Qi,"@firebase/storage-compat","fire-gcs-compat"),sr(Qi,"@firebase/firestore","fire-fst"),sr(Qi,"@firebase/firestore-compat","fire-fst-compat"),sr(Qi,"fire-js","fire-js"),sr(Qi,"firebase","fire-js-all"),Qi),oa=new Map,sa=new Map;function ua(e,t){try{e.container.addComponent(t)}catch(n){ra.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ca(e,t){e.container.addOrOverwriteComponent(t)}function la(e){var t=e.name;if(sa.has(t))return ra.debug("There were multiple attempts to register component ".concat(t,".")),!1;sa.set(t,e);var n,r=hr(oa.values());try{for(r.s();!(n=r.n()).done;){ua(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function ha(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function fa(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ia;ha(e,t).clearInstance(n)}function da(){sa.clear()}var pa=(sr(Yi={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),sr(Yi,"bad-app-name","Illegal App name: '{$appName}"),sr(Yi,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),sr(Yi,"app-deleted","Firebase App named '{$appName}' already deleted"),sr(Yi,"no-options","Need to provide options, when not being deployed to hosting via source."),sr(Yi,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),sr(Yi,"invalid-log-argument","First argument to `onLog` must be null or a function."),sr(Yi,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),sr(Yi,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),sr(Yi,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),sr(Yi,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Yi),va=new Gr("app","Firebase",pa),ma=function(){function e(t,n,r){var i=this;ur(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wi("app",(function(){return i}),"PUBLIC"))}return lr(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw va.create("app-deleted",{appName:this._name})}}]),e}(),ga="9.23.0";function ya(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:ia,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw va.create("bad-app-name",{appName:String(i)});if(n||(n=Dr()),!n)throw va.create("no-options");var a=oa.get(i);if(a){if(ti(n,a.options)&&ti(r,a.config))return a;throw va.create("duplicate-app",{appName:i})}var o,s=new Ii(i),u=hr(sa.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(h){u.e(h)}finally{u.f()}var l=new ma(n,r,s);return oa.set(i,l),l}function ba(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ia,t=oa.get(e);if(!t&&e===ia&&Dr())return ya();if(!t)throw va.create("no-app",{appName:e});return t}function ka(){return Array.from(oa.values())}function wa(e){return _a.apply(this,arguments)}function _a(){return _a=ki(mi().mark((function e(t){var n;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!oa.has(n)){e.next=6;break}return oa.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),_a.apply(this,arguments)}function xa(e,t,n){var r,i=null!==(r=aa[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ra.warn(s.join(" "))}la(new wi("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Ea(e,t){if(null!==e&&"function"!==typeof e)throw va.create("invalid-log-argument");!function(e,t){var n,r=hr(Ci);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Ti[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Si[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Sa(e){var t;t=e,Ci.forEach((function(e){e.setLogLevel(t)}))}var Ia="firebase-heartbeat-database",Ca=1,Ta="firebase-heartbeat-store",Na=null;function Pa(){return Na||(Na=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Gi(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Gi(s.result),e.oldVersion,e.newVersion,Gi(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(Ia,Ca,{upgrade:function(e,t){if(0===t)e.createObjectStore(Ta)}}).catch((function(e){throw va.create("idb-open",{originalErrorMessage:e.message})}))),Na}function Ra(e){return Aa.apply(this,arguments)}function Aa(){return Aa=ki(mi().mark((function e(t){var n,r,i;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pa();case 3:return n=e.sent,e.next=6,n.transaction(Ta).objectStore(Ta).get(La(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof Hr?ra.warn(e.t0.message):(i=va.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),ra.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),Aa.apply(this,arguments)}function Oa(e,t){return Da.apply(this,arguments)}function Da(){return Da=ki(mi().mark((function e(t,n){var r,i,a,o;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pa();case 3:return r=e.sent,i=r.transaction(Ta,"readwrite"),a=i.objectStore(Ta),e.next=8,a.put(n,La(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof Hr?ra.warn(e.t0.message):(o=va.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),ra.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),Da.apply(this,arguments)}function La(e){return"".concat(e.name,"!").concat(e.options.appId)}var Ma=function(){function e(t){var n=this;ur(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new za(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return lr(e,[{key:"triggerHeartbeat",value:function(){var e=ki(mi().mark((function e(){var t,n,r;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Fa(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=ki(mi().mark((function e(){var t,n,r,i,a;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Fa(),n=ja(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Nr(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Fa(){return(new Date).toISOString().substring(0,10)}function ja(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=hr(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Va(r)>n)return a.dates.pop(),0}else if(r.push({agent:e.agent,dates:[e.date]}),Va(r)>n)return r.pop(),0;i=i.slice(1)};for(a.s();!(t=a.n()).done&&0!==o(););}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Ua,qa,za=function(){function e(t){ur(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return lr(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=ki(mi().mark((function e(){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Wr()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(cq){t(cq)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=ki(mi().mark((function e(){var t;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Ra(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=ki(mi().mark((function e(t){var n,r;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Oa(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=ki(mi().mark((function e(t){var n,r;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Oa(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(yi(r.heartbeats),yi(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Va(e){return Nr(JSON.stringify({version:2,heartbeats:e})).length}Ua="",la(new wi("platform-logger",(function(e){return new ea(e)}),"PRIVATE")),la(new wi("heartbeat",(function(e){return new Ma(e)}),"PRIVATE")),xa(ta,na,Ua),xa(ta,na,"esm2017"),xa("fire-js","");var Ba=function(){function e(t,n){var r=this;ur(this,e),this._delegate=t,this.firebase=n,ua(t,new wi("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return lr(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),wa(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ia;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ia;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){ua(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){ca(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Wa=(sr(qa={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),sr(qa,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),qa),Ha=new Gr("app-compat","Firebase",Wa);var Ga=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=ya(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Jr(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:xa,setLogLevel:Sa,onLog:Ea,apps:null,SDK_VERSION:ga,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(la(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Ha.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Rr(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Jr(n,e=e||ia))throw Ha.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Ba);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Rr(n,e)},createSubscribe:si,ErrorFactory:Gr,deepExtend:Rr}),n}(),Ka=new Ai("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Ka.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Qa=self.firebase.SDK_VERSION;Qa&&Qa.indexOf("LITE")>=0&&Ka.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Ya=Ga;!function(e){xa("@firebase/app-compat","0.2.13",e)}();function Xa(e){return er(e)||gi(e)||nr(e)||rr()}function Ja(){return Ja="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=vr(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Ja.apply(this,arguments)}Ya.registerVersion("firebase","9.23.0","app-compat");function $a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var Za,eo={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},to="EMAIL_SIGNIN",no="PASSWORD_RESET",ro="RECOVER_EMAIL",io="REVERT_SECOND_FACTOR_ADDITION",ao="VERIFY_AND_CHANGE_EMAIL",oo="VERIFY_EMAIL";function so(){return sr({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var uo=function(){var e;return sr(e={},"admin-restricted-operation","This operation is restricted to administrators only."),sr(e,"argument-error",""),sr(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),sr(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),sr(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),sr(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),sr(e,"cordova-not-ready","Cordova framework is not ready."),sr(e,"cors-unsupported","This browser is not supported."),sr(e,"credential-already-in-use","This credential is already associated with a different user account."),sr(e,"custom-token-mismatch","The custom token corresponds to a different audience."),sr(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),sr(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),sr(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),sr(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),sr(e,"email-already-in-use","The email address is already in use by another account."),sr(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),sr(e,"expired-action-code","The action code has expired."),sr(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),sr(e,"internal-error","An internal AuthError has occurred."),sr(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),sr(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),sr(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),sr(e,"invalid-auth-event","An internal AuthError has occurred."),sr(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),sr(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),sr(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),sr(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),sr(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),sr(e,"invalid-email","The email address is badly formatted."),sr(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),sr(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),sr(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),sr(e,"invalid-credential","The supplied auth credential is malformed or has expired."),sr(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),sr(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),sr(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),sr(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),sr(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),sr(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),sr(e,"wrong-password","The password is invalid or the user does not have a password."),sr(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),sr(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),sr(e,"invalid-provider-id","The specified provider ID is invalid."),sr(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),sr(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),sr(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),sr(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),sr(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),sr(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),sr(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),sr(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),sr(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),sr(e,"missing-continue-uri","A continue URL must be provided in the request."),sr(e,"missing-iframe-start","An internal AuthError has occurred."),sr(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),sr(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),sr(e,"missing-password","A non-empty password must be provided"),sr(e,"missing-multi-factor-info","No second factor identifier is provided."),sr(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),sr(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),sr(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),sr(e,"app-deleted","This instance of FirebaseApp has been deleted."),sr(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),sr(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),sr(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),sr(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),sr(e,"no-auth-event","An internal AuthError has occurred."),sr(e,"no-such-provider","User was not linked to an account with the given provider."),sr(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),sr(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),sr(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),sr(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),sr(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),sr(e,"provider-already-linked","User can only be linked to one identity for the given provider."),sr(e,"quota-exceeded","The project's quota for this operation has been exceeded."),sr(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),sr(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),sr(e,"rejected-credential","The request contains malformed or mismatching credentials."),sr(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),sr(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),sr(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),sr(e,"timeout","The operation has timed out."),sr(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),sr(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),sr(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),sr(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),sr(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),sr(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),sr(e,"unverified-email","The operation requires a verified email."),sr(e,"user-cancelled","The user did not grant your application the permissions it requested."),sr(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),sr(e,"user-disabled","The user account has been disabled by an administrator."),sr(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),sr(e,"user-signed-out",""),sr(e,"weak-password","The password must be 6 characters long or more."),sr(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),sr(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),sr(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),sr(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),sr(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),sr(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),sr(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),sr(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),sr(e,"invalid-req-type","Invalid request parameters."),sr(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),e},co=so,lo=new Gr("auth","Firebase",so()),ho=new Ai("@firebase/auth");function fo(e){if(ho.logLevel<=Si.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ho.warn.apply(ho,["Auth (".concat(ga,"): ").concat(e)].concat(n))}}function po(e){if(ho.logLevel<=Si.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ho.error.apply(ho,["Auth (".concat(ga,"): ").concat(e)].concat(n))}}function vo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw bo.apply(void 0,[e].concat(n))}function mo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return bo.apply(void 0,[e].concat(n))}function go(e,t,n){var r=Object.assign(Object.assign({},co()),sr({},t,n));return new Gr("auth","Firebase",r).create(t,{appName:e.name})}function yo(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&vo(e,"argument-error"),go(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function bo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=yi(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(yi(o)))}return lo.create.apply(lo,[e].concat(n))}function ko(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw bo.apply(void 0,[t].concat(r))}}function wo(e){var t="INTERNAL ASSERTION FAILED: "+e;throw po(t),new Error(t)}function _o(e,t){e||wo(t)}function xo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Eo(){return"http:"===So()||"https:"===So()}function So(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Io=function(){function e(t,n){ur(this,e),this.shortDelay=t,this.longDelay=n,_o(n>t,"Short delay should be less than long delay!"),this.isMobile=jr()||zr()}return lr(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Eo()||qr()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Co(e,t){_o(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var To=function(){function e(){ur(this,e)}return lr(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void wo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void wo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void wo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),No=(sr(Za={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),sr(Za,"MISSING_CUSTOM_TOKEN","internal-error"),sr(Za,"INVALID_IDENTIFIER","invalid-email"),sr(Za,"MISSING_CONTINUE_URI","internal-error"),sr(Za,"INVALID_PASSWORD","wrong-password"),sr(Za,"MISSING_PASSWORD","missing-password"),sr(Za,"EMAIL_EXISTS","email-already-in-use"),sr(Za,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),sr(Za,"INVALID_IDP_RESPONSE","invalid-credential"),sr(Za,"INVALID_PENDING_TOKEN","invalid-credential"),sr(Za,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),sr(Za,"MISSING_REQ_TYPE","internal-error"),sr(Za,"EMAIL_NOT_FOUND","user-not-found"),sr(Za,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),sr(Za,"EXPIRED_OOB_CODE","expired-action-code"),sr(Za,"INVALID_OOB_CODE","invalid-action-code"),sr(Za,"MISSING_OOB_CODE","internal-error"),sr(Za,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),sr(Za,"INVALID_ID_TOKEN","invalid-user-token"),sr(Za,"TOKEN_EXPIRED","user-token-expired"),sr(Za,"USER_NOT_FOUND","user-token-expired"),sr(Za,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),sr(Za,"INVALID_CODE","invalid-verification-code"),sr(Za,"INVALID_SESSION_INFO","invalid-verification-id"),sr(Za,"INVALID_TEMPORARY_PROOF","invalid-credential"),sr(Za,"MISSING_SESSION_INFO","missing-verification-id"),sr(Za,"SESSION_EXPIRED","code-expired"),sr(Za,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),sr(Za,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),sr(Za,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),sr(Za,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),sr(Za,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),sr(Za,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),sr(Za,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),sr(Za,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),sr(Za,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),sr(Za,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),sr(Za,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),sr(Za,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),sr(Za,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),sr(Za,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),sr(Za,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),sr(Za,"MISSING_CLIENT_TYPE","missing-client-type"),sr(Za,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),sr(Za,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),sr(Za,"INVALID_REQ_TYPE","invalid-req-type"),Za),Po=new Io(3e4,6e4);function Ro(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Ao(e,t,n,r){return Oo.apply(this,arguments)}function Oo(){return Oo=ki(mi().mark((function e(t,n,r,i){var a,o=arguments;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Do(t,a,ki(mi().mark((function e(){var a,o,s,u;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=ri(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",To.fetch()(jo(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Oo.apply(this,arguments)}function Do(e,t,n){return Lo.apply(this,arguments)}function Lo(){return Lo=ki(mi().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,f,d;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},No),n),e.prev=2,a=new Uo(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw qo(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),l=ir(c,2),h=l[0],f=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw qo(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw qo(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw qo(t,"user-disabled",s);case 29:if(d=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!f){e.next=34;break}throw go(t,d,f);case 34:vo(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Hr)){e.next=41;break}throw e.t0;case 41:vo(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Lo.apply(this,arguments)}function Mo(e,t,n,r){return Fo.apply(this,arguments)}function Fo(){return Fo=ki(mi().mark((function e(t,n,r,i){var a,o,s=arguments;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Ao(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&vo(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Fo.apply(this,arguments)}function jo(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Co(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Uo=function(){function e(t){var n=this;ur(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(mo(n.auth,"network-request-failed"))}),Po.get())}))}return lr(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function qo(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=mo(e,t,r);return i.customData._tokenResponse=n,i}function zo(e,t){return Vo.apply(this,arguments)}function Vo(){return Vo=ki(mi().mark((function e(t,n){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ao(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Vo.apply(this,arguments)}function Bo(e,t){return Wo.apply(this,arguments)}function Wo(){return Wo=ki(mi().mark((function e(t,n){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ao(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Wo.apply(this,arguments)}function Ho(e,t){return Go.apply(this,arguments)}function Go(){return Go=ki(mi().mark((function e(t,n){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ao(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Go.apply(this,arguments)}function Ko(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Qo(){return Qo=ki(mi().mark((function e(t){var n,r,i,a,o,s,u=arguments;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=vi(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,ko((a=Xo(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Ko(Yo(a.auth_time)),issuedAtTime:Ko(Yo(a.iat)),expirationTime:Ko(Yo(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Qo.apply(this,arguments)}function Yo(e){return 1e3*Number(e)}function Xo(e){var t=ir(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return po("JWT malformed, contained fewer than 3 sections"),null;try{var a=Pr(r);return a?JSON.parse(a):(po("Failed to decode base64 JWT payload"),null)}catch(o){return po("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Jo(e,t){return $o.apply(this,arguments)}function $o(){return $o=ki(mi().mark((function e(t,n){var r=arguments;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Hr&&Zo(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),$o.apply(this,arguments)}function Zo(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var es=function(){function e(t){ur(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return lr(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(ki(mi().mark((function t(){return mi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=ki(mi().mark((function e(){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),ts=function(){function e(t,n){ur(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return lr(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Ko(this.lastLoginAt),this.creationTime=Ko(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function ns(e){return rs.apply(this,arguments)}function rs(){return rs=ki(mi().mark((function e(t){var n,r,i,a,o,s,u,c,l,h,f;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Jo(t,Ho(r,{idToken:i}));case 6:ko(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=$a(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=as(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),h=!!c&&l,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ts(o.createdAt,o.lastLoginAt),isAnonymous:h},Object.assign(t,f);case 17:case"end":return e.stop()}}),e)}))),rs.apply(this,arguments)}function is(){return(is=ki(mi().mark((function e(t){var n;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=vi(t),e.next=3,ns(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function as(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(yi(n),yi(t))}function os(e,t){return ss.apply(this,arguments)}function ss(){return ss=ki(mi().mark((function e(t,n){var r;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Do(t,{},ki(mi().mark((function e(){var r,i,a,o,s,u;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ri({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=jo(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",To.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),ss.apply(this,arguments)}var us=function(){function e(){ur(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return lr(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){ko(e.idToken,"internal-error"),ko("undefined"!==typeof e.idToken,"internal-error"),ko("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Xo(e);return ko(t,"internal-error"),ko("undefined"!==typeof t.exp,"internal-error"),ko("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=ki(mi().mark((function e(t){var n,r=arguments;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],ko(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=ki(mi().mark((function e(t,n){var r,i,a,o;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,os(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return wo("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(ko("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(ko("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(ko("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function cs(e,t){ko("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var ls=function(){function e(t){ur(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=$a(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new es(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?yi(a.providerData):[],this.metadata=new ts(a.createdAt||void 0,a.lastLoginAt||void 0)}return lr(e,[{key:"getIdToken",value:function(){var e=ki(mi().mark((function e(t){var n;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jo(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(ko(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Qo.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return is.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(ko(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){ko(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=ki(mi().mark((function e(t){var n,r,i=arguments;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,ns(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=ki(mi().mark((function e(){var t;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Jo(this,zo(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,h=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;ko(b&&x,t,"internal-error");var E=us.fromJSON(this.name,x);ko("string"===typeof b,t,"internal-error"),cs(h,t.name),cs(f,t.name),ko("boolean"===typeof k,t,"internal-error"),ko("boolean"===typeof w,t,"internal-error"),cs(d,t.name),cs(p,t.name),cs(v,t.name),cs(m,t.name),cs(g,t.name),cs(y,t.name);var S=new e({uid:b,auth:t,email:f,emailVerified:k,displayName:h,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(S.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=ki(mi().mark((function t(n,r){var i,a,o,s=arguments;return mi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new us).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,ns(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),hs=new Map;function fs(e){_o(e instanceof Function,"Expected a class definition");var t=hs.get(e);return t?(_o(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,hs.set(e,t),t)}var ds=function(){function e(){ur(this,e),this.type="NONE",this.storage={}}return lr(e,[{key:"_isAvailable",value:function(){var e=ki(mi().mark((function e(){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ki(mi().mark((function e(t,n){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ki(mi().mark((function e(t){var n;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ki(mi().mark((function e(t){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();ds.type="NONE";var ps=ds;function vs(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var ms=function(){function e(t,n,r){ur(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=vs(this.userKey,a.apiKey,o),this.fullPersistenceKey=vs("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return lr(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=ki(mi().mark((function e(){var t;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?ls._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=ki(mi().mark((function e(t){var n;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=ki(mi().mark((function t(n,r){var i,a,o,s,u,c,l,h,f,d,p,v=arguments;return mi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(fs(ps),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=ki(mi().mark((function e(t){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||fs(ps),s=vs(i,n.config.apiKey,n.name),u=null,c=hr(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return h=l.value,t.prev=14,t.next=17,h._get(s);case 17:if(!(f=t.sent)){t.next=23;break}return d=ls._fromJSON(n,f),h!==o&&(u=d),o=h,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=ki(mi().mark((function e(t){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function gs(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ws(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ys(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(xs(t))return"Blackberry";if(Es(t))return"Webos";if(bs(t))return"Safari";if((t.includes("chrome/")||ks(t))&&!t.includes("edge/"))return"Chrome";if(_s(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function ys(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fr();return/firefox\//i.test(e)}function bs(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fr()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ks(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fr();return/crios\//i.test(e)}function ws(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fr();return/iemobile/i.test(e)}function _s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fr();return/android/i.test(e)}function xs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fr();return/blackberry/i.test(e)}function Es(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fr();return/webos/i.test(e)}function Ss(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fr();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Is(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fr();return Ss(e)||_s(e)||Es(e)||xs(e)||/windows phone/i.test(e)||ws(e)}function Cs(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=gs(Fr());break;case"Worker":t="".concat(gs(Fr()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ga,"/").concat(r)}function Ts(e){return Ns.apply(this,arguments)}function Ns(){return Ns=ki(mi().mark((function e(t){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ao(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Ns.apply(this,arguments)}function Ps(e,t){return Rs.apply(this,arguments)}function Rs(){return Rs=ki(mi().mark((function e(t,n){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ao(t,"GET","/v2/recaptchaConfig",Ro(t,n)));case 1:case"end":return e.stop()}}),e)}))),Rs.apply(this,arguments)}function As(e){return void 0!==e&&void 0!==e.getResponse}function Os(e){return void 0!==e&&void 0!==e.enterprise}var Ds=lr((function e(t){if(ur(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function Ls(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=mo("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Ms(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Fs=function(){function e(t){ur(this,e),this.type="recaptcha-enterprise",this.auth=Vs(t)}return lr(e,[{key:"verify",value:function(){var e=ki(mi().mark((function e(){var t,n,r,i,a,o=this,s=arguments;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;Os(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=ki(mi().mark((function e(t){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=ki(mi().mark((function e(n,r){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ps(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new Ds(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=s.length>0&&void 0!==s[0]?s[0]:"verify",n=s.length>1&&void 0!==s[1]&&s[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&Os(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));Ls("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function js(e,t,n){return Us.apply(this,arguments)}function Us(){return Us=ki(mi().mark((function e(t,n,r){var i,a,o,s,u=arguments;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],a=new Fs(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return s=Object.assign({},n),i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),Us.apply(this,arguments)}var qs=function(){function e(t){ur(this,e),this.auth=t,this.queue=[]}return lr(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=ki(mi().mark((function e(t){var n,r,i,a,o,s,u;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=hr(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=hr(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),zs=function(){function e(t,n,r,i){ur(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bs(this),this.idTokenSubscription=new Bs(this),this.beforeStateQueue=new qs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lo,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return lr(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=fs(t)),this._initializationPromise=this.queue(ki(mi().mark((function r(){var i,a;return mi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,ms.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=ki(mi().mark((function e(){var t;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=ki(mi().mark((function e(t){var n,r,i,a,o,s,u;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return ko(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=ki(mi().mark((function e(t){var n;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=ki(mi().mark((function e(t){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ns(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=ki(mi().mark((function e(){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=ki(mi().mark((function e(t){var n;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?vi(t):null)&&ko(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=ki(mi().mark((function e(t){var n,r=this,i=arguments;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&ko(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(ki(mi().mark((function e(){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=ki(mi().mark((function e(){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(ki(mi().mark((function n(){return mi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(fs(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=ki(mi().mark((function e(){var t,n;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ps(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new Ds(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new Fs(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Gr("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=ki(mi().mark((function e(t,n){var r;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=ki(mi().mark((function e(t){var n;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return ko(n=t&&fs(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,ms.create(this,[fs(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=ki(mi().mark((function e(t){var n,r;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(ki(mi().mark((function e(){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=ki(mi().mark((function e(t){var n=this;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(ki(mi().mark((function e(){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ko(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=ki(mi().mark((function e(t){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return ko(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Cs(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=ki(mi().mark((function e(){var t,n,r,i;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=sr({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=ki(mi().mark((function e(){var t,n;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&fo("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Vs(e){return vi(e)}var Bs=function(){function e(t){var n=this;ur(this,e),this.auth=t,this.observer=null,this.addObserver=si((function(e){return n.observer=e}))}return lr(e,[{key:"next",get:function(){return ko(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Ws(e,t,n){var r=Vs(e);ko(r._canInitEmulator,r,"emulator-config-failed"),ko(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Hs(t),o=function(e){var t=Hs(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Gs(r.substr(a.length+1))}}var o=ir(r.split(":"),2);return{host:o[0],port:Gs(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Hs(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Gs(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Ks=function(){function e(t,n){ur(this,e),this.providerId=t,this.signInMethod=n}return lr(e,[{key:"toJSON",value:function(){return wo("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return wo("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return wo("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return wo("not implemented")}}]),e}();function Qs(e,t){return Ys.apply(this,arguments)}function Ys(){return Ys=ki(mi().mark((function e(t,n){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ao(t,"POST","/v1/accounts:resetPassword",Ro(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ys.apply(this,arguments)}function Xs(e,t){return Js.apply(this,arguments)}function Js(){return Js=ki(mi().mark((function e(t,n){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ao(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Js.apply(this,arguments)}function $s(e,t){return Zs.apply(this,arguments)}function Zs(){return Zs=ki(mi().mark((function e(t,n){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ao(t,"POST","/v1/accounts:update",Ro(t,n)));case 1:case"end":return e.stop()}}),e)}))),Zs.apply(this,arguments)}function eu(e,t){return tu.apply(this,arguments)}function tu(){return tu=ki(mi().mark((function e(t,n){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mo(t,"POST","/v1/accounts:signInWithPassword",Ro(t,n)));case 1:case"end":return e.stop()}}),e)}))),tu.apply(this,arguments)}function nu(e,t){return ru.apply(this,arguments)}function ru(){return ru=ki(mi().mark((function e(t,n){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ao(t,"POST","/v1/accounts:sendOobCode",Ro(t,n)));case 1:case"end":return e.stop()}}),e)}))),ru.apply(this,arguments)}function iu(e,t){return au.apply(this,arguments)}function au(){return au=ki(mi().mark((function e(t,n){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nu(t,n));case 1:case"end":return e.stop()}}),e)}))),au.apply(this,arguments)}function ou(e,t){return su.apply(this,arguments)}function su(){return su=ki(mi().mark((function e(t,n){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nu(t,n));case 1:case"end":return e.stop()}}),e)}))),su.apply(this,arguments)}function uu(e,t){return cu.apply(this,arguments)}function cu(){return cu=ki(mi().mark((function e(t,n){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nu(t,n));case 1:case"end":return e.stop()}}),e)}))),cu.apply(this,arguments)}function lu(e,t){return hu.apply(this,arguments)}function hu(){return hu=ki(mi().mark((function e(t,n){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nu(t,n));case 1:case"end":return e.stop()}}),e)}))),hu.apply(this,arguments)}function fu(e,t){return du.apply(this,arguments)}function du(){return du=ki(mi().mark((function e(t,n){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mo(t,"POST","/v1/accounts:signInWithEmailLink",Ro(t,n)));case 1:case"end":return e.stop()}}),e)}))),du.apply(this,arguments)}function pu(e,t){return vu.apply(this,arguments)}function vu(){return vu=ki(mi().mark((function e(t,n){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mo(t,"POST","/v1/accounts:signInWithEmailLink",Ro(t,n)));case 1:case"end":return e.stop()}}),e)}))),vu.apply(this,arguments)}var mu=function(e){pr(n,e);var t=gr(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return ur(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return lr(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=ki(mi().mark((function e(t){var n,r,i;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,js(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",eu(t,i));case 11:return e.abrupt("return",eu(t,r).catch(function(){var e=ki(mi().mark((function e(n){var i;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,js(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",eu(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",fu(t,{email:this._email,oobCode:this._password}));case 13:vo(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=ki(mi().mark((function e(t,n){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Xs(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",pu(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:vo(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Ks);function gu(e,t){return yu.apply(this,arguments)}function yu(){return yu=ki(mi().mark((function e(t,n){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mo(t,"POST","/v1/accounts:signInWithIdp",Ro(t,n)));case 1:case"end":return e.stop()}}),e)}))),yu.apply(this,arguments)}var bu=function(e){pr(n,e);var t=gr(n);function n(){var e;return ur(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return lr(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return gu(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,gu(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,gu(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ri(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):vo("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=$a(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Ks);function ku(e,t){return wu.apply(this,arguments)}function wu(){return wu=ki(mi().mark((function e(t,n){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ao(t,"POST","/v1/accounts:sendVerificationCode",Ro(t,n)));case 1:case"end":return e.stop()}}),e)}))),wu.apply(this,arguments)}function _u(){return _u=ki(mi().mark((function e(t,n){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mo(t,"POST","/v1/accounts:signInWithPhoneNumber",Ro(t,n)));case 1:case"end":return e.stop()}}),e)}))),_u.apply(this,arguments)}function xu(){return xu=ki(mi().mark((function e(t,n){var r;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mo(t,"POST","/v1/accounts:signInWithPhoneNumber",Ro(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw qo(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),xu.apply(this,arguments)}var Eu=sr({},"USER_NOT_FOUND","user-not-found");function Su(){return Su=ki(mi().mark((function e(t,n){var r;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Mo(t,"POST","/v1/accounts:signInWithPhoneNumber",Ro(t,r),Eu));case 2:case"end":return e.stop()}}),e)}))),Su.apply(this,arguments)}var Iu=function(e){pr(n,e);var t=gr(n);function n(e){var r;return ur(this,n),(r=t.call(this,"phone","phone")).params=e,r}return lr(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return _u.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return xu.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Su.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Ks);var Cu=function(){function e(t){var n,r,i,a,o,s;ur(this,e);var u=ii(ai(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);ko(c&&l&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return lr(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=ii(ai(e)).link,n=t?ii(ai(t)).deep_link_id:null,r=ii(ai(e)).deep_link_id;return(r?ii(ai(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(WD){return null}}}]),e}();var Tu=function(){function e(){ur(this,e),this.providerId=e.PROVIDER_ID}return lr(e,null,[{key:"credential",value:function(e,t){return mu._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Cu.parseLink(t);return ko(n,"argument-error"),mu._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Tu.PROVIDER_ID="password",Tu.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Tu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Nu=function(){function e(t){ur(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return lr(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Pu=function(e){pr(n,e);var t=gr(n);function n(){var e;return ur(this,n),(e=t.apply(this,arguments)).scopes=[],e}return lr(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return yi(this.scopes)}}]),n}(Nu),Ru=function(e){pr(n,e);var t=gr(n);function n(){return ur(this,n),t.apply(this,arguments)}return lr(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return ko(e.idToken||e.accessToken,"argument-error"),bu._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return ko("providerId"in t&&"signInMethod"in t,"argument-error"),bu._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(Pu),Au=function(e){pr(n,e);var t=gr(n);function n(){return ur(this,n),t.call(this,"facebook.com")}return lr(n,null,[{key:"credential",value:function(e){return bu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(WD){return null}}}]),n}(Pu);Au.FACEBOOK_SIGN_IN_METHOD="facebook.com",Au.PROVIDER_ID="facebook.com";var Ou=function(e){pr(n,e);var t=gr(n);function n(){var e;return ur(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return lr(n,null,[{key:"credential",value:function(e,t){return bu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(WD){return null}}}]),n}(Pu);Ou.GOOGLE_SIGN_IN_METHOD="google.com",Ou.PROVIDER_ID="google.com";var Du=function(e){pr(n,e);var t=gr(n);function n(){return ur(this,n),t.call(this,"github.com")}return lr(n,null,[{key:"credential",value:function(e){return bu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(WD){return null}}}]),n}(Pu);Du.GITHUB_SIGN_IN_METHOD="github.com",Du.PROVIDER_ID="github.com";var Lu=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return lr(n,[{key:"_getIdTokenResponse",value:function(e){return gu(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,gu(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,gu(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Ks),Mu=function(e){pr(n,e);var t=gr(n);function n(e){return ur(this,n),ko(e.startsWith("saml."),"argument-error"),t.call(this,e)}return lr(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Lu.fromJSON(e);return ko(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Lu._create(r,n)}catch(i){return null}}}]),n}(Nu),Fu=function(e){pr(n,e);var t=gr(n);function n(){return ur(this,n),t.call(this,"twitter.com")}return lr(n,null,[{key:"credential",value:function(e,t){return bu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(WD){return null}}}]),n}(Pu);function ju(e,t){return Uu.apply(this,arguments)}function Uu(){return Uu=ki(mi().mark((function e(t,n){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mo(t,"POST","/v1/accounts:signUp",Ro(t,n)));case 1:case"end":return e.stop()}}),e)}))),Uu.apply(this,arguments)}Fu.TWITTER_SIGN_IN_METHOD="twitter.com",Fu.PROVIDER_ID="twitter.com";var qu=function(){function e(t){ur(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return lr(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=ki(mi().mark((function t(n,r,i){var a,o,s,u,c=arguments;return mi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,ls._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=zu(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=ki(mi().mark((function t(n,r,i){var a;return mi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=zu(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function zu(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Vu(){return Vu=ki(mi().mark((function e(t){var n,r,i,a;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vs(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new qu({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,ju(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,qu._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Vu.apply(this,arguments)}var Bu=function(e){pr(n,e);var t=gr(n);function n(e,r,i,a){var o,s;return ur(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(fr(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return lr(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Hr);function Wu(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Bu._fromErrorAndOperation(e,n,t,r);throw n}))}function Hu(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Gu(e,t){return Ku.apply(this,arguments)}function Ku(){return Ku=ki(mi().mark((function e(t,n){var r,i,a,o;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vi(t),e.next=3,Xu(!0,r,n);case 3:return e.t0=Bo,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Hu(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Ku.apply(this,arguments)}function Qu(e,t){return Yu.apply(this,arguments)}function Yu(){return Yu=ki(mi().mark((function e(t,n){var r,i,a=arguments;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Jo,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",qu._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Yu.apply(this,arguments)}function Xu(e,t,n){return Ju.apply(this,arguments)}function Ju(){return(Ju=ki(mi().mark((function e(t,n,r){var i,a;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ns(n);case 2:i=Hu(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",ko(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $u(e,t){return Zu.apply(this,arguments)}function Zu(){return Zu=ki(mi().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Jo(t,Wu(i,a,n,t),r);case 6:return ko((o=e.sent).idToken,i,"internal-error"),ko(s=Xo(o.idToken),i,"internal-error"),u=s.sub,ko(t.uid===u,i,"user-mismatch"),e.abrupt("return",qu._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&vo(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Zu.apply(this,arguments)}function ec(e,t){return tc.apply(this,arguments)}function tc(){return tc=ki(mi().mark((function e(t,n){var r,i,a,o,s=arguments;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Wu(t,i,n);case 4:return a=e.sent,e.next=7,qu._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),tc.apply(this,arguments)}function nc(e,t){return rc.apply(this,arguments)}function rc(){return rc=ki(mi().mark((function e(t,n){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ec(Vs(t),n));case 1:case"end":return e.stop()}}),e)}))),rc.apply(this,arguments)}function ic(e,t){return ac.apply(this,arguments)}function ac(){return(ac=ki(mi().mark((function e(t,n){var r;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vi(t),e.next=3,Xu(!1,r,n.providerId);case 3:return e.abrupt("return",Qu(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oc(e,t){return sc.apply(this,arguments)}function sc(){return(sc=ki(mi().mark((function e(t,n){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$u(vi(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uc(e,t){return cc.apply(this,arguments)}function cc(){return cc=ki(mi().mark((function e(t,n){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mo(t,"POST","/v1/accounts:signInWithCustomToken",Ro(t,n)));case 1:case"end":return e.stop()}}),e)}))),cc.apply(this,arguments)}function lc(){return lc=ki(mi().mark((function e(t,n){var r,i,a;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vs(t),e.next=3,uc(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,qu._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),lc.apply(this,arguments)}var hc=function(){function e(t,n){ur(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return lr(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?fc._fromServerResponse(e,t):"totpInfo"in t?dc._fromServerResponse(e,t):vo(e,"internal-error")}}]),e}(),fc=function(e){pr(n,e);var t=gr(n);function n(e){var r;return ur(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return lr(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(hc),dc=function(e){pr(n,e);var t=gr(n);function n(e){return ur(this,n),t.call(this,"totp",e)}return lr(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(hc);function pc(e,t,n){var r;ko((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),ko("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ko(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(ko(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function vc(){return vc=ki(mi().mark((function e(t,n,r){var i,a,o,s;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Vs(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,js(a,o,"getOobCode",!0);case 5:return s=e.sent,r&&pc(a,s,r),e.next=9,ou(a,s);case 9:e.next=14;break;case 11:return r&&pc(a,o,r),e.next=14,ou(a,o).catch(function(){var e=ki(mi().mark((function e(t){var n;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,js(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&pc(a,n,r),e.next=8,ou(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),vc.apply(this,arguments)}function mc(){return mc=ki(mi().mark((function e(t,n,r){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qs(vi(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),mc.apply(this,arguments)}function gc(){return gc=ki(mi().mark((function e(t,n){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$s(vi(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),gc.apply(this,arguments)}function yc(e,t){return bc.apply(this,arguments)}function bc(){return bc=ki(mi().mark((function e(t,n){var r,i,a,o;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vi(t),e.next=3,Qs(r,{oobCode:n});case 3:i=e.sent,ko(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return ko(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:ko(i.mfaInfo,r,"internal-error");case 13:ko(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=hc._fromServerResponse(Vs(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),bc.apply(this,arguments)}function kc(){return kc=ki(mi().mark((function e(t,n){var r,i;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yc(vi(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),kc.apply(this,arguments)}function wc(e,t,n){return _c.apply(this,arguments)}function _c(){return _c=ki(mi().mark((function e(t,n,r){var i,a,o,s,u,c,l;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Vs(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,js(a,o,"signUpPassword");case 5:u=e.sent,s=ju(a,u),e.next=10;break;case 9:s=ju(a,o).catch(function(){var e=ki(mi().mark((function e(t){var n;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,js(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",ju(a,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,s.catch((function(e){return Promise.reject(e)}));case 12:return c=e.sent,e.next=15,qu._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),_c.apply(this,arguments)}function xc(){return xc=ki(mi().mark((function e(t,n,r){var i,a,o,s,u;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(e,t){ko(t.handleCodeInApp,a,"argument-error"),t&&pc(a,e,t)},a=Vs(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,js(a,o,"getOobCode",!0);case 6:return u=e.sent,s(u,r),e.next=10,uu(a,u);case 10:e.next=15;break;case 12:return s(o,r),e.next=15,uu(a,o).catch(function(){var e=ki(mi().mark((function e(t){var n;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,js(a,o,"getOobCode",!0);case 4:return n=e.sent,s(n,r),e.next=8,uu(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),xc.apply(this,arguments)}function Ec(){return Ec=ki(mi().mark((function e(t,n,r){var i,a;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vi(t),ko((a=Tu.credentialWithLink(n,r||xo()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",nc(i,a));case 4:case"end":return e.stop()}}),e)}))),Ec.apply(this,arguments)}function Sc(e,t){return Ic.apply(this,arguments)}function Ic(){return Ic=ki(mi().mark((function e(t,n){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ao(t,"POST","/v1/accounts:createAuthUri",Ro(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ic.apply(this,arguments)}function Cc(){return Cc=ki(mi().mark((function e(t,n){var r,i,a,o;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Eo()?xo():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Sc(vi(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Cc.apply(this,arguments)}function Tc(){return(Tc=ki(mi().mark((function e(t,n){var r,i,a,o;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vi(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&pc(r.auth,a,n),e.next=8,iu(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nc(){return(Nc=ki(mi().mark((function e(t,n,r){var i,a,o,s;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vi(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&pc(i.auth,o,r),e.next=8,lu(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pc(e,t){return Rc.apply(this,arguments)}function Rc(){return Rc=ki(mi().mark((function e(t,n){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ao(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Rc.apply(this,arguments)}function Ac(){return(Ac=ki(mi().mark((function e(t,n){var r,i,a,o,s,u,c;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=vi(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Jo(a,Pc(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oc(e,t,n){return Dc.apply(this,arguments)}function Dc(){return Dc=ki(mi().mark((function e(t,n,r){var i,a,o,s;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Jo(t,Xs(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),Dc.apply(this,arguments)}var Lc=lr((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ur(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Mc=function(e){pr(n,e);var t=gr(n);function n(e,r,i,a){var o;return ur(this,n),(o=t.call(this,e,r,i)).username=a,o}return lr(n)}(Lc),Fc=function(e){pr(n,e);var t=gr(n);function n(e,r){return ur(this,n),t.call(this,e,"facebook.com",r)}return lr(n)}(Lc),jc=function(e){pr(n,e);var t=gr(n);function n(e,r){return ur(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return lr(n)}(Mc),Uc=function(e){pr(n,e);var t=gr(n);function n(e,r){return ur(this,n),t.call(this,e,"google.com",r)}return lr(n)}(Lc),qc=function(e){pr(n,e);var t=gr(n);function n(e,r,i){return ur(this,n),t.call(this,e,"twitter.com",r,i)}return lr(n)}(Mc);function zc(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Xo(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Lc(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Fc(a,i);case"github.com":return new jc(a,i);case"google.com":return new Uc(a,i);case"twitter.com":return new qc(a,i,e.screenName||null);case"custom":case"anonymous":return new Lc(a,null);default:return new Lc(a,r,i)}}(n)}var Vc=function(){function e(t,n,r){ur(this,e),this.type=t,this.credential=n,this.auth=r}return lr(e,[{key:"toJSON",value:function(){return{multiFactorSession:sr({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Bc=function(){function e(t,n,r){ur(this,e),this.session=t,this.hints=n,this.signInResolver=r}return lr(e,[{key:"resolveSignIn",value:function(){var e=ki(mi().mark((function e(t){var n;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Vs(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return hc._fromServerResponse(r,e)}));ko(i.mfaPendingCredential,r,"internal-error");var o=Vc._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=ki(mi().mark((function e(t){var a,s,u;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,qu._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return ko(n.user,r,"internal-error"),e.abrupt("return",qu._forOperation(n.user,n.operationType,s));case 17:vo(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Wc(e,t){return Ao(e,"POST","/v2/accounts/mfaEnrollment:start",Ro(e,t))}function Hc(e,t){return Ao(e,"POST","/v2/accounts/mfaEnrollment:start",Ro(e,t))}function Gc(e,t){return Ao(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ro(e,t))}function Kc(e,t){return Ao(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Ro(e,t))}var Qc=function(){function e(t){var n=this;ur(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return hc._fromServerResponse(t.auth,e)})))}))}return lr(e,[{key:"getSession",value:function(){var e=ki(mi().mark((function e(){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Vc,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=ki(mi().mark((function e(t,n){var r,i,a;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Jo(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=ki(mi().mark((function e(t){var n,r,i;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,Jo(this.user,Kc(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Yc=new WeakMap;var Xc="__sak",Jc=function(){function e(t,n){ur(this,e),this.storageRetriever=t,this.type=n}return lr(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Xc,"1"),this.storage.removeItem(Xc),Promise.resolve(!0)):Promise.resolve(!1)}catch(WD){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var $c=function(e){pr(n,e);var t=gr(n);function n(){var e;return ur(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Fr();return bs(e)||Ss(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Is(),e._shouldAllowMigration=!0,e}return lr(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Vr()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=ki(mi().mark((function e(t,r){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ja(vr(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ki(mi().mark((function e(t){var r;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ja(vr(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ki(mi().mark((function e(t){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ja(vr(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Jc);$c.type="LOCAL";var Zc=$c,el=function(e){pr(n,e);var t=gr(n);function n(){return ur(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return lr(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Jc);el.type="SESSION";var tl=el;function nl(e){return Promise.all(e.map(function(){var e=ki(mi().mark((function e(t){var n;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var rl=function(){function e(t){ur(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return lr(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=ki(mi().mark((function e(t){var n,r,i,a,o,s,u,c;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=ki(mi().mark((function e(t){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,nl(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function il(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}rl.receivers=[];var al=function(){function e(t){ur(this,e),this.target=t,this.handlers=new Set}return lr(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=ki(mi().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=il("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function ol(){return window}function sl(e){ol().location.href=e}function ul(){return"undefined"!==typeof ol().WorkerGlobalScope&&"function"===typeof ol().importScripts}function cl(){return ll.apply(this,arguments)}function ll(){return(ll=ki(mi().mark((function e(){var t;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function hl(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var fl="firebaseLocalStorageDb",dl="firebaseLocalStorage",pl="fbase_key",vl=function(){function e(t){ur(this,e),this.request=t}return lr(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function ml(e,t){return e.transaction([dl],t?"readwrite":"readonly").objectStore(dl)}function gl(){var e=indexedDB.deleteDatabase(fl);return new vl(e).toPromise()}function yl(){var e=indexedDB.open(fl,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(dl,{keyPath:pl})}catch(r){n(r)}})),e.addEventListener("success",ki(mi().mark((function n(){var r;return mi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(dl)){n.next=12;break}return r.close(),n.next=5,gl();case 5:return n.t0=t,n.next=8,yl();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function bl(e,t,n){return kl.apply(this,arguments)}function kl(){return kl=ki(mi().mark((function e(t,n,r){var i,a;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ml(t,!0).put((sr(i={},pl,n),sr(i,"value",r),i)),e.abrupt("return",new vl(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),kl.apply(this,arguments)}function wl(e,t){return _l.apply(this,arguments)}function _l(){return _l=ki(mi().mark((function e(t,n){var r,i;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ml(t,!1).get(n),e.next=3,new vl(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),_l.apply(this,arguments)}function xl(e,t){var n=ml(e,!0).delete(t);return new vl(n).toPromise()}var El=function(){function e(){ur(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return lr(e,[{key:"_openDb",value:function(){var e=ki(mi().mark((function e(){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,yl();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=ki(mi().mark((function e(t){var n,r;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=ki(mi().mark((function e(){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ul()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=ki(mi().mark((function e(){var t=this;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=rl._getInstance(ul()?self:null),this.receiver._subscribe("keyChanged",function(){var e=ki(mi().mark((function e(n,r){var i;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=ki(mi().mark((function e(t,n){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=ki(mi().mark((function e(){var t,n,r;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cl();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new al(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=ki(mi().mark((function e(t){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&hl()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=ki(mi().mark((function e(){var t;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,yl();case 5:return t=e.sent,e.next=8,bl(t,Xc,"1");case 8:return e.next=10,xl(t,Xc);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=ki(mi().mark((function e(t){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ki(mi().mark((function e(t,n){var r=this;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ki(mi().mark((function e(){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return bl(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ki(mi().mark((function e(t){var n;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return wl(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ki(mi().mark((function e(t){var n=this;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ki(mi().mark((function e(){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return xl(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=ki(mi().mark((function e(){var t,n,r,i,a,o,s,u,c,l,h;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=ml(e,!1).getAll();return new vl(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=hr(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(f){i.e(f)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)h=l[c],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(ki(mi().mark((function t(){return mi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();El.type="LOCAL";var Sl=El;function Il(e,t){return Ao(e,"POST","/v2/accounts/mfaSignIn:start",Ro(e,t))}function Cl(e,t){return Ao(e,"POST","/v2/accounts/mfaSignIn:finalize",Ro(e,t))}var Tl=1e12,Nl=function(){function e(t){ur(this,e),this.auth=t,this.counter=Tl,this._widgets=new Map}return lr(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Pl(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Tl;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Tl;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=ki(mi().mark((function e(t){var n,r;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Tl,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Pl=function(){function e(t,n,r){var i=this;ur(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;ko(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return lr(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Rl=Ms("rcb"),Al=new Io(3e4,6e4),Ol=function(){function e(){var t;ur(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=ol().grecaptcha)||void 0===t?void 0:t.render)}return lr(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return ko(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&As(ol().grecaptcha)?Promise.resolve(ol().grecaptcha):new Promise((function(r,i){var a=ol().setTimeout((function(){i(mo(e,"network-request-failed"))}),Al.get());ol()[Rl]=function(){ol().clearTimeout(a),delete ol()[Rl];var o=ol().grecaptcha;if(o&&As(o)){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(mo(e,"internal-error"))},Ls("".concat("https://www.google.com/recaptcha/api.js?","?").concat(ri({onload:Rl,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(mo(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=ol().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var Dl=function(){function e(){ur(this,e)}return lr(e,[{key:"load",value:function(){var e=ki(mi().mark((function e(t){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Nl(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Ll="recaptcha",Ml={theme:"light",type:"image"},Fl=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Ml),r=arguments.length>2?arguments[2]:void 0;ur(this,e),this.parameters=n,this.type=Ll,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Vs(r),this.isInvisible="invisible"===this.parameters.size,ko("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;ko(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Dl:new Ol,this.validateStartingState()}return lr(e,[{key:"verify",value:function(){var e=ki(mi().mark((function e(){var t,n,r,i=this;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){ko(!this.parameters.sitekey,this.auth,"argument-error"),ko(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ko("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=ol()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){ko(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=ki(mi().mark((function e(){var t,n;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=ki(mi().mark((function e(){var t;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ko(Eo()&&!ul(),this.auth,"internal-error"),e.next=3,jl();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Ts(this.auth);case 8:ko(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return ko(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function jl(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Ul=function(){function e(t,n){ur(this,e),this.verificationId=t,this.onConfirmation=n}return lr(e,[{key:"confirm",value:function(e){var t=Iu._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function ql(){return ql=ki(mi().mark((function e(t,n,r){var i,a;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Vs(t),e.next=3,Wl(i,n,vi(r));case 3:return a=e.sent,e.abrupt("return",new Ul(a,(function(e){return nc(i,e)})));case 5:case"end":return e.stop()}}),e)}))),ql.apply(this,arguments)}function zl(e,t,n){return Vl.apply(this,arguments)}function Vl(){return(Vl=ki(mi().mark((function e(t,n,r){var i,a;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vi(t),e.next=3,Xu(!1,i,"phone");case 3:return e.next=5,Wl(i.auth,n,vi(r));case 5:return a=e.sent,e.abrupt("return",new Ul(a,(function(e){return ic(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bl(){return(Bl=ki(mi().mark((function e(t,n,r){var i,a;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vi(t),e.next=3,Wl(i.auth,n,vi(r));case 3:return a=e.sent,e.abrupt("return",new Ul(a,(function(e){return oc(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wl(e,t,n){return Hl.apply(this,arguments)}function Hl(){return Hl=ki(mi().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,f;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,ko("string"===typeof a,t,"argument-error"),ko(r.type===Ll,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return ko("enroll"===s.type,t,"internal-error"),e.next=13,Wc(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return ko("signin"===s.type,t,"internal-error"),ko(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Il(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,ku(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return h=e.sent,f=h.sessionInfo,e.abrupt("return",f);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Hl.apply(this,arguments)}function Gl(){return(Gl=ki(mi().mark((function e(t,n){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qu(vi(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Kl=function(){function e(t){ur(this,e),this.providerId=e.PROVIDER_ID,this.auth=Vs(t)}return lr(e,[{key:"verifyPhoneNumber",value:function(e,t){return Wl(this.auth,e,vi(t))}}],[{key:"credential",value:function(e,t){return Iu._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Iu._fromTokenResponse(n,r):null}}]),e}();function Ql(e,t){return t?fs(t):(ko(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Kl.PROVIDER_ID="phone",Kl.PHONE_SIGN_IN_METHOD="phone";var Yl=function(e){pr(n,e);var t=gr(n);function n(e){var r;return ur(this,n),(r=t.call(this,"custom","custom")).params=e,r}return lr(n,[{key:"_getIdTokenResponse",value:function(e){return gu(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return gu(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return gu(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Ks);function Xl(e){return ec(e.auth,new Yl(e),e.bypassAuthState)}function Jl(e){var t=e.auth,n=e.user;return ko(n,t,"internal-error"),$u(n,new Yl(e),e.bypassAuthState)}function $l(e){return Zl.apply(this,arguments)}function Zl(){return Zl=ki(mi().mark((function e(t){var n,r;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,ko(r=t.user,n,"internal-error"),e.abrupt("return",Qu(r,new Yl(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Zl.apply(this,arguments)}var eh=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];ur(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return lr(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=ki(mi().mark((function t(n,r){return mi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=ki(mi().mark((function e(t){var n,r,i,a,o,s,u;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Xl;case"linkViaPopup":case"linkViaRedirect":return $l;case"reauthViaPopup":case"reauthViaRedirect":return Jl;default:vo(this.auth,"internal-error")}}},{key:"resolve",value:function(e){_o(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){_o(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),th=new Io(2e3,1e4);function nh(e,t,n){return rh.apply(this,arguments)}function rh(){return rh=ki(mi().mark((function e(t,n,r){var i,a,o;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Vs(t),yo(t,n,Nu),a=Ql(i,r),o=new sh(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),rh.apply(this,arguments)}function ih(){return(ih=ki(mi().mark((function e(t,n,r){var i,a,o;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yo((i=vi(t)).auth,n,Nu),a=Ql(i.auth,r),o=new sh(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ah(e,t,n){return oh.apply(this,arguments)}function oh(){return(oh=ki(mi().mark((function e(t,n,r){var i,a,o;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yo((i=vi(t)).auth,n,Nu),a=Ql(i.auth,r),o=new sh(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var sh=function(e){pr(n,e);var t=gr(n);function n(e,r,i,a,o){var s;return ur(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=fr(s),s}return lr(n,[{key:"executeNotNull",value:function(){var e=ki(mi().mark((function e(){var t;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return ko(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ki(mi().mark((function e(){var t,n=this;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _o(1===this.filter.length,"Popup operations only handle one event"),t=il(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(mo(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(mo(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(mo(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,th.get())}()}}]),n}(eh);sh.currentPopupAction=null;var uh="pendingRedirect",ch=new Map,lh=function(e){pr(n,e);var t=gr(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ur(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return lr(n,[{key:"execute",value:function(){var e=ki(mi().mark((function e(){var t,r;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=ch.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,hh(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Ja(vr(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:ch.set(this.auth._key(),t);case 21:return this.bypassAuthState||ch.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=ki(mi().mark((function e(t){var r;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Ja(vr(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Ja(vr(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ki(mi().mark((function e(){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(eh);function hh(e,t){return fh.apply(this,arguments)}function fh(){return fh=ki(mi().mark((function e(t,n){var r,i,a;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gh(n),i=mh(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),fh.apply(this,arguments)}function dh(e,t){return ph.apply(this,arguments)}function ph(){return ph=ki(mi().mark((function e(t,n){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mh(t)._set(gh(n),"true"));case 1:case"end":return e.stop()}}),e)}))),ph.apply(this,arguments)}function vh(e,t){ch.set(e._key(),t)}function mh(e){return fs(e._redirectPersistence)}function gh(e){return vs(uh,e.config.apiKey,e.name)}function yh(e,t,n){return function(e,t,n){return bh.apply(this,arguments)}(e,t,n)}function bh(){return bh=ki(mi().mark((function e(t,n,r){var i,a;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Vs(t),yo(t,n,Nu),e.next=4,i._initializationPromise;case 4:return a=Ql(i,r),e.next=7,dh(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),bh.apply(this,arguments)}function kh(e,t,n){return function(e,t,n){return wh.apply(this,arguments)}(e,t,n)}function wh(){return(wh=ki(mi().mark((function e(t,n,r){var i,a,o;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yo((i=vi(t)).auth,n,Nu),e.next=4,i.auth._initializationPromise;case 4:return a=Ql(i.auth,r),e.next=7,dh(a,i.auth);case 7:return e.next=9,Th(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _h(e,t,n){return function(e,t,n){return xh.apply(this,arguments)}(e,t,n)}function xh(){return(xh=ki(mi().mark((function e(t,n,r){var i,a,o;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yo((i=vi(t)).auth,n,Nu),e.next=4,i.auth._initializationPromise;case 4:return a=Ql(i.auth,r),e.next=7,Xu(!1,i,n.providerId);case 7:return e.next=9,dh(a,i.auth);case 9:return e.next=11,Th(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Eh(e,t){return Sh.apply(this,arguments)}function Sh(){return Sh=ki(mi().mark((function e(t,n){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vs(t)._initializationPromise;case 2:return e.abrupt("return",Ih(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Sh.apply(this,arguments)}function Ih(e,t){return Ch.apply(this,arguments)}function Ch(){return Ch=ki(mi().mark((function e(t,n){var r,i,a,o,s,u=arguments;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Vs(t),a=Ql(i,n),o=new lh(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Ch.apply(this,arguments)}function Th(e){return Nh.apply(this,arguments)}function Nh(){return(Nh=ki(mi().mark((function e(t){var n;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=il("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ph=function(){function e(t){ur(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return lr(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ah(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Ah(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(mo(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rh(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Rh(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Rh(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Ah(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Oh(e){return Dh.apply(this,arguments)}function Dh(){return Dh=ki(mi().mark((function e(t){var n,r=arguments;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Ao(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Dh.apply(this,arguments)}var Lh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mh=/^https?/;function Fh(){return Fh=ki(mi().mark((function e(t){var n,r,i,a,o;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Oh(t);case 4:n=e.sent,r=n.authorizedDomains,i=hr(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!jh(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:vo(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Fh.apply(this,arguments)}function jh(e){var t=xo(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Mh.test(r))return!1;if(Lh.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Uh=new Io(3e4,6e4);function qh(){var e=ol().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=yi(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var zh=null;function Vh(e){return zh=zh||function(e){return new Promise((function(t,n){var r,i,a;function o(){qh(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){qh(),n(mo(e,"network-request-failed"))},timeout:Uh.get()})}if(null===(i=null===(r=ol().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=ol().gapi)||void 0===a?void 0:a.load)){var s=Ms("iframefcb");return ol()[s]=function(){gapi.load?o():n(mo(e,"network-request-failed"))},Ls("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw zh=null,e}))}(e),zh}var Bh=new Io(5e3,15e3),Wh="__/auth/iframe",Hh="emulator/auth/iframe",Gh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qh(e){var t=e.config;ko(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Co(t,Hh):"https://".concat(e.config.authDomain,"/").concat(Wh),r={apiKey:t.apiKey,appName:e.name,v:ga},i=Kh.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(ri(r).slice(1))}function Yh(e){return Xh.apply(this,arguments)}function Xh(){return Xh=ki(mi().mark((function e(t){var n,r;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vh(t);case 2:return n=e.sent,ko(r=ol().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Qh(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Gh,dontclear:!0},(function(e){return new Promise(function(){var n=ki(mi().mark((function n(r,i){var a,o,s;return mi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){ol().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=mo(t,"network-request-failed"),o=ol().setTimeout((function(){i(a)}),Bh.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Xh.apply(this,arguments)}var Jh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$h=function(){function e(t){ur(this,e),this.window=t,this.associatedEvent=null}return lr(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Zh(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},Jh),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Fr().toLowerCase();n&&(s=ks(c)?"_blank":n),ys(c)&&(t=t||"http://localhost",u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=ir(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return Ss(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fr())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new $h(null);var h=window.open(t||"",s,l);ko(h,e,"popup-blocked");try{h.focus()}catch(f){}return new $h(h)}var ef="__/auth/handler",tf="emulator/auth/handler",nf=encodeURIComponent("fac");function rf(e,t,n,r,i,a){return af.apply(this,arguments)}function af(){return af=ki(mi().mark((function e(t,n,r,i,a,o){var s,u,c,l,h,f,d,p,v,m,g,y,b;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ko(t.config.authDomain,t,"auth-domain-config-required"),ko(t.config.apiKey,t,"invalid-api-key"),s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:ga,eventId:a},n instanceof Nu)for(n.setDefaultLanguage(t.languageCode),s.providerId=n.providerId||"",Zr(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters())),u=0,c=Object.entries(o||{});u<c.length;u++)l=ir(c[u],2),h=l[0],f=l[1],s[h]=f;for(n instanceof Pu&&(d=n.getScopes().filter((function(e){return""!==e}))).length>0&&(s.scopes=d.join(",")),t.tenantId&&(s.tid=t.tenantId),p=s,v=0,m=Object.keys(p);v<m.length;v++)g=m[v],void 0===p[g]&&delete p[g];return e.next=10,t._getAppCheckToken();case 10:return y=e.sent,b=y?"#".concat(nf,"=").concat(encodeURIComponent(y)):"",e.abrupt("return","".concat(of(t),"?").concat(ri(p).slice(1)).concat(b));case 13:case"end":return e.stop()}}),e)}))),af.apply(this,arguments)}function of(e){var t=e.config;return t.emulator?Co(t,tf):"https://".concat(t.authDomain,"/").concat(ef)}var sf="webStorageSupport",uf=function(){function e(){ur(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tl,this._completeRedirectFn=Ih,this._overrideRedirectResult=vh}return lr(e,[{key:"_openPopup",value:function(){var e=ki(mi().mark((function e(t,n,r,i){var a,o;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _o(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,rf(t,n,r,xo(),i);case 3:return o=e.sent,e.abrupt("return",Zh(t,o,il()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ki(mi().mark((function e(t,n,r,i){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,rf(t,n,r,xo(),i);case 4:return sl(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(_o(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=ki(mi().mark((function e(t){var n,r;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yh(t);case 2:return n=e.sent,r=new Ph(t),n.register("authEvent",(function(e){return ko(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(sf,{type:sf},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[sf];void 0!==i&&t(!!i),vo(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Fh.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Is()||bs()||Ss()}}]),e}(),cf=uf,lf=function(){function e(t){ur(this,e),this.factorId=t}return lr(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return wo("unexpected MultiFactorSessionType")}}}]),e}(),hf=function(e){pr(n,e);var t=gr(n);function n(e){var r;return ur(this,n),(r=t.call(this,"phone")).credential=e,r}return lr(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Ao(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ro(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Ao(e,"POST","/v2/accounts/mfaSignIn:finalize",Ro(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(lf),ff=function(){function e(){ur(this,e)}return lr(e,null,[{key:"assertion",value:function(e){return hf._fromCredential(e)}}]),e}();ff.FACTOR_ID="phone";var df=function(){function e(){ur(this,e)}return lr(e,null,[{key:"assertionForEnrollment",value:function(e,t){return pf._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return pf._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=ki(mi().mark((function e(t){var n,r;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ko("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,Hc(n.auth,{idToken:n.credential,totpEnrollmentInfo:{}});case 4:return r=e.sent,e.abrupt("return",vf._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();df.FACTOR_ID="totp";var pf=function(e){pr(n,e);var t=gr(n);function n(e,r,i){var a;return ur(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return lr(n,[{key:"_finalizeEnroll",value:function(){var e=ki(mi().mark((function e(t,n,r){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ko("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",Gc(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=ki(mi().mark((function e(t,n){var r;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ko(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",Cl(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(lf),vf=function(){function e(t,n,r,i,a,o,s){ur(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return lr(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(mf(e)||mf(t))&&(r=!0),r&&(mf(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),mf(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function mf(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var gf="@firebase/auth",yf="0.23.2",bf=function(){function e(t){ur(this,e),this.auth=t,this.internalListeners=new Map}return lr(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=ki(mi().mark((function e(t){var n;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){ko(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var kf;!function(e){var t;null===(t=Or())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function wf(){return window}kf="Browser",la(new wi("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,s=o.apiKey,u=o.authDomain;ko(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:s,authDomain:u,clientPlatform:kf,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cs(kf)},l=new zs(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(fs);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),la(new wi("auth-internal",(function(e){return function(e){return new bf(e)}(Vs(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),xa(gf,yf,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(kf)),xa(gf,yf,"esm2017");var _f=2e3;function xf(e,t,n){return Ef.apply(this,arguments)}function Ef(){return Ef=ki(mi().mark((function e(t,n,r){var i,a,o,s,u;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=wf(),o=a.BuildInfo,_o(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Pf(n.sessionId);case 4:return s=e.sent,u={},Ss()?u.ibi=o.packageName:_s()?u.apn=o.packageName:vo(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",rf(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),Ef.apply(this,arguments)}function Sf(){return Sf=ki(mi().mark((function e(t){var n,r,i;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=wf(),r=n.BuildInfo,i={},Ss()?i.iosBundleId=r.packageName:_s()?i.androidPackageName=r.packageName:vo(t,"operation-not-supported-in-this-environment"),e.next=5,Oh(t,i);case 5:case"end":return e.stop()}}),e)}))),Sf.apply(this,arguments)}function If(e){var t=wf().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fr();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Cf(e,t,n){return Tf.apply(this,arguments)}function Tf(){return Tf=ki(mi().mark((function e(t,n,r){var i,a,o;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=wf(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(mo(t,"redirect-cancelled-by-user"))}),_f))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),_s()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Tf.apply(this,arguments)}function Nf(e){var t,n,r,i,a,o,s,u,c,l,h=wf();ko("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ko("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ko("function"===typeof(null===(a=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ko("function"===typeof(null===(u=null===(s=null===(o=null===h||void 0===h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ko("function"===typeof(null===(l=null===(c=null===h||void 0===h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Pf(e){return Rf.apply(this,arguments)}function Rf(){return(Rf=ki(mi().mark((function e(t){var n,r,i;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Af(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Af(e){if(_o(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Of=20,Df=function(e){pr(n,e);var t=gr(n);function n(){var e;return ur(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return lr(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Ja(vr(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=ki(mi().mark((function e(){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Ph);function Lf(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:qf(),postBody:null,tenantId:e.tenantId,error:mo(e,"no-auth-event")}}function Mf(e,t){return zf()._set(Vf(e),t)}function Ff(e){return jf.apply(this,arguments)}function jf(){return jf=ki(mi().mark((function e(t){var n;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zf()._get(Vf(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,zf()._remove(Vf(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),jf.apply(this,arguments)}function Uf(e,t){var n,r,i=function(e){var t=Bf(e),n=t.link?decodeURIComponent(t.link):void 0,r=Bf(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Bf(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Bf(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?mo(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function qf(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<Of;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function zf(){return fs(Zc)}function Vf(e){return vs("authEvent",e.config.apiKey,e.name)}function Bf(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=Xa(e.split("?"));t[0];return ii(t.slice(1).join("?"))}var Wf=function(){function e(){ur(this,e),this._redirectPersistence=tl,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ih,this._overrideRedirectResult=vh}return lr(e,[{key:"_initialize",value:function(){var e=ki(mi().mark((function e(t){var n,r;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Df(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){vo(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=ki(mi().mark((function e(t,n,r,i){var a,o,s,u;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nf(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),ch.clear(),e.next=10,this._originValidation(t);case 10:return o=Lf(t,r,i),e.next=13,Mf(t,o);case 13:return e.next=15,xf(t,o,n);case 15:return s=e.sent,e.next=18,If(s);case 18:return u=e.sent,e.abrupt("return",Cf(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Sf.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=wf(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(ki(mi().mark((function n(){return mi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ff(e);case 2:t.onEvent(Gf());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=ki(mi().mark((function n(r){var i,a;return mi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Ff(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Uf(i,r.url)),t.onEvent(a||Gf());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");wf().handleOpenURL=function(){var e=ki(mi().mark((function e(t){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Hf=Wf;function Gf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:mo("no-auth-event")}}var Kf=1e3;function Qf(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Yf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fr();return!("file:"!==Qf()&&"ionic:"!==Qf()&&"capacitor:"!==Qf()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Xf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fr();return Vr()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fr();return/Edge\/\d+/.test(e)}(e)}function Jf(){try{var e=self.localStorage,t=il();if(e)return e.setItem(t,"1"),e.removeItem(t),!Xf()||Wr()}catch(n){return $f()&&Wr()}return!1}function $f(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Zf(){return("http:"===Qf()||"https:"===Qf()||qr()||Yf())&&!(zr()||Ur())&&Jf()&&!$f()}function ed(){return Yf()&&"undefined"!==typeof document}function td(){return nd.apply(this,arguments)}function nd(){return(nd=ki(mi().mark((function e(){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ed()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),Kf);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rd={LOCAL:"local",NONE:"none",SESSION:"session"},id=ko,ad="persistence";function od(e,t){id(Object.values(rd).includes(t),e,"invalid-persistence-type"),zr()?id(t!==rd.SESSION,e,"unsupported-persistence-type"):Ur()?id(t===rd.NONE,e,"unsupported-persistence-type"):$f()?id(t===rd.NONE||t===rd.LOCAL&&Wr(),e,"unsupported-persistence-type"):id(t===rd.NONE||Jf(),e,"unsupported-persistence-type")}function sd(e){return ud.apply(this,arguments)}function ud(){return ud=ki(mi().mark((function e(t){var n,r;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=cd(),r=vs(ad,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),ud.apply(this,arguments)}function cd(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var ld=ko,hd=function(){function e(){ur(this,e),this.browserResolver=fs(cf),this.cordovaResolver=fs(Hf),this.underlyingResolver=null,this._redirectPersistence=tl,this._completeRedirectFn=Ih,this._overrideRedirectResult=vh}return lr(e,[{key:"_initialize",value:function(){var e=ki(mi().mark((function e(t){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=ki(mi().mark((function e(t,n,r,i){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ki(mi().mark((function e(t,n,r,i){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return ed()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return ld(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=ki(mi().mark((function e(){var t;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,td();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function fd(e){return e.unwrap()}function dd(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new yd(e,function(e,t){var n,r=vi(e),i=t;return ko(t.customData.operationType,r,"argument-error"),ko(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Bc._fromError(r,i)}(e,t));else if(r){var i=pd(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function pd(e){var t=(e instanceof Hr?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Hr)&&"temporaryProof"in t&&"phoneNumber"in t)return Kl.credentialFromResult(e);var n,r=t.providerId;if(!r||r===eo.PASSWORD)return null;switch(r){case eo.GOOGLE:n=Ou;break;case eo.FACEBOOK:n=Au;break;case eo.GITHUB:n=Du;break;case eo.TWITTER:n=Fu;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?Lu._create(r,s):bu._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new Ru(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof Hr?n.credentialFromError(e):n.credentialFromResult(e)}function vd(e,t){return t.catch((function(t){throw t instanceof Hr&&dd(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,pd(t)),additionalUserInfo:zc(e),user:bd.getOrCreate(r)}}))}function md(e,t){return gd.apply(this,arguments)}function gd(){return gd=ki(mi().mark((function e(t,n){var r;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return vd(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),gd.apply(this,arguments)}var yd=function(){function e(t,n){ur(this,e),this.resolver=n,this.auth=t.wrapped()}return lr(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return vd(fd(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),bd=function(){function e(t){ur(this,e),this._delegate=t,this.multiFactor=function(e){var t=vi(e);return Yc.has(t)||Yc.set(t,Qc._fromUser(t)),Yc.get(t)}(t)}return lr(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=ki(mi().mark((function e(t){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vd(this.auth,ic(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=ki(mi().mark((function e(t,n){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",md(this.auth,zl(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=ki(mi().mark((function e(t){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vd(this.auth,ah(this._delegate,t,hd)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=ki(mi().mark((function e(t){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sd(Vs(this.auth));case 2:return e.abrupt("return",_h(this._delegate,t,hd));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=ki(mi().mark((function e(t){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vd(this.auth,oc(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return md(this.auth,function(e,t,n){return Bl.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return vd(this.auth,function(e,t,n){return ih.apply(this,arguments)}(this._delegate,e,hd))}},{key:"reauthenticateWithRedirect",value:function(){var e=ki(mi().mark((function e(t){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sd(Vs(this.auth));case 2:return e.abrupt("return",kh(this._delegate,t,hd));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Tc.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=ki(mi().mark((function e(t){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gu(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Oc(vi(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Oc(vi(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Gl.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Ac.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Nc.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();bd.USER_MAP=new WeakMap;var kd=ko,wd=function(){function e(t,n){if(ur(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;kd(r,"invalid-api-key",{appName:t.name}),kd(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?hd:void 0;this._delegate=n.initialize({options:{persistence:xd(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(uo),this.linkUnderlyingAuth()}return lr(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?bd.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Ws(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return gc.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return yc(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return mc.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=ki(mi().mark((function e(t,n){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vd(this._delegate,wc(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Cc.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Cu.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=ki(mi().mark((function e(){var t;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kd(Zf(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Eh(this._delegate,hd);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",vd(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Vs(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=_d(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=_d(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return xc.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return vc.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=ki(mi().mark((function e(t){var n,r;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:od(this._delegate,t),e.t0=t,e.next=e.t0===rd.SESSION?4:e.t0===rd.LOCAL?6:e.t0===rd.NONE?11:13;break;case 4:return n=tl,e.abrupt("break",14);case 6:return e.next=8,fs(Sl)._isAvailable();case 8:return r=e.sent,n=r?Sl:Zc,e.abrupt("break",14);case 11:return n=ps,e.abrupt("break",14);case 13:return e.abrupt("return",vo("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return vd(this._delegate,function(e){return Vu.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return vd(this._delegate,nc(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return vd(this._delegate,function(e,t){return lc.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return vd(this._delegate,function(e,t,n){return nc(vi(e),Tu.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return vd(this._delegate,function(e,t,n){return Ec.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return md(this._delegate,function(e,t,n){return ql.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=ki(mi().mark((function e(t){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kd(Zf(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",vd(this._delegate,nh(this._delegate,t,hd)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=ki(mi().mark((function e(t){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kd(Zf(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,sd(this._delegate);case 3:return e.abrupt("return",yh(this._delegate,t,hd));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return kc.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function _d(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&bd.getOrCreate(e))},error:t,complete:n}}function xd(e,t){var n=function(e,t){var n=cd();if(!n)return[];var r=vs(ad,e,t);switch(n.getItem(r)){case rd.NONE:return[ps];case rd.LOCAL:return[Sl,tl];case rd.SESSION:return[tl];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Sl)||n.push(Sl),"undefined"!==typeof window)for(var r=0,i=[Zc,tl];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(ps)||n.push(ps),n}wd.Persistence=rd;var Ed=function(){function e(){ur(this,e),this.providerId="phone",this._delegate=new Kl(fd(Ya.auth()))}return lr(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Kl.credential(e,t)}}]),e}();Ed.PHONE_SIGN_IN_METHOD=Kl.PHONE_SIGN_IN_METHOD,Ed.PROVIDER_ID=Kl.PROVIDER_ID;var Sd,Id=ko,Cd=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ya.app();ur(this,e),Id(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Fl(t,n,i.auth()),this.type=this._delegate.type}return lr(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Sd=Ya).INTERNAL.registerComponent(new wi("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new wd(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:to,PASSWORD_RESET:no,RECOVER_EMAIL:ro,REVERT_SECOND_FACTOR_ADDITION:io,VERIFY_AND_CHANGE_EMAIL:ao,VERIFY_EMAIL:oo}},EmailAuthProvider:Tu,FacebookAuthProvider:Au,GithubAuthProvider:Du,GoogleAuthProvider:Ou,OAuthProvider:Ru,SAMLAuthProvider:Mu,PhoneAuthProvider:Ed,PhoneMultiFactorGenerator:ff,RecaptchaVerifier:Cd,TwitterAuthProvider:Fu,Auth:wd,AuthCredential:Ks,Error:Hr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Sd.registerVersion("@firebase/auth-compat","0.4.2");var Td=function(){function e(t){ur(this,e),this.uid=t}return lr(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Td.UNAUTHENTICATED=new Td(null),Td.GOOGLE_CREDENTIALS=new Td("google-credentials-uid"),Td.FIRST_PARTY=new Td("first-party-uid"),Td.MOCK_USER=new Td("mock-user");var Nd="9.23.0",Pd=new Ai("@firebase/firestore");function Rd(e){if(Pd.logLevel<=Si.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Od);Pd.debug.apply(Pd,["Firestore (".concat(Nd,"): ").concat(e)].concat(yi(i)))}}function Ad(e){if(Pd.logLevel<=Si.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Od);Pd.error.apply(Pd,["Firestore (".concat(Nd,"): ").concat(e)].concat(yi(i)))}}function Od(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Dd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Nd,") INTERNAL ASSERTION FAILED: ")+e;throw Ad(t),new Error(t)}function Ld(e,t){e||Dd()}var Md="invalid-argument",Fd="failed-precondition",jd=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return lr(n)}(Hr),Ud=lr((function e(t,n){ur(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),qd=function(){function e(){ur(this,e)}return lr(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Td.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),zd=function(){function e(t){var n=this;ur(this,e),this.auth=null,t.onInit((function(e){n.auth=e}))}return lr(e,[{key:"getToken",value:function(){var e=this;return this.auth?this.auth.getToken().then((function(t){return t?(Ld("string"==typeof t.accessToken),new Ud(t.accessToken,new Td(e.auth.getUid()))):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){}},{key:"shutdown",value:function(){}}]),e}(),Vd=function(){function e(t,n,r){ur(this,e),this.t=t,this.i=n,this.o=r,this.type="FirstParty",this.user=Td.FIRST_PARTY,this.u=new Map}return lr(e,[{key:"h",value:function(){return this.o?this.o():null}},{key:"headers",get:function(){this.u.set("X-Goog-AuthUser",this.t);var e=this.h();return e&&this.u.set("Authorization",e),this.i&&this.u.set("X-Goog-Iam-Authorization-Token",this.i),this.u}}]),e}(),Bd=function(){function e(t,n,r){ur(this,e),this.t=t,this.i=n,this.o=r}return lr(e,[{key:"getToken",value:function(){return Promise.resolve(new Vd(this.t,this.i,this.o))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Td.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Wd=lr((function e(t){ur(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Hd=function(){function e(t){var n=this;ur(this,e),this.l=t,this.appCheck=null,t.onInit((function(e){n.appCheck=e}))}return lr(e,[{key:"getToken",value:function(){return this.appCheck?this.appCheck.getToken().then((function(e){return e?(Ld("string"==typeof e.token),new Wd(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){}},{key:"shutdown",value:function(){}}]),e}(),Gd=function(){function e(t,n){ur(this,e),this.projectId=t,this.database=n||"(default)"}return lr(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Kd(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var Qd,Yd;(Yd=Qd||(Qd={}))[Yd.OK=0]="OK",Yd[Yd.CANCELLED=1]="CANCELLED",Yd[Yd.UNKNOWN=2]="UNKNOWN",Yd[Yd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yd[Yd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yd[Yd.NOT_FOUND=5]="NOT_FOUND",Yd[Yd.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yd[Yd.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yd[Yd.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yd[Yd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yd[Yd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yd[Yd.ABORTED=10]="ABORTED",Yd[Yd.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yd[Yd.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yd[Yd.INTERNAL=13]="INTERNAL",Yd[Yd.UNAVAILABLE=14]="UNAVAILABLE",Yd[Yd.DATA_LOSS=15]="DATA_LOSS";function Xd(e,t){return e<t?-1:e>t?1:0}var Jd=function(e){pr(n,e);var t=gr(n);function n(){var e;return ur(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return lr(n)}(br(Error)),$d=function(e){function t(e){ur(this,t),this.binaryString=e}return lr(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Xd(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Jd("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();$d.EMPTY_BYTE_STRING=new $d("");var Zd=function(){function e(t,n,r,i,a){ur(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return lr(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Dd();if(this.right.isRed())throw Dd();var e=this.left.check();if(e!==this.right.check())throw Dd();return e+(this.isRed()?0:1)}}]),e}();Zd.EMPTY=null,Zd.RED=!0,Zd.BLACK=!1,Zd.EMPTY=new(function(){function e(){ur(this,e),this.size=0}return lr(e,[{key:"key",get:function(){throw Dd()}},{key:"value",get:function(){throw Dd()}},{key:"color",get:function(){throw Dd()}},{key:"left",get:function(){throw Dd()}},{key:"right",get:function(){throw Dd()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Zd(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var ep=new Map;var tp=function(){function e(t){var n,r;if(ur(this,e),void 0===t.host){if(void 0!==t.ssl)throw new jd(Md,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new jd(Md,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}!function(e,t,n,r){if(!0===t&&!0===r)throw new jd(Md,"".concat("experimentalForceLongPolling"," and ").concat("experimentalAutoDetectLongPolling"," cannot be used together."))}(0,t.experimentalForceLongPolling,0,t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Kd(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new jd(Md,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new jd(Md,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new jd(Md,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return lr(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}]),e}(),np=function(){function e(t,n,r,i){ur(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tp({}),this._settingsFrozen=!1}return lr(e,[{key:"app",get:function(){if(!this._app)throw new jd(Fd,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new jd(Fd,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tp(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new qd;switch(e.type){case"firstParty":return new Bd(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new jd(Md,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=ep.get(e);t&&(Rd("ComponentProvider","Removing Datastore"),ep.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();var rp;rp="".concat(ga,"_lite"),Nd=rp,la(new wi("firestore/lite",(function(e,t){var n=t.instanceIdentifier,r=t.options,i=e.getProvider("app").getImmediate(),a=new np(new zd(e.getProvider("auth-internal")),new Hd(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new jd(Md,'"projectId" not provided in firebase.initializeApp.');return new Gd(e.options.projectId,t)}(i,n),i);return r&&a._setSettings(r),a}),"PUBLIC").setMultipleInstances(!0)),xa("firestore-lite","3.13.0",""),xa("firestore-lite","3.13.0","esm2017");var ip,ap=Ya.initializeApp({apiKey:"AIzaSyDE-Cl5RxG1byLc4pjoBxD3aXWO3wi43P8",authDomain:"diary-6211f.firebaseapp.com",projectId:"diary-6211f",storageBucket:"diary-6211f.appspot.com",messagingSenderId:"765031385372",appId:"1:765031385372:web:9b72a3164df87c4c9712d9",measurementId:"G-5VWBRJH7V4"}),op=ap.auth(),sp=n(184),up=t.createContext();function cp(){return(0,t.useContext)(up)}function lp(e){var n=e.children,r=ir((0,t.useState)(),2),i=r[0],a=r[1],o=ir((0,t.useState)(!0),2),s=o[0],u=o[1];(0,t.useEffect)((function(){return op.onAuthStateChanged((function(e){a(e),u(!1)}))}),[]);var c={currentUser:i,signup:function(e,t){return op.createUserWithEmailAndPassword(e,t)},login:function(e,t){return op.signInWithEmailAndPassword(e,t)},logout:function(){return op.signOut()},resetPassword:function(e){return op.sendPasswordResetEmail(e)},updateEmail:function(e){return i.updateEmail(e)},updatePassword:function(e){return i.updatePassword(e)},setUserId:function(){return i}};return(0,sp.jsx)(up.Provider,{value:c,children:!s&&n})}function hp(){return hp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hp.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(ip||(ip={}));var fp,dp="popstate";function pp(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function vp(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function mp(e,t){return{usr:e.state,key:e.key,idx:t}}function gp(e,t,n,r){return void 0===n&&(n=null),hp({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?bp(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function yp(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function bp(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function kp(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,s=i.v5Compat,u=void 0!==s&&s,c=o.history,l=ip.Pop,h=null,f=d();function d(){return(c.state||{idx:null}).idx}function p(){l=ip.Pop;var e=d(),t=null==e?null:e-f;f=e,h&&h({action:l,location:m.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:yp(e);return pp(t,"No window.location.(origin|href) available to create URL for href: "+(n=n.replace(/ $/,"%20"))),new URL(n,t)}null==f&&(f=0,c.replaceState(hp({},c.state,{idx:f}),""));var m={get action(){return l},get location(){return e(o,c)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(dp,p),h=e,function(){o.removeEventListener(dp,p),h=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=ip.Push;var r=gp(m.location,e,t);n&&n(r,e);var i=mp(r,f=d()+1),a=m.createHref(r);try{c.pushState(i,"",a)}catch(cq){if(cq instanceof DOMException&&"DataCloneError"===cq.name)throw cq;o.location.assign(a)}u&&h&&h({action:l,location:m.location,delta:1})},replace:function(e,t){l=ip.Replace;var r=gp(m.location,e,t);n&&n(r,e);var i=mp(r,f=d()),a=m.createHref(r);c.replaceState(i,"",a),u&&h&&h({action:l,location:m.location,delta:0})},go:function(e){return c.go(e)}};return m}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(fp||(fp={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function wp(e,t,n){void 0===n&&(n="/");var r=Lp(("string"===typeof t?bp(t):t).pathname||"/",n);if(null==r)return null;var i=_p(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o){var s=Dp(r);a=Ap(i[o],s)}return a}function _p(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(pp(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=qp([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(pp(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),_p(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:Rp(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=hr(xp(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function xp(e){var t=e.split("/");if(0===t.length)return[];var n=Xa(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var s=xp(i.join("/")),u=[];return u.push.apply(u,yi(s.map((function(e){return""===e?o:[o,e].join("/")})))),a&&u.push.apply(u,yi(s)),u.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var Ep=/^:[\w-]+$/,Sp=3,Ip=2,Cp=1,Tp=10,Np=-2,Pp=function(e){return"*"===e};function Rp(e,t){var n=e.split("/"),r=n.length;return n.some(Pp)&&(r+=Np),t&&(r+=Ip),n.filter((function(e){return!Pp(e)})).reduce((function(e,t){return e+(Ep.test(t)?Sp:""===t?Cp:Tp)}),r)}function Ap(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=Op({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var h=s.route;a.push({params:r,pathname:qp([i,l.pathname]),pathnameBase:zp(qp([i,l.pathnameBase])),route:h}),"/"!==l.pathnameBase&&(i=qp([i,l.pathnameBase]))}return a}function Op(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);vp("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(function(e,t,n){return r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"}));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=ir(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){var r=t.paramName,i=t.isOptional;if("*"===r){var a=c[n]||"";u=s.slice(0,s.length-a.length).replace(/(.)\/+$/,"$1")}var o=c[n];return e[r]=i&&!o?void 0:(o||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function Dp(e){try{return e.split("/").map((function(e){return decodeURIComponent(e).replace(/\//g,"%2F")})).join("/")}catch(cq){return vp(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+cq+")."),e}}function Lp(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Mp(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Fp(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function jp(e,t){var n=Fp(e);return t?n.map((function(t,n){return n===e.length-1?t.pathname:t.pathnameBase})):n.map((function(e){return e.pathnameBase}))}function Up(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=bp(e):(pp(!(i=hp({},e)).pathname||!i.pathname.includes("?"),Mp("?","pathname","search",i)),pp(!i.pathname||!i.pathname.includes("#"),Mp("#","pathname","hash",i)),pp(!i.search||!i.search.includes("#"),Mp("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(null==s)a=n;else{var u=t.length-1;if(!r&&s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?bp(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:Vp(a),hash:Bp(s)}}(i,a),h=s&&"/"!==s&&s.endsWith("/"),f=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!h&&!f||(l.pathname+="/"),l}var qp=function(e){return e.join("/").replace(/\/\/+/g,"/")},zp=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},Vp=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},Bp=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},Wp=function(e){pr(n,e);var t=gr(n);function n(){return ur(this,n),t.apply(this,arguments)}return lr(n)}(br(Error));function Hp(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Gp=["post","put","patch","delete"],Kp=(new Set(Gp),["get"].concat(Gp));new Set(Kp),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function Qp(){return Qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qp.apply(this,arguments)}var Yp=t.createContext(null);var Xp=t.createContext(null);var Jp=t.createContext(null);var $p=t.createContext(null);var Zp=t.createContext(null);var ev=t.createContext({outlet:null,matches:[],isDataRoute:!1});var tv=t.createContext(null);function nv(){return null!=t.useContext(Zp)}function rv(){return nv()||pp(!1),t.useContext(Zp).location}function iv(e){t.useContext($p).static||t.useLayoutEffect(e)}function av(){return t.useContext(ev).isDataRoute?function(){var e=mv(pv.UseNavigateStable).router,n=yv(vv.UseNavigateStable),r=t.useRef(!1);iv((function(){r.current=!0}));var i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,Qp({fromRouteId:n},i)))}),[e,n]);return i}():function(){nv()||pp(!1);var e=t.useContext(Yp),n=t.useContext($p),r=n.basename,i=n.future,a=n.navigator,o=t.useContext(ev).matches,s=rv().pathname,u=JSON.stringify(jp(o,i.v7_relativeSplatPath)),c=t.useRef(!1);iv((function(){c.current=!0}));var l=t.useCallback((function(t,n){if(void 0===n&&(n={}),c.current)if("number"!==typeof t){var i=Up(t,JSON.parse(u),s,"path"===n.relative);null==e&&"/"!==r&&(i.pathname="/"===i.pathname?r:qp([r,i.pathname])),(n.replace?a.replace:a.push)(i,n.state,n)}else a.go(t)}),[r,a,u,s,e]);return l}()}var ov=t.createContext(null);function sv(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext($p).future,a=t.useContext(ev).matches,o=rv().pathname,s=JSON.stringify(jp(a,i.v7_relativeSplatPath));return t.useMemo((function(){return Up(e,JSON.parse(s),o,"path"===r)}),[e,s,o,r])}function uv(e,n,r,i){nv()||pp(!1);var a,o=t.useContext($p).navigator,s=t.useContext(ev).matches,u=s[s.length-1],c=u?u.params:{},l=(u&&u.pathname,u?u.pathnameBase:"/"),h=(u&&u.route,rv());if(n){var f,d="string"===typeof n?bp(n):n;"/"===l||(null==(f=d.pathname)?void 0:f.startsWith(l))||pp(!1),a=d}else a=h;var p=a.pathname||"/",v=p;if("/"!==l){var m=l.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(m.length).join("/")}var g=wp(e,{pathname:v});var y=dv(g&&g.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:qp([l,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:qp([l,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),s,r,i);return n&&y?t.createElement(Zp.Provider,{value:{location:Qp({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:ip.Pop}},y):y}function cv(){var e=function(){var e,n=t.useContext(tv),r=gv(vv.UseRouteError),i=yv(vv.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=Hp(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var lv=t.createElement(cv,null),hv=function(e){pr(r,e);var n=gr(r);function r(e){var t;return ur(this,r),(t=n.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},t}return lr(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return void 0!==this.state.error?t.createElement(ev.Provider,{value:this.props.routeContext},t.createElement(tv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),r}(t.Component);function fv(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(Yp);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(ev.Provider,{value:n},i)}function dv(e,n,r,i){var a;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){var o;if(null==(o=r)||!o.errors)return null;e=r.matches}var s=e,u=null==(a=r)?void 0:a.errors;if(null!=u){var c=s.findIndex((function(e){return e.route.id&&(null==u?void 0:u[e.route.id])}));c>=0||pp(!1),s=s.slice(0,Math.min(s.length,c+1))}var l=!1,h=-1;if(r&&i&&i.v7_partialHydration)for(var f=0;f<s.length;f++){var d=s[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(h=f),d.route.id){var p=r,v=p.loaderData,m=p.errors,g=d.route.loader&&void 0===v[d.route.id]&&(!m||void 0===m[d.route.id]);if(d.route.lazy||g){l=!0,s=h>=0?s.slice(0,h+1):[s[0]];break}}}return s.reduceRight((function(e,i,a){var o,c,f=!1,d=null,p=null;r&&(o=u&&i.route.id?u[i.route.id]:void 0,d=i.route.errorElement||lv,l&&(h<0&&0===a?(c="route-fallback",!1||bv[c]||(bv[c]=!0),f=!0,p=null):h===a&&(f=!0,p=i.route.hydrateFallbackElement||null)));var v=n.concat(s.slice(0,a+1)),m=function(){var n;return n=o?d:f?p:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(fv,{match:i,routeContext:{outlet:e,matches:v,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?t.createElement(hv,{location:r.location,revalidation:r.revalidation,component:d,error:o,children:m(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):m()}),null)}var pv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(pv||{}),vv=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(vv||{});function mv(e){var n=t.useContext(Yp);return n||pp(!1),n}function gv(e){var n=t.useContext(Xp);return n||pp(!1),n}function yv(e){var n=function(e){var n=t.useContext(ev);return n||pp(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||pp(!1),r.route.id}var bv={};r.startTransition;function kv(e){var n=e.to,r=e.replace,i=e.state,a=e.relative;nv()||pp(!1);var o=t.useContext($p),s=o.future,u=(o.static,t.useContext(ev).matches),c=rv().pathname,l=av(),h=Up(n,jp(u,s.v7_relativeSplatPath),c,"path"===a),f=JSON.stringify(h);return t.useEffect((function(){return l(JSON.parse(f),{replace:r,state:i,relative:a})}),[l,f,a,r,i]),null}function wv(e){return function(e){var n=t.useContext(ev).outlet;return n?t.createElement(ov.Provider,{value:e},n):n}(e.context)}function _v(e){pp(!1)}function xv(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,s=e.navigationType,u=void 0===s?ip.Pop:s,c=e.navigator,l=e.static,h=void 0!==l&&l,f=e.future;nv()&&pp(!1);var d=r.replace(/^\/*/,"/"),p=t.useMemo((function(){return{basename:d,navigator:c,static:h,future:Qp({v7_relativeSplatPath:!1},f)}}),[d,f,c,h]);"string"===typeof o&&(o=bp(o));var v=o,m=v.pathname,g=void 0===m?"/":m,y=v.search,b=void 0===y?"":y,k=v.hash,w=void 0===k?"":k,_=v.state,x=void 0===_?null:_,E=v.key,S=void 0===E?"default":E,I=t.useMemo((function(){var e=Lp(g,d);return null==e?null:{location:{pathname:e,search:b,hash:w,state:x,key:S},navigationType:u}}),[d,g,b,w,x,S,u]);return null==I?null:t.createElement($p.Provider,{value:p},t.createElement(Zp.Provider,{children:a,value:I}))}function Ev(e){var t=e.children,n=e.location;return uv(Cv(t),n)}var Sv=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(Sv||{}),Iv=new Promise((function(){}));t.Component;function Cv(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e)){var a=[].concat(yi(n),[i]);if(e.type!==t.Fragment){e.type!==_v&&pp(!1),e.props.index&&e.props.children&&pp(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Cv(e.props.children,a)),r.push(o)}else r.push.apply(r,Cv(e.props.children,a))}})),r}function Tv(){return Tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tv.apply(this,arguments)}function Nv(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var Pv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(c$){}new Map;var Rv=r.startTransition;a.flushSync,r.useId;function Av(e){var n=e.basename,r=e.children,i=e.future,a=e.window,o=t.useRef();null==o.current&&(o.current=function(e){return void 0===e&&(e={}),kp((function(e,t){var n=e.location;return gp("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:yp(t)}),null,e)}({window:a,v5Compat:!0}));var s=o.current,u=ir(t.useState({action:s.action,location:s.location}),2),c=u[0],l=u[1],h=(i||{}).v7_startTransition,f=t.useCallback((function(e){h&&Rv?Rv((function(){return l(e)})):l(e)}),[l,h]);return t.useLayoutEffect((function(){return s.listen(f)}),[s,f]),t.createElement(xv,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:s,future:i})}var Ov="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Dv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lv=t.forwardRef((function(e,n){var r,i=e.onClick,a=e.relative,o=e.reloadDocument,s=e.replace,u=e.state,c=e.target,l=e.to,h=e.preventScrollReset,f=e.unstable_viewTransition,d=Nv(e,Pv),p=t.useContext($p).basename,v=!1;if("string"===typeof l&&Dv.test(l)&&(r=l,Ov))try{var m=new URL(window.location.href),g=l.startsWith("//")?new URL(m.protocol+l):new URL(l),y=Lp(g.pathname,p);g.origin===m.origin&&null!=y?l=y+g.search+g.hash:v=!0}catch(c$){}var b=function(e,n){var r=(void 0===n?{}:n).relative;nv()||pp(!1);var i=t.useContext($p),a=i.basename,o=i.navigator,s=sv(e,{relative:r}),u=s.hash,c=s.pathname,l=s.search,h=c;return"/"!==a&&(h="/"===c?a:qp([a,c])),o.createHref({pathname:h,search:l,hash:u})}(l,{relative:a}),k=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=r.preventScrollReset,u=r.relative,c=r.unstable_viewTransition,l=av(),h=rv(),f=sv(e,{relative:u});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:yp(h)===yp(f);l(e,{replace:n,state:o,preventScrollReset:s,relative:u,unstable_viewTransition:c})}}),[h,l,f,a,o,i,e,s,u,c])}(l,{replace:s,state:u,target:c,preventScrollReset:h,relative:a,unstable_viewTransition:f});return t.createElement("a",Tv({},d,{href:r||b,onClick:v||o?i:function(e){i&&i(e),e.defaultPrevented||k(e)},ref:n,target:c}))}));var Mv,Fv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Mv||(Mv={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Fv||(Fv={}));var jv=function(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1};var Uv=function(e){return e!==e};var qv=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1};var zv=function(e,t,n){return t===t?qv(e,t,n):jv(e,Uv,n)};var Vv=function(e,t){return!!(null==e?0:e.length)&&zv(e,t,0)>-1};var Bv=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1};var Wv=function(){},Hv=Ut&&1/ze(new Ut([,-0]))[1]==1/0?function(e){return new Ut(e)}:Wv,Gv=Hv;var Kv=function(e,t,n){var r=-1,i=Vv,a=e.length,o=!0,s=[],u=s;if(n)o=!1,i=Bv;else if(a>=200){var c=t?null:Gv(e);if(c)return ze(c);o=!1,i=Fe,u=new Me}else u=t?[]:s;e:for(;++r<a;){var l=e[r],h=t?t(l):l;if(l=n||0!==l?l:0,o&&h===h){for(var f=u.length;f--;)if(u[f]===h)continue e;t&&u.push(h),s.push(l)}else i(u,h,n)||(u!==s&&u.push(h),s.push(l))}return s};var Qv=function(e){return e&&e.length?Kv(e):[]},Yv=Tt(Object.getPrototypeOf,Object),Xv=Function.prototype,Jv=Object.prototype,$v=Xv.toString,Zv=Jv.hasOwnProperty,em=$v.call(Object);var tm=function(e){if(!et(e)||"[object Object]"!=K(e))return!1;var t=Yv(e);if(null===t)return!0;var n=Zv.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&$v.call(n)==em};var nm=function(e){return"number"==typeof e||et(e)&&"[object Number]"==K(e)};var rm=function(e){return"string"==typeof e||!Ge(e)&&et(e)&&"[object String]"==K(e)};var im=function(e){return!0===e||!1===e||et(e)&&"[object Boolean]"==K(e)};var am=function(e){return null==e};function om(e,n,r,i){if(void 0===i&&(i={}),"function"!==typeof e&&"string"!==typeof e)throw new Error("createShorthand() Component must be a string or function.");if(am(r)||im(r))return null;var a=rm(r),s=nm(r),c=Y(r),l=t.isValidElement(r),h=tm(r),f=a||s||Ge(r);if(!c&&!l&&!h&&!f)return null;var d=i.defaultProps,p=void 0===d?{}:d,v=l&&r.props||h&&r||f&&n(r),m=i.overrideProps,g=void 0===m?{}:m;g=Y(g)?g(o({},p,v)):g;var y=o({},p,v,g);if(p.className||g.className||v.className){var b=u(p.className,g.className,v.className);y.className=Qv(b.split(" ")).join(" ")}if((p.style||g.style||v.style)&&(y.style=o({},p.style,v.style,g.style)),am(y.key)){var k=y.childKey,w=i.autoGenerateKey,_=void 0===w||w;am(k)?_&&(a||s)&&(y.key=r):(y.key="function"===typeof k?k(y):k,delete y.childKey)}return l?t.cloneElement(r,y):"function"===typeof y.children?y.children(e,o({},y,{children:void 0})):f||h?t.createElement(e,y):c?r(e,y,y.children):void 0}function sm(e,t){if("function"!==typeof e&&"string"!==typeof e)throw new Error("createShorthandFactory() Component must be a string or function.");return function(n,r){return om(e,t,n,r)}}var um=sm("input",(function(e){return{type:e}})),cm=sm("label",(function(e){return{children:e}}));function lm(e){var n=e.children,r=e.className,i=e.computer,a=e.color,s=e.floated,c=e.largeScreen,l=e.mobile,d=e.only,k=e.stretched,w=e.tablet,_=e.textAlign,x=e.verticalAlign,E=e.widescreen,S=e.width,I=u(a,h(k,"stretched"),p(d,"only"),v(_),f(s,"floated"),m(x),g(i,"wide computer"),g(c,"wide large screen"),g(l,"wide mobile"),g(w,"wide tablet"),g(E,"wide widescreen"),g(S,"wide"),"column",r),C=y(lm,e),T=b(lm,e);return t.createElement(T,o({},C,{className:I}),n)}lm.handledProps=["as","children","className","color","computer","floated","largeScreen","mobile","only","stretched","tablet","textAlign","verticalAlign","widescreen","width"],lm.propTypes={},lm.create=sm(lm,(function(e){return{children:e}}));var hm=lm;function fm(e){var n=e.centered,r=e.children,i=e.className,a=e.color,s=e.columns,c=e.divided,l=e.only,f=e.reversed,d=e.stretched,k=e.textAlign,w=e.verticalAlign,_=u(a,h(n,"centered"),h(c,"divided"),h(d,"stretched"),p(l,"only"),p(f,"reversed"),v(k),m(w),g(s,"column",!0),"row",i),x=y(fm,e),E=b(fm,e);return t.createElement(E,o({},x,{className:_}),r)}fm.handledProps=["as","centered","children","className","color","columns","divided","only","reversed","stretched","textAlign","verticalAlign"],fm.propTypes={};var dm=fm;function pm(e){var n=e.celled,r=e.centered,i=e.children,a=e.className,s=e.columns,c=e.container,l=e.divided,f=e.doubling,k=e.inverted,w=e.padded,_=e.relaxed,x=e.reversed,E=e.stackable,S=e.stretched,I=e.textAlign,C=e.verticalAlign,T=u("ui",h(r,"centered"),h(c,"container"),h(f,"doubling"),h(k,"inverted"),h(E,"stackable"),h(S,"stretched"),d(n,"celled"),d(l,"divided"),d(w,"padded"),d(_,"relaxed"),p(x,"reversed"),v(I),m(C),g(s,"column",!0),"grid",a),N=y(pm,e),P=b(pm,e);return t.createElement(P,o({},N,{className:T}),i)}pm.handledProps=["as","celled","centered","children","className","columns","container","divided","doubling","inverted","padded","relaxed","reversed","stackable","stretched","textAlign","verticalAlign"],pm.Column=hm,pm.Row=dm,pm.propTypes={};var vm=pm;function mm(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,dr(e,t)}var gm=/\s/;var ym=function(e){for(var t=e.length;t--&&gm.test(e.charAt(t)););return t},bm=/^\s+/;var km=function(e){return e?e.slice(0,ym(e)+1).replace(bm,""):e},wm=/^[-+]0x[0-9a-f]+$/i,_m=/^0b[01]+$/i,xm=/^0o[0-7]+$/i,Em=parseInt;var Sm=function(e){if("number"==typeof e)return e;if(hn(e))return NaN;if(Q(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Q(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=km(e);var n=_m.test(e);return n||xm.test(e)?Em(e.slice(2),n?2:8):wm.test(e)?NaN:+e},Im=1/0;var Cm=function(e){return e?(e=Sm(e))===Im||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0};var Tm=function(e){var t=Cm(e),n=t%1;return t===t?n?t-n:t:0};var Nm=function(e,t){return kn(t,(function(t){return e[t]}))};var Pm=function(e){return null==e?[]:Nm(e,Ot(e))},Rm=Math.max;var Am=function(e,t,n,r){e=At(e)?e:Pm(e),n=n&&!r?Tm(n):0;var i=e.length;return n<0&&(n=Rm(i+n,0)),rm(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&zv(e,t,n)>-1};var Om=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};var Dm=function(e){return"function"==typeof e?e:On};var Lm=function(e,t){return(Ge(e)?Om:qn)(e,Dm(t))},Mm=["selected","defaultValue","defaultChecked","accept","autoCapitalize","autoComplete","autoCorrect","autoFocus","checked","disabled","enterKeyHint","form","id","inputMode","lang","list","max","maxLength","min","minLength","multiple","name","pattern","placeholder","readOnly","required","step","title","type","value"],Fm=[].concat(Mm,["onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onClick","onContextMenu","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"]),jm=["alt","height","src","srcSet","width","loading"],Um=function(e,t){void 0===t&&(t={});var n=t,r=n.htmlProps,i=void 0===r?Fm:r,a=n.includeAria,o=void 0===a||a,s={},u={};return Lm(e,(function(e,t){var n=o&&(/^aria-.*$/.test(t)||"role"===t);(Am(i,t)||n?s:u)[t]=e})),[s,u]},qm="object"===typeof document&&null!==document,zm="object"===typeof window&&null!==window&&window.self===window,Vm=function e(){return am(e.override)?qm&&zm:e.override};var Bm=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)};var Wm=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};var Hm=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a};var Gm=function(e,t){return t.length<2?e:Cn(e,Hm(t,0,-1))};var Km=function(e,t,n){t=Sn(t,e);var r=null==(e=Gm(e,t))?e:e[In(Wm(t))];return null==r?void 0:Bm(r,e,n)},Qm=Math.max;var Ym=function(e,t,n){return t=Qm(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=Qm(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),Bm(e,this,s)}};var Xm=function(e){return function(){return e}},Jm=function(){try{var e=ce(Object,"defineProperty");return e({},"",{}),e}catch(c$){}}(),$m=Jm?function(e,t){return Jm(e,"toString",{configurable:!0,enumerable:!1,value:Xm(t),writable:!0})}:On,Zm=Date.now;var eg=function(e){var t=0,n=0;return function(){var r=Zm(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},tg=eg($m);var ng=function(e,t){return tg(Ym(e,t,On),e+"")},rg=ng(Km),ig=n(775),ag=n.n(ig),og=function(e,t){"function"!==typeof e?null!==e&&"object"===typeof e&&(e.current=t):e(t)};function sg(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var ug=n(33);var cg=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).prevNode=void 0,t}mm(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=i.findDOMNode(this);this.prevNode=e,og(this.props.innerRef,e)},n.componentDidUpdate=function(e){var t=i.findDOMNode(this);this.prevNode!==t&&(this.prevNode=t,og(this.props.innerRef,t)),e.innerRef!==this.props.innerRef&&og(this.props.innerRef,t)},n.componentWillUnmount=function(){og(this.props.innerRef,null),delete this.prevNode},n.render=function(){return this.props.children},t}(t.Component),lg=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).currentNode=void 0,t.handleRefOverride=function(e){var n=t.props,r=n.children,i=n.innerRef;og(r.ref,e),og(i,e),t.currentNode=e},t}mm(n,e);var r=n.prototype;return r.componentDidUpdate=function(e){e.innerRef!==this.props.innerRef&&og(this.props.innerRef,this.currentNode)},r.componentWillUnmount=function(){delete this.currentNode},r.render=function(){var e=this.props.children;return t.cloneElement(e,{ref:this.handleRefOverride})},n}(t.Component),hg=["children","innerRef"],fg=function(e){var n=e.children,r=e.innerRef,i=sg(e,hg),a=t.Children.only(n),o=ug.isForwardRef(a)?lg:cg,s=a&&i&&Object.keys(i).length>0?t.cloneElement(a,i):a;return t.createElement(o,{innerRef:r},s)},dg=n(854),pg=n.n(dg),vg=Math.max,mg=Math.min;var gg=function(e,t,n){return e>=mg(t,n)&&e<vg(t,n)};var yg=function(e,t,n){return t=Cm(t),void 0===n?(n=t,t=0):n=Cm(n),e=Sm(e),gg(e,t,n)};var bg=function(e){return e&&e.length?e[0]:void 0},kg=function(e,t){if(Bn([t,e],am))return!1;if(t.target&&(rg(t.target,"setAttribute","data-suir-click-target",!0),document.querySelector("[data-suir-click-target=true]")))return rg(t.target,"removeAttribute","data-suir-click-target"),e.contains(t.target);var n=t.clientX,r=t.clientY;if(Bn([n,r],am))return!1;var i=e.getClientRects();if(!e.offsetWidth||!e.offsetHeight||!i||!i.length)return!1;var a=bg(i),o=a.top,s=a.bottom,u=a.left,c=a.right;return!Bn([o,s,u,c],am)&&(yg(r,o,s+.001)&&yg(n,u,c+.001))};var wg=function(e){return void 0===e},_g=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=(t=e.call.apply(e,[this].concat(r))||this).constructor,s=a.autoControlledProps,u=a.getAutoControlledStateFromProps,c=rg(fr(t),"getInitialAutoControlledState",t.props)||{},l=s.reduce((function(e,n){return e[n]=function(e,t,n,r){void 0===r&&(r=!1);var i,a=t[e];if(void 0!==a)return a;if(r){var o=t[(i=e,"default"+(i[0].toUpperCase()+i.slice(1)))];if(void 0!==o)return o;if(n){var s=n[e];if(void 0!==s)return s}}return"checked"!==e&&("value"===e?t.multiple?[]:"":void 0)}(n,t.props,c,!0),e}),{});return t.state=o({},c,l,{autoControlledProps:s,getAutoControlledStateFromProps:u}),t}return mm(t,e),t.getDerivedStateFromProps=function(e,t){var n=t.autoControlledProps,r=t.getAutoControlledStateFromProps,i=n.reduce((function(t,n){return!wg(e[n])&&(t[n]=e[n]),t}),{});if(r){var a=r(e,o({},t,i),t);return o({},i,a)}return i},t.getAutoControlledStateFromProps=function(){return null},t}(t.Component),xg=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleRef=function(e){og(t.props.innerRef,e)},t}mm(n,e);var r=n.prototype;return r.componentDidMount=function(){rg(this.props,"onMount",null,this.props)},r.componentWillUnmount=function(){rg(this.props,"onUnmount",null,this.props)},r.render=function(){if(!Vm())return null;var e=this.props,n=e.children,r=e.mountNode,a=void 0===r?document.body:r;return(0,i.createPortal)(t.createElement(fg,{innerRef:this.handleRef},n),a)},n}(t.Component);xg.handledProps=["children","innerRef","mountNode","onMount","onUnmount"],xg.propTypes={};var Eg=xg,Sg=function(e){function n(){for(var n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=e.call.apply(e,[this].concat(i))||this).contentRef=t.createRef(),n.triggerRef=t.createRef(),n.latestDocumentMouseDownEvent=null,n.handleDocumentMouseDown=function(e){n.latestDocumentMouseDownEvent=e},n.handleDocumentClick=function(e){var t=n.props.closeOnDocumentClick,r=n.latestDocumentMouseDownEvent;n.latestDocumentMouseDownEvent=null,!n.contentRef.current||kg(n.triggerRef.current,e)||r&&kg(n.contentRef.current,r)||kg(n.contentRef.current,e)||t&&n.close(e)},n.handleEscape=function(e){n.props.closeOnEscape&&pg().getCode(e)===pg().Escape&&n.close(e)},n.handlePortalMouseLeave=function(e){var t=n.props,r=t.closeOnPortalMouseLeave,i=t.mouseLeaveDelay;r&&e.target===n.contentRef.current&&(n.mouseLeaveTimer=n.closeWithTimeout(e,i))},n.handlePortalMouseEnter=function(){n.props.closeOnPortalMouseLeave&&clearTimeout(n.mouseLeaveTimer)},n.handleTriggerBlur=function(e){for(var t=n.props,r=t.trigger,i=t.closeOnTriggerBlur,a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];rg.apply(void 0,[r,"props.onBlur",e].concat(o));var u=e.relatedTarget||document.activeElement,c=rg(n.contentRef.current,"contains",u);i&&!c&&n.close(e)},n.handleTriggerClick=function(e){for(var t=n.props,r=t.trigger,i=t.closeOnTriggerClick,a=t.openOnTriggerClick,o=n.state.open,s=arguments.length,u=new Array(s>1?s-1:0),c=1;c<s;c++)u[c-1]=arguments[c];rg.apply(void 0,[r,"props.onClick",e].concat(u)),o&&i?n.close(e):!o&&a&&n.open(e)},n.handleTriggerFocus=function(e){for(var t=n.props,r=t.trigger,i=t.openOnTriggerFocus,a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];rg.apply(void 0,[r,"props.onFocus",e].concat(o)),i&&n.open(e)},n.handleTriggerMouseLeave=function(e){clearTimeout(n.mouseEnterTimer);for(var t=n.props,r=t.trigger,i=t.closeOnTriggerMouseLeave,a=t.mouseLeaveDelay,o=arguments.length,s=new Array(o>1?o-1:0),u=1;u<o;u++)s[u-1]=arguments[u];rg.apply(void 0,[r,"props.onMouseLeave",e].concat(s)),i&&(n.mouseLeaveTimer=n.closeWithTimeout(e,a))},n.handleTriggerMouseEnter=function(e){clearTimeout(n.mouseLeaveTimer);for(var t=n.props,r=t.trigger,i=t.mouseEnterDelay,a=t.openOnTriggerMouseEnter,o=arguments.length,s=new Array(o>1?o-1:0),u=1;u<o;u++)s[u-1]=arguments[u];rg.apply(void 0,[r,"props.onMouseEnter",e].concat(s)),a&&(n.mouseEnterTimer=n.openWithTimeout(e,i))},n.open=function(e){rg(n.props,"onOpen",e,o({},n.props,{open:!0})),n.setState({open:!0})},n.openWithTimeout=function(e,t){var r=o({},e);return setTimeout((function(){return n.open(r)}),t||0)},n.close=function(e){n.setState({open:!1}),rg(n.props,"onClose",e,o({},n.props,{open:!1}))},n.closeWithTimeout=function(e,t){var r=o({},e);return setTimeout((function(){return n.close(r)}),t||0)},n.handleMount=function(){rg(n.props,"onMount",null,n.props)},n.handleUnmount=function(){rg(n.props,"onUnmount",null,n.props)},n.handleTriggerRef=function(e){n.triggerRef.current=e,og(n.props.triggerRef,e)},n}mm(n,e);var r=n.prototype;return r.componentWillUnmount=function(){clearTimeout(this.mouseEnterTimer),clearTimeout(this.mouseLeaveTimer)},r.render=function(){var e=this.props,n=e.children,r=e.eventPool,i=e.mountNode,a=e.trigger,o=this.state.open;return t.createElement(t.Fragment,null,o&&t.createElement(t.Fragment,null,t.createElement(Eg,{innerRef:this.contentRef,mountNode:i,onMount:this.handleMount,onUnmount:this.handleUnmount},n),t.createElement(ag(),{name:"mouseleave",on:this.handlePortalMouseLeave,pool:r,target:this.contentRef}),t.createElement(ag(),{name:"mouseenter",on:this.handlePortalMouseEnter,pool:r,target:this.contentRef}),t.createElement(ag(),{name:"mousedown",on:this.handleDocumentMouseDown,pool:r}),t.createElement(ag(),{name:"click",on:this.handleDocumentClick,pool:r}),t.createElement(ag(),{name:"keydown",on:this.handleEscape,pool:r})),a&&t.createElement(fg,{innerRef:this.handleTriggerRef},t.cloneElement(a,{onBlur:this.handleTriggerBlur,onClick:this.handleTriggerClick,onFocus:this.handleTriggerFocus,onMouseLeave:this.handleTriggerMouseLeave,onMouseEnter:this.handleTriggerMouseEnter})))},n}(_g);Sg.handledProps=["children","closeOnDocumentClick","closeOnEscape","closeOnPortalMouseLeave","closeOnTriggerBlur","closeOnTriggerClick","closeOnTriggerMouseLeave","defaultOpen","eventPool","mountNode","mouseEnterDelay","mouseLeaveDelay","onClose","onMount","onOpen","onUnmount","open","openOnTriggerClick","openOnTriggerFocus","openOnTriggerMouseEnter","trigger","triggerRef"],Sg.propTypes={},Sg.defaultProps={closeOnDocumentClick:!0,closeOnEscape:!0,eventPool:"default",openOnTriggerClick:!0},Sg.autoControlledProps=["open"],Sg.Inner=Eg;var Ig=Sg;function Cg(e){var n=e.blurring,r=e.className,i=e.children,a=e.content,s=e.dimmed,c=u(h(n,"blurring"),h(s,"dimmed"),"dimmable",r),l=y(Cg,e),f=b(Cg,e);return t.createElement(f,o({},l,{className:c}),Wn(i)?a:i)}Cg.handledProps=["as","blurring","children","className","content","dimmed"],Cg.propTypes={};var Tg=Cg,Ng=function(e){function n(){for(var n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=e.call.apply(e,[this].concat(i))||this).containerRef=(0,t.createRef)(),n.contentRef=(0,t.createRef)(),n.handleClick=function(e){var t=n.contentRef.current;rg(n.props,"onClick",e,n.props),t&&t!==e.target&&kg(t,e)||rg(n.props,"onClickOutside",e,n.props)},n}mm(n,e);var r=n.prototype;return r.componentDidMount=function(){var e=this.props.active;this.toggleStyles(e)},r.componentDidUpdate=function(e){var t=this.props.active;e.active!==t&&this.toggleStyles(t)},r.toggleStyles=function(e){var t=this.containerRef.current;t&&t.style&&(e?t.style.setProperty("display","flex","important"):t.style.removeProperty("display"))},r.render=function(){var e=this.props,r=e.active,i=e.children,a=e.className,s=e.content,c=e.disabled,l=e.inverted,f=e.page,d=e.simple,p=e.verticalAlign,v=u("ui",h(r,"active transition visible"),h(c,"disabled"),h(l,"inverted"),h(f,"page"),h(d,"simple"),m(p),"dimmer",a),g=y(n,this.props),k=b(n,this.props),w=Wn(i)?s:i;return t.createElement(fg,{innerRef:this.containerRef},t.createElement(k,o({},g,{className:v,onClick:this.handleClick}),w&&t.createElement("div",{className:"content",ref:this.contentRef},w)))},n}(t.Component);Ng.handledProps=["active","as","children","className","content","disabled","inverted","onClick","onClickOutside","page","simple","verticalAlign"],Ng.propTypes={};var Pg=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handlePortalMount=function(){Vm()&&(document.body.classList.add("dimmed"),document.body.classList.add("dimmable"))},t.handlePortalUnmount=function(){Vm()&&(document.body.classList.remove("dimmed"),document.body.classList.remove("dimmable"))},t}return mm(n,e),n.prototype.render=function(){var e=this.props,r=e.active,i=e.page,a=y(n,this.props);return i?t.createElement(Ig,{closeOnEscape:!1,closeOnDocumentClick:!1,onMount:this.handlePortalMount,onUnmount:this.handlePortalUnmount,open:r,openOnTriggerClick:!1},t.createElement(Ng,o({},a,{active:r,page:i}))):t.createElement(Ng,o({},a,{active:r,page:i}))},n}(t.Component);function Rg(e){var n=e.children,r=e.className,i=e.content,a=e.size,s=u(a,"icons",r),c=y(Rg,e),l=b(Rg,e);return t.createElement(l,o({},c,{className:s}),Wn(n)?i:n)}Pg.handledProps=["active","page"],Pg.propTypes={},Pg.Dimmable=Tg,Pg.Inner=Ng,Pg.create=sm(Pg,(function(e){return{content:e}})),Rg.handledProps=["as","children","className","content","size"],Rg.propTypes={},Rg.defaultProps={as:"i"};var Ag=Rg,Og=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){t.props.disabled?e.preventDefault():rg(t.props,"onClick",e,t.props)},t}mm(n,e);var r=n.prototype;return r.getIconAriaOptions=function(){var e={},t=this.props,n=t["aria-label"],r=t["aria-hidden"];return am(n)?e["aria-hidden"]="true":e["aria-label"]=n,am(r)||(e["aria-hidden"]=r),e},r.render=function(){var e=this.props,r=e.bordered,i=e.circular,a=e.className,s=e.color,c=e.corner,l=e.disabled,p=e.fitted,v=e.flipped,m=e.inverted,g=e.link,k=e.loading,w=e.name,_=e.rotated,x=e.size,E=u(s,w,x,h(r,"bordered"),h(i,"circular"),h(l,"disabled"),h(p,"fitted"),h(m,"inverted"),h(g,"link"),h(k,"loading"),d(c,"corner"),f(v,"flipped"),f(_,"rotated"),"icon",a),S=y(n,this.props),I=b(n,this.props),C=this.getIconAriaOptions();return t.createElement(I,o({},S,C,{className:E,onClick:this.handleClick}))},n}(t.PureComponent);Og.handledProps=["aria-hidden","aria-label","as","bordered","circular","className","color","corner","disabled","fitted","flipped","inverted","link","loading","name","rotated","size"],Og.propTypes={},Og.defaultProps={as:"i"},Og.Group=Ag,Og.create=sm(Og,(function(e){return{name:e}}));var Dg=Og;function Lg(e){var n=e.children,r=e.className,i=e.content,a=u("detail",r),s=y(Lg,e),c=b(Lg,e);return t.createElement(c,o({},s,{className:a}),Wn(n)?i:n)}Lg.handledProps=["as","children","className","content"],Lg.propTypes={},Lg.create=sm(Lg,(function(e){return{content:e}}));var Mg=Lg;function Fg(e){var n=e.children,r=e.circular,i=e.className,a=e.color,s=e.content,c=e.size,l=e.tag,f=u("ui",a,c,h(r,"circular"),h(l,"tag"),"labels",i),d=y(Fg,e),p=b(Fg,e);return t.createElement(p,o({},d,{className:f}),Wn(n)?s:n)}Fg.handledProps=["as","children","circular","className","color","content","size","tag"],Fg.propTypes={};var jg=Fg,Ug=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props.onClick;n&&n(e,t.props)},t.handleIconOverrides=function(e){return{onClick:function(n){rg(e,"onClick",n),rg(t.props,"onRemove",n,t.props)}}},t}return mm(n,e),n.prototype.render=function(){var e=this.props,r=e.active,i=e.attached,a=e.basic,s=e.children,c=e.circular,l=e.className,p=e.color,v=e.content,m=e.corner,g=e.detail,k=e.empty,w=e.floating,_=e.horizontal,x=e.icon,E=e.image,S=e.onRemove,I=e.pointing,C=e.prompt,T=e.removeIcon,N=e.ribbon,P=e.size,R=e.tag,A=u("ui",p,(!0===I?"pointing":("left"===I||"right"===I)&&I+" pointing")||("above"===I||"below"===I)&&"pointing "+I,P,h(r,"active"),h(a,"basic"),h(c,"circular"),h(k,"empty"),h(w,"floating"),h(_,"horizontal"),h(!0===E,"image"),h(C,"prompt"),h(R,"tag"),d(m,"corner"),d(N,"ribbon"),f(i,"attached"),"label",l),O=y(n,this.props),D=b(n,this.props);if(!Wn(s))return t.createElement(D,o({},O,{className:A,onClick:this.handleClick}),s);var L=wg(T)?"delete":T;return t.createElement(D,o({className:A,onClick:this.handleClick},O),Dg.create(x,{autoGenerateKey:!1}),"boolean"!==typeof E&&Bg.create(E,{autoGenerateKey:!1}),v,Mg.create(g,{autoGenerateKey:!1}),S&&Dg.create(L,{autoGenerateKey:!1,overrideProps:this.handleIconOverrides}))},n}(t.Component);function qg(e){var n=e.children,r=e.className,i=e.content,a=e.size,s=u("ui",a,r,"images"),c=y(qg,e),l=b(qg,e);return t.createElement(l,o({},c,{className:s}),Wn(n)?i:n)}Ug.handledProps=["active","as","attached","basic","children","circular","className","color","content","corner","detail","empty","floating","horizontal","icon","image","onClick","onRemove","pointing","prompt","removeIcon","ribbon","size","tag"],Ug.propTypes={},Ug.Detail=Mg,Ug.Group=jg,Ug.create=sm(Ug,(function(e){return{content:e}})),qg.handledProps=["as","children","className","content","size"],qg.propTypes={};var zg=qg;function Vg(e){var n=e.avatar,r=e.bordered,i=e.centered,a=e.children,s=e.circular,c=e.className,l=e.content,p=e.dimmer,v=e.disabled,g=e.floated,k=e.fluid,w=e.hidden,_=e.href,x=e.inline,E=e.label,S=e.rounded,I=e.size,C=e.spaced,T=e.verticalAlign,N=e.wrapped,P=e.ui,R=u(h(P,"ui"),I,h(n,"avatar"),h(r,"bordered"),h(s,"circular"),h(i,"centered"),h(v,"disabled"),h(k,"fluid"),h(w,"hidden"),h(x,"inline"),h(S,"rounded"),d(C,"spaced"),f(g,"floated"),m(T),"image",c),A=y(Vg,e),O=Um(A,{htmlProps:jm}),D=O[0],L=O[1],M=b(Vg,e,(function(){if(!am(p)||!am(E)||!am(N)||!Wn(a))return"div"}));return Wn(a)?Wn(l)?"img"===M?t.createElement(M,o({},L,D,{className:R})):t.createElement(M,o({},L,{className:R,href:_}),Pg.create(p,{autoGenerateKey:!1}),Ug.create(E,{autoGenerateKey:!1}),t.createElement("img",D)):t.createElement(M,o({},A,{className:R}),l):t.createElement(M,o({},A,{className:R}),a)}Vg.handledProps=["as","avatar","bordered","centered","children","circular","className","content","dimmer","disabled","floated","fluid","hidden","href","inline","label","rounded","size","spaced","ui","verticalAlign","wrapped"],Vg.Group=zg,Vg.propTypes={},Vg.defaultProps={as:"img",ui:!0},Vg.create=sm(Vg,(function(e){return{src:e}}));var Bg=Vg;function Wg(e){var n=e.children,r=e.className,i=e.content,a=e.textAlign,s=u(v(a),"description",r),c=y(Wg,e),l=b(Wg,e);return t.createElement(l,o({},c,{className:s}),Wn(n)?i:n)}Wg.handledProps=["as","children","className","content","textAlign"],Wg.propTypes={};var Hg=Wg;function Gg(e){var n=e.children,r=e.className,i=e.content,a=e.textAlign,s=u(v(a),"header",r),c=y(Gg,e),l=b(Gg,e);return t.createElement(l,o({},c,{className:s}),Wn(n)?i:n)}Gg.handledProps=["as","children","className","content","textAlign"],Gg.propTypes={};var Kg=Gg;function Qg(e){var n=e.children,r=e.className,i=e.content,a=e.textAlign,s=u(v(a),"meta",r),c=y(Qg,e),l=b(Qg,e);return t.createElement(l,o({},c,{className:s}),Wn(n)?i:n)}Qg.handledProps=["as","children","className","content","textAlign"],Qg.propTypes={};var Yg=Qg;function Xg(e){var n=e.children,r=e.className,i=e.content,a=e.description,s=e.extra,c=e.header,l=e.meta,f=e.textAlign,d=u(h(s,"extra"),v(f),"content",r),p=y(Xg,e),m=b(Xg,e);return Wn(n)?Wn(i)?t.createElement(m,o({},p,{className:d}),om(Kg,(function(e){return{content:e}}),c,{autoGenerateKey:!1}),om(Yg,(function(e){return{content:e}}),l,{autoGenerateKey:!1}),om(Hg,(function(e){return{content:e}}),a,{autoGenerateKey:!1})):t.createElement(m,o({},p,{className:d}),i):t.createElement(m,o({},p,{className:d}),n)}Xg.handledProps=["as","children","className","content","description","extra","header","meta","textAlign"],Xg.propTypes={};var Jg=Xg;var $g=function(e,t){var n=-1,r=At(e)?Array(e.length):[];return qn(e,(function(e,i,a){r[++n]=t(e,i,a)})),r};var Zg=function(e,t){return(Ge(e)?kn:$g)(e,Fn(t,3))};function ey(e){var n=e.centered,r=e.children,i=e.className,a=e.content,s=e.doubling,c=e.items,l=e.itemsPerRow,f=e.stackable,d=e.textAlign,p=u("ui",h(n,"centered"),h(s,"doubling"),h(f,"stackable"),v(d),g(l),"cards",i),m=y(ey,e),k=b(ey,e);if(!Wn(r))return t.createElement(k,o({},m,{className:p}),r);if(!Wn(a))return t.createElement(k,o({},m,{className:p}),a);var w=Zg(c,(function(e){var n,r=null!=(n=e.key)?n:[e.header,e.description].join("-");return t.createElement(ny,o({key:r},e))}));return t.createElement(k,o({},m,{className:p}),w)}ey.handledProps=["as","centered","children","className","content","doubling","items","itemsPerRow","stackable","textAlign"],ey.propTypes={};var ty=ey,ny=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props.onClick;n&&n(e,t.props)},t}return mm(n,e),n.prototype.render=function(){var e=this.props,r=e.centered,i=e.children,a=e.className,s=e.color,c=e.content,l=e.description,f=e.extra,d=e.fluid,p=e.header,v=e.href,m=e.image,g=e.link,k=e.meta,w=e.onClick,_=e.raised,x=u("ui",s,h(r,"centered"),h(d,"fluid"),h(g,"link"),h(_,"raised"),"card",a),E=y(n,this.props),S=b(n,this.props,(function(){if(w)return"a"}));return Wn(i)?Wn(c)?t.createElement(S,o({},E,{className:x,href:v,onClick:this.handleClick}),Bg.create(m,{autoGenerateKey:!1,defaultProps:{ui:!1,wrapped:!0}}),(l||p||k)&&t.createElement(Jg,{description:l,header:p,meta:k}),f&&t.createElement(Jg,{extra:!0},f)):t.createElement(S,o({},E,{className:x,href:v,onClick:this.handleClick}),c):t.createElement(S,o({},E,{className:x,href:v,onClick:this.handleClick}),i)},n}(t.Component);function ry(e){var n=e.children,r=e.className,i=e.content,a=e.hidden,s=e.visible,c=u(h(s,"visible"),h(a,"hidden"),"content",r),l=y(ry,e),f=b(ry,e);return t.createElement(f,o({},l,{className:c}),Wn(n)?i:n)}ny.handledProps=["as","centered","children","className","color","content","description","extra","fluid","header","href","image","link","meta","onClick","raised"],ny.propTypes={},ny.Content=Jg,ny.Description=Hg,ny.Group=ty,ny.Header=Kg,ny.Meta=Yg,ry.handledProps=["as","children","className","content","hidden","visible"],ry.propTypes={};var iy=ry;function ay(e){var n=e.attached,r=e.basic,i=e.buttons,a=e.children,s=e.className,c=e.color,l=e.compact,p=e.content,v=e.floated,m=e.fluid,k=e.icon,w=e.inverted,_=e.labeled,x=e.negative,E=e.positive,S=e.primary,I=e.secondary,C=e.size,T=e.toggle,N=e.vertical,P=e.widths,R=u("ui",c,C,h(r,"basic"),h(l,"compact"),h(m,"fluid"),h(k,"icon"),h(w,"inverted"),h(_,"labeled"),h(x,"negative"),h(E,"positive"),h(S,"primary"),h(I,"secondary"),h(T,"toggle"),h(N,"vertical"),d(n,"attached"),f(v,"floated"),g(P),"buttons",s),A=y(ay,e),O=b(ay,e);return am(i)?t.createElement(O,o({},A,{className:R}),Wn(a)?p:a):t.createElement(O,o({},A,{className:R}),Zg(i,(function(e){return ly.create(e)})))}ay.handledProps=["as","attached","basic","buttons","children","className","color","compact","content","floated","fluid","icon","inverted","labeled","negative","positive","primary","secondary","size","toggle","vertical","widths"],ay.propTypes={};var oy=ay;function sy(e){var n=e.className,r=e.text,i=u("or",n),a=y(sy,e),s=b(sy,e);return t.createElement(s,o({},a,{className:i,"data-text":r}))}sy.handledProps=["as","className","text"],sy.propTypes={};var uy=sy,cy=function(e){function n(){for(var n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=e.call.apply(e,[this].concat(i))||this).ref=(0,t.createRef)(),n.computeElementType=function(){var e=n.props,t=e.attached,r=e.label;if(!am(t)||!am(r))return"div"},n.computeTabIndex=function(e){var t=n.props,r=t.disabled,i=t.tabIndex;return am(i)?r?-1:"div"===e?0:void 0:i},n.focus=function(e){return rg(n.ref.current,"focus",e)},n.handleClick=function(e){n.props.disabled?e.preventDefault():rg(n.props,"onClick",e,n.props)},n.hasIconClass=function(){var e=n.props,t=e.labelPosition,r=e.children,i=e.content,a=e.icon;return!0===a||a&&(t||Wn(r)&&am(i))},n}mm(n,e);var r=n.prototype;return r.computeButtonAriaRole=function(e){var t=this.props.role;return am(t)?"button"!==e?"button":void 0:t},r.render=function(){var e=this.props,r=e.active,i=e.animated,a=e.attached,s=e.basic,c=e.children,l=e.circular,p=e.className,v=e.color,m=e.compact,g=e.content,k=e.disabled,w=e.floated,_=e.fluid,x=e.icon,E=e.inverted,S=e.label,I=e.labelPosition,C=e.loading,T=e.negative,N=e.positive,P=e.primary,R=e.secondary,A=e.size,O=e.toggle,D=e.type,L=u(v,A,h(r,"active"),h(s,"basic"),h(l,"circular"),h(m,"compact"),h(_,"fluid"),h(this.hasIconClass(),"icon"),h(E,"inverted"),h(C,"loading"),h(T,"negative"),h(N,"positive"),h(P,"primary"),h(R,"secondary"),h(O,"toggle"),d(i,"animated"),d(a,"attached")),M=u(d(I||!!S,"labeled")),F=u(h(k,"disabled"),f(w,"floated")),j=y(n,this.props),U=b(n,this.props,this.computeElementType),q=this.computeTabIndex(U);if(!am(S)){var z=u("ui",L,"button",p),V=u("ui",M,"button",p,F),B=Ug.create(S,{defaultProps:{basic:!0,pointing:"left"===I?"right":"left"},autoGenerateKey:!1});return t.createElement(U,o({},j,{className:V,onClick:this.handleClick}),"left"===I&&B,t.createElement(fg,{innerRef:this.ref},t.createElement("button",{className:z,"aria-pressed":O?!!r:void 0,disabled:k,type:D,tabIndex:q},Dg.create(x,{autoGenerateKey:!1})," ",g)),("right"===I||!I)&&B)}var W=u("ui",L,F,M,"button",p),H=!Wn(c),G=this.computeButtonAriaRole(U);return t.createElement(fg,{innerRef:this.ref},t.createElement(U,o({},j,{className:W,"aria-pressed":O?!!r:void 0,disabled:k&&"button"===U||void 0,onClick:this.handleClick,role:G,type:D,tabIndex:q}),H&&c,!H&&Dg.create(x,{autoGenerateKey:!1}),!H&&g))},n}(t.Component);cy.handledProps=["active","animated","as","attached","basic","children","circular","className","color","compact","content","disabled","floated","fluid","icon","inverted","label","labelPosition","loading","negative","onClick","positive","primary","role","secondary","size","tabIndex","toggle","type"],cy.propTypes={},cy.defaultProps={as:"button"},cy.Content=iy,cy.Group=oy,cy.Or=uy,cy.create=sm(cy,(function(e){return{content:e}}));var ly=cy;var hy=function(e,t,n){"__proto__"==t&&Jm?Jm(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},fy=Object.prototype.hasOwnProperty;var dy=function(e,t,n){var r=e[t];fy.call(e,t)&&_(r,n)&&(void 0!==n||t in e)||hy(e,t,n)};var py=function(e,t,n,r){if(!Q(e))return e;for(var i=-1,a=(t=Sn(t,e)).length,o=a-1,s=e;null!=s&&++i<a;){var u=In(t[i]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(i!=o){var l=s[u];void 0===(c=r?r(l,u,s):void 0)&&(c=Q(l)?l:dt(t[i+1])?[]:{})}dy(s,u,c),s=s[u]}return e};var vy=function(e,t,n){return null==e?e:py(e,t,n)},my=function(e){function n(){for(var n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=e.call.apply(e,[this].concat(i))||this).inputRef=(0,t.createRef)(),n.labelRef=(0,t.createRef)(),n.canToggle=function(){var e=n.props,t=e.disabled,r=e.radio,i=e.readOnly,a=n.state.checked;return!t&&!i&&!(r&&a)},n.computeTabIndex=function(){var e=n.props,t=e.disabled,r=e.tabIndex;return am(r)?t?-1:0:r},n.handleClick=function(e){var t=n.props.id,r=n.state,i=r.checked,a=r.indeterminate,s=rg(n.inputRef.current,"contains",e.target),u=rg(n.labelRef.current,"contains",e.target),c=!u&&!s,l=!am(t);u&&l||rg(n.props,"onClick",e,o({},n.props,{checked:!i,indeterminate:!!a})),n.isClickFromMouse&&(n.isClickFromMouse=!1,u&&!l&&n.handleChange(e),c&&n.handleChange(e),u&&l&&e.stopPropagation())},n.handleChange=function(e){var t=n.state.checked;n.canToggle()&&(rg(n.props,"onChange",e,o({},n.props,{checked:!t,indeterminate:!1})),n.setState({checked:!t,indeterminate:!1}))},n.handleMouseDown=function(e){var t=n.state,r=t.checked,i=t.indeterminate;rg(n.props,"onMouseDown",e,o({},n.props,{checked:!!r,indeterminate:!!i})),e.defaultPrevented||rg(n.inputRef.current,"focus"),e.preventDefault()},n.handleMouseUp=function(e){var t=n.state,r=t.checked,i=t.indeterminate;n.isClickFromMouse=!0,rg(n.props,"onMouseUp",e,o({},n.props,{checked:!!r,indeterminate:!!i}))},n.setIndeterminate=function(){var e=n.state.indeterminate;vy(n.inputRef,"current.indeterminate",!!e)},n}mm(n,e);var r=n.prototype;return r.componentDidMount=function(){this.setIndeterminate()},r.componentDidUpdate=function(){this.setIndeterminate()},r.render=function(){var e=this.props,r=e.className,i=e.disabled,a=e.label,s=e.id,c=e.name,l=e.radio,f=e.readOnly,d=e.slider,p=e.toggle,v=e.type,m=e.value,g=this.state,k=g.checked,w=g.indeterminate,_=u("ui",h(k,"checked"),h(i,"disabled"),h(w,"indeterminate"),h(am(a),"fitted"),h(l,"radio"),h(f,"read-only"),h(d,"slider"),h(p,"toggle"),"checkbox",r),x=y(n,this.props),E=b(n,this.props),S=Um(x,{htmlProps:Mm}),I=S[0],C=S[1],T=cm(a,{defaultProps:{htmlFor:s},autoGenerateKey:!1})||t.createElement("label",{htmlFor:s});return t.createElement(E,o({},C,{className:_,onClick:this.handleClick,onChange:this.handleChange,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp}),t.createElement(fg,{innerRef:this.inputRef},t.createElement("input",o({},I,{checked:k,className:"hidden",disabled:i,id:s,name:c,readOnly:!0,tabIndex:this.computeTabIndex(),type:v,value:m}))),t.createElement(fg,{innerRef:this.labelRef},T))},n}(_g);function gy(e){var n=e.slider,r=e.toggle,i=e.type,a=y(gy,e),s=!(n||r)||void 0;return t.createElement(my,o({},a,{type:i,radio:s,slider:n,toggle:r}))}my.handledProps=["as","checked","className","defaultChecked","defaultIndeterminate","disabled","fitted","id","indeterminate","label","name","onChange","onClick","onMouseDown","onMouseUp","radio","readOnly","slider","tabIndex","toggle","type","value"],my.propTypes={},my.defaultProps={type:"checkbox"},my.autoControlledProps=["checked","indeterminate"],gy.handledProps=["slider","toggle","type"],gy.propTypes={},gy.defaultProps={type:"radio"};var yy=gy;function by(e){var n=e.children,r=e.className,i=e.content,a=e.control,s=e.disabled,c=e.error,l=e.inline,f=e.label,d=e.required,p=e.type,v=e.width,m=e.id,k=u(h(s,"disabled"),h(c,"error"),h(l,"inline"),h(d,"required"),g(v,"wide"),"field",r),w=y(by,e),_=b(by,e),x=Tn(c,"pointing","above"),E=Ug.create(c,{autoGenerateKey:!1,defaultProps:{prompt:!0,pointing:x,id:m?m+"-error-message":void 0,role:"alert","aria-atomic":!0}}),S=("below"===x||"right"===x)&&E,I=("above"===x||"left"===x)&&E;if(am(a))return am(f)?t.createElement(_,o({},w,{className:k,id:m}),Wn(n)?i:n):t.createElement(_,o({},w,{className:k,id:m}),S,cm(f,{autoGenerateKey:!1}),I);var C={"aria-describedby":m&&c?m+"-error-message":null,"aria-invalid":!!c||void 0},T=o({},w,{content:i,children:n,disabled:s,required:d,type:p,id:m});return"input"!==a||"checkbox"!==p&&"radio"!==p?a===my||a===yy?t.createElement(_,{className:k},S,(0,t.createElement)(a,o({},C,T,{label:f})),I):t.createElement(_,{className:k},cm(f,{defaultProps:{htmlFor:m},autoGenerateKey:!1}),S,(0,t.createElement)(a,o({},C,T)),I):t.createElement(_,{className:k},t.createElement("label",null,S,(0,t.createElement)(a,o({},C,T))," ",f,I))}by.handledProps=["as","children","className","content","control","disabled","error","id","inline","label","required","type","width"],by.propTypes={};var ky=by;function wy(e){var n=e.control,r=y(wy,e),i=b(wy,e);return t.createElement(i,o({},r,{control:n}))}wy.handledProps=["as","control"],wy.propTypes={},wy.defaultProps={as:ky,control:ly};var _y=wy;function xy(e){var n=e.control,r=y(xy,e),i=b(xy,e);return t.createElement(i,o({},r,{control:n}))}xy.handledProps=["as","control"],xy.propTypes={},xy.defaultProps={as:ky,control:my};var Ey=xy;var Sy=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i};var Iy=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0};var Cy=function(e,t){var n=!0;return qn(e,(function(e,r,i){return n=!!t(e,r,i)})),n};var Ty=function(e,t,n){var r=Ge(e)?Iy:Cy;return n&&Vn(e,t,n)&&(t=void 0),r(e,Fn(t,3))};var Ny=function(e,t,n,r){var i=-1,a=Vv,o=!0,s=e.length,u=[],c=t.length;if(!s)return u;n&&(t=kn(t,gt(n))),r?(a=Bv,o=!1):t.length>=200&&(a=Fe,o=!1,t=new Me(t));e:for(;++i<s;){var l=e[i],h=null==n?l:n(l);if(l=r||0!==l?l:0,o&&h===h){for(var f=c;f--;)if(t[f]===h)continue e;u.push(l)}else a(t,h,r)||u.push(l)}return u};var Py=function(e){return et(e)&&At(e)},Ry=ng((function(e,t){return Py(e)?Ny(e,t):[]})),Ay=Ry;var Oy=function(e){return function(t,n,r){var i=Object(t);if(!At(t)){var a=Fn(n,3);t=Ot(t),n=function(e){return a(i[e],e,i)}}var o=e(t,n,r);return o>-1?i[a?t[o]:o]:void 0}},Dy=Math.max;var Ly=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Tm(n);return i<0&&(i=Dy(r+i,0)),jv(e,Fn(t,3),i)},My=Oy(Ly);var Fy=function(e,t,n){var r=null==e?0:e.length;return r?(t=n||void 0===t?1:Tm(t),Hm(e,0,(t=r-t)<0?0:t)):[]},jy=Object.prototype.hasOwnProperty;var Uy=function(e){if(null==e)return!0;if(At(e)&&(Ge(e)||"string"==typeof e||"function"==typeof e.splice||ht(e)||xt(e)||ot(e)))return!e.length;var t=$t(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(Ct(e))return!Rt(e).length;for(var n in e)if(jy.call(e,n))return!1;return!0},qy=Dn("length"),zy=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Vy=function(e){return zy.test(e)},By="\\ud800-\\udfff",Wy="["+By+"]",Hy="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Gy="\\ud83c[\\udffb-\\udfff]",Ky="[^"+By+"]",Qy="(?:\\ud83c[\\udde6-\\uddff]){2}",Yy="[\\ud800-\\udbff][\\udc00-\\udfff]",Xy="(?:"+Hy+"|"+Gy+")"+"?",Jy="[\\ufe0e\\ufe0f]?",$y=Jy+Xy+("(?:\\u200d(?:"+[Ky,Qy,Yy].join("|")+")"+Jy+Xy+")*"),Zy="(?:"+[Ky+Hy+"?",Hy,Qy,Yy,Wy].join("|")+")",eb=RegExp(Gy+"(?="+Gy+")|"+Zy+$y,"g");var tb=function(e){for(var t=eb.lastIndex=0;eb.test(e);)++t;return t};var nb=function(e){return Vy(e)?tb(e):qy(e)};var rb=function(e){if(null==e)return 0;if(At(e))return rm(e)?nb(e):e.length;var t=$t(e);return"[object Map]"==t||"[object Set]"==t?e.size:Rt(e).length},ib=j?j.isConcatSpreadable:void 0;var ab=function(e){return Ge(e)||ot(e)||!!(ib&&e&&e[ib])};var ob=function e(t,n,r,i,a){var o=-1,s=t.length;for(r||(r=ab),a||(a=[]);++o<s;){var u=t[o];n>0&&r(u)?n>1?e(u,n-1,r,i,a):He(a,u):i||(a[a.length]=u)}return a},sb=ng((function(e,t){return Py(e)?Ny(e,ob(t,1,Py,!0)):[]})),ub=sb,cb=ng((function(e){return Kv(ob(e,1,Py,!0))}));var lb=function(e,t){return an(e,t)};var hb=function(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=Cn(e,o);n(s,o)&&py(a,Sn(o,e),s)}return a};var fb=function(e,t){return hb(e,t,(function(t,n){return Rn(e,n)}))};var db=function(e){return(null==e?0:e.length)?ob(e,1):[]};var pb=function(e){return tg(Ym(e,void 0,db),e+"")}((function(e,t){return null==e?{}:fb(e,t)})),vb=n(613),mb=n.n(vb),gb=function(e){function n(){return e.apply(this,arguments)||this}return mm(n,e),n.prototype.render=function(){var e=this.props,r=e.className,i=e.name,a=u(i,"flag",r),s=y(n,this.props),c=b(n,this.props);return t.createElement(c,o({},s,{className:a}))},n}(t.PureComponent);gb.handledProps=["as","className","name"],gb.propTypes={},gb.defaultProps={as:"i"},gb.create=sm(gb,(function(e){return{name:e}}));var yb=gb;function bb(e){var n=e.className,r=u("divider",n),i=y(bb,e),a=b(bb,e);return t.createElement(a,o({},i,{className:r}))}bb.handledProps=["as","className"],bb.propTypes={};var kb=bb,wb=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){rg(t.props,"onClick",e,t.props)},t}return mm(n,e),n.prototype.render=function(){var e=this.props,r=e.active,i=e.children,a=e.className,s=e.content,c=e.disabled,l=e.description,f=e.flag,d=e.icon,p=e.image,v=e.label,m=e.selected,g=e.text,k=u(h(r,"active"),h(c,"disabled"),h(m,"selected"),"item",a),w=am(d)?function(e,n){return Bn(t.Children.toArray(e),{type:n})}(i,"DropdownMenu")&&"dropdown":d,_=y(n,this.props),x=b(n,this.props),E={role:"option","aria-disabled":c,"aria-checked":r,"aria-selected":m};if(!Wn(i))return t.createElement(x,o({},_,E,{className:k,onClick:this.handleClick}),i);var S=yb.create(f,{autoGenerateKey:!1}),I=Dg.create(w,{autoGenerateKey:!1}),C=Bg.create(p,{autoGenerateKey:!1}),T=Ug.create(v,{autoGenerateKey:!1}),N=om("span",(function(e){return{children:e}}),l,{defaultProps:{className:"description"},autoGenerateKey:!1}),P=om("span",(function(e){return{children:e}}),Wn(s)?g:s,{defaultProps:{className:"text"},autoGenerateKey:!1});return t.createElement(x,o({},_,E,{className:k,onClick:this.handleClick}),C,I,S,T,N,P)},n}(t.Component);wb.handledProps=["active","as","children","className","content","description","disabled","flag","icon","image","label","onClick","selected","text","value"],wb.propTypes={},wb.create=sm(wb,(function(e){return e}));var _b=wb;function xb(e){var n=e.children,r=e.className,i=e.content,a=e.icon,s=u("header",r),c=y(xb,e),l=b(xb,e);return Wn(n)?t.createElement(l,o({},c,{className:s}),Dg.create(a,{autoGenerateKey:!1}),i):t.createElement(l,o({},c,{className:s}),n)}xb.handledProps=["as","children","className","content","icon"],xb.propTypes={},xb.create=sm(xb,(function(e){return{content:e}}));var Eb=xb;function Sb(e){var n=e.children,r=e.className,i=e.content,a=e.direction,s=e.open,c=e.scrolling,l=u(a,h(s,"visible"),h(c,"scrolling"),"menu transition",r),f=y(Sb,e),d=b(Sb,e);return t.createElement(d,o({},f,{className:l}),Wn(n)?i:n)}Sb.handledProps=["as","children","className","content","direction","open","scrolling"],Sb.propTypes={};var Ib=Sb,Cb=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleChange=function(e){var n=Tn(e,"target.value");rg(t.props,"onChange",e,o({},t.props,{value:n}))},t}return mm(n,e),n.prototype.render=function(){var e=this.props,r=e.autoComplete,i=e.className,a=e.tabIndex,s=e.type,c=e.value,l=u("search",i),h=y(n,this.props);return t.createElement("input",o({},h,{"aria-autocomplete":"list",autoComplete:r,className:l,onChange:this.handleChange,tabIndex:a,type:s,value:c}))},n}(t.Component);Cb.handledProps=["as","autoComplete","className","tabIndex","type","value"],Cb.propTypes={},Cb.defaultProps={autoComplete:"off",type:"text"},Cb.create=sm(Cb,(function(e){return{type:e}}));var Tb=Cb;function Nb(e){var n=e.children,r=e.className,i=e.content,a=u("divider",r),s=y(Nb,e),c=b(Nb,e);return t.createElement(c,o({"aria-atomic":!0,"aria-live":"polite",role:"alert"},s,{className:a}),Wn(n)?i:n)}Nb.handledProps=["as","children","className","content"],Nb.propTypes={},Nb.create=sm(Nb,(function(e){return{content:e}}));var Pb=Nb,Rb=/[\\^$.*+?()[\]{}|]/g,Ab=RegExp(Rb.source);var Ob=function(e){return(e=En(e))&&Ab.test(e)?e.replace(Rb,"\\$&"):e};var Db=function(e){return function(t){return null==e?void 0:e[t]}}({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),Lb=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Mb=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");var Fb=function(e){return(e=En(e))&&e.replace(Lb,Db).replace(Mb,"")};var jb=function(e,t){var n=[];return qn(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n};var Ub=function(e,t){return(Ge(e)?Qe:jb)(e,Fn(t,3))};function qb(e){var n=e.additionLabel,r=e.additionPosition,i=e.allowAdditions,a=e.deburr,o=e.multiple,s=e.options,u=e.search,c=e.searchQuery,l=e.value,h=s;if(o&&(h=Ub(h,(function(e){return!Am(l,e.value)}))),u&&c)if(Y(u))h=u(h,c);else{var f=a?Fb(c):c,d=new RegExp(Ob(f),"i");h=Ub(h,(function(e){return d.test(a?Fb(e.text):e.text)}))}if(i&&u&&c&&!Bn(h,{text:c})){var p={key:"addition",text:[t.isValidElement(n)?t.cloneElement(n,{key:"addition-label"}):n||"",t.createElement("b",{key:"addition-query"},c)],value:c,className:"addition","data-additional":!0};"top"===r?h.unshift(p):h.push(p)}return h}qb.handledProps=[];var zb=function(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n};var Vb=function(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n};var Bb=function(e,t,n){var r=Ge(e)?zb:Vb,i=arguments.length<3;return r(e,Fn(t,4),n,i,qn)};function Wb(e){var t,n=e.additionLabel,r=e.additionPosition,i=e.allowAdditions,a=e.deburr,o=e.multiple,s=e.options,u=e.search,c=e.searchQuery,l=e.selectedIndex,h=e.value,f=qb({value:h,options:s,searchQuery:c,additionLabel:n,additionPosition:r,allowAdditions:i,deburr:a,multiple:o,search:u}),d=Bb(f,(function(e,t,n){return t.disabled||e.push(n),e}),[]);if(!l||l<0){var p=d[0];t=o?p:Ly(f,["value",h])||d[0]}else if(o)t=My(d,(function(e){return e>=l})),l>=f.length-1&&(t=d[d.length-1]);else{var v=Ly(f,["value",h]);t=Am(d,v)?v:void 0}return(!t||t<0)&&(t=d[0]),t}var Hb=function(e,t){return am(e)?t:e},Gb=function(e){return e?e.map((function(e){return pb(e,["key","value"])})):e};function Kb(e){var n=e.flag,r=e.image,i=e.text;return Y(i)?i:{content:t.createElement(t.Fragment,null,yb.create(n),Bg.create(r),i)}}var Qb=function(e){function n(){for(var n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=e.call.apply(e,[this].concat(i))||this).searchRef=(0,t.createRef)(),n.sizerRef=(0,t.createRef)(),n.ref=(0,t.createRef)(),n.handleChange=function(e,t){rg(n.props,"onChange",e,o({},n.props,{value:t}))},n.closeOnChange=function(e){var t=n.props,r=t.closeOnChange,i=t.multiple;(wg(r)?!i:r)&&n.close(e,Wv)},n.closeOnEscape=function(e){n.props.closeOnEscape&&pg().getCode(e)===pg().Escape&&(e.preventDefault(),n.close(e))},n.moveSelectionOnKeyDown=function(e){var t,r=n.props,i=r.multiple,a=r.selectOnNavigation;if(n.state.open){var o=((t={})[pg().ArrowDown]=1,t[pg().ArrowUp]=-1,t)[pg().getCode(e)];if(void 0!==o){e.preventDefault();var s=n.getSelectedIndexAfterMove(o);!i&&a&&n.makeSelectedItemActive(e,s),n.setState({selectedIndex:s})}}},n.openOnSpace=function(e){var t,r,i,a=n.state.focus&&!n.state.open&&pg().getCode(e)===pg().Spacebar,o="INPUT"!==(null==(t=e.target)?void 0:t.tagName)&&"TEXTAREA"!==(null==(r=e.target)?void 0:r.tagName)&&!0!==(null==(i=e.target)?void 0:i.isContentEditable);a&&(o&&e.preventDefault(),n.open(e))},n.openOnArrow=function(e){var t=n.state,r=t.focus,i=t.open;if(r&&!i){var a=pg().getCode(e);a!==pg().ArrowDown&&a!==pg().ArrowUp||(e.preventDefault(),n.open(e))}},n.makeSelectedItemActive=function(e,t){var r=n.state,i=r.open,a=r.value,s=n.props.multiple,u=n.getSelectedItem(t),c=Tn(u,"value"),l=Tn(u,"disabled");if(am(c)||!i||l)return a;var h=s?cb(a,[c]):c;return(s?!!ub(h,a).length:h!==a)&&(n.setState({value:h}),n.handleChange(e,h),u["data-additional"]&&rg(n.props,"onAddItem",e,o({},n.props,{value:c}))),a},n.selectItemOnEnter=function(e){var t=n.props.search,r=n.state,i=r.open,a=r.selectedIndex;if(i&&(pg().getCode(e)===pg().Enter||!t&&pg().getCode(e)===pg().Spacebar)){e.preventDefault();var o=rb(qb({value:n.state.value,options:n.props.options,searchQuery:n.state.searchQuery,additionLabel:n.props.additionLabel,additionPosition:n.props.additionPosition,allowAdditions:n.props.allowAdditions,deburr:n.props.deburr,multiple:n.props.multiple,search:n.props.search}));if(!t||0!==o){var s=n.makeSelectedItemActive(e,a);n.setState({selectedIndex:Wb({additionLabel:n.props.additionLabel,additionPosition:n.props.additionPosition,allowAdditions:n.props.allowAdditions,deburr:n.props.deburr,multiple:n.props.multiple,search:n.props.search,selectedIndex:a,value:s,options:n.props.options,searchQuery:""})}),n.closeOnChange(e),n.clearSearchQuery(),t&&rg(n.searchRef.current,"focus")}}},n.removeItemOnBackspace=function(e){var t=n.props,r=t.multiple,i=t.search,a=n.state,o=a.searchQuery,s=a.value;if(pg().getCode(e)===pg().Backspace&&!o&&i&&r&&!Uy(s)){e.preventDefault();var u=Fy(s);n.setState({value:u}),n.handleChange(e,u)}},n.closeOnDocumentClick=function(e){n.props.closeOnBlur&&(n.ref.current&&kg(n.ref.current,e)||n.close())},n.handleMouseDown=function(e){n.isMouseDown=!0,rg(n.props,"onMouseDown",e,n.props),document.addEventListener("mouseup",n.handleDocumentMouseUp)},n.handleDocumentMouseUp=function(){n.isMouseDown=!1,document.removeEventListener("mouseup",n.handleDocumentMouseUp)},n.handleClick=function(e){var t=n.props,r=t.minCharacters,i=t.search,a=n.state,o=a.open,s=a.searchQuery;if(rg(n.props,"onClick",e,n.props),e.stopPropagation(),!i)return n.toggle(e);o?rg(n.searchRef.current,"focus"):s.length>=r||1===r?n.open(e):rg(n.searchRef.current,"focus")},n.handleIconClick=function(e){var t=n.props.clearable,r=n.hasValue();rg(n.props,"onClick",e,n.props),e.stopPropagation(),t&&r?n.clearValue(e):n.toggle(e)},n.handleItemClick=function(e,t){var r=n.props,i=r.multiple,a=r.search,s=n.state.value,u=t.value;if(e.stopPropagation(),(i||t.disabled)&&e.nativeEvent.stopImmediatePropagation(),!t.disabled){var c=t["data-additional"],l=i?cb(n.state.value,[u]):u;(i?!!ub(l,s).length:l!==s)&&(n.setState({value:l}),n.handleChange(e,l)),n.clearSearchQuery(),rg(a?n.searchRef.current:n.ref.current,"focus"),n.closeOnChange(e),c&&rg(n.props,"onAddItem",e,o({},n.props,{value:u}))}},n.handleFocus=function(e){n.state.focus||(rg(n.props,"onFocus",e,n.props),n.setState({focus:!0}))},n.handleBlur=function(e){var t=Tn(e,"currentTarget");if(!t||!t.contains(document.activeElement)){var r=n.props,i=r.closeOnBlur,a=r.multiple,o=r.selectOnBlur;n.isMouseDown||(rg(n.props,"onBlur",e,n.props),o&&!a&&(n.makeSelectedItemActive(e,n.state.selectedIndex),i&&n.close()),n.setState({focus:!1}),n.clearSearchQuery())}},n.handleSearchChange=function(e,t){var r=t.value;e.stopPropagation();var i=n.props.minCharacters,a=n.state.open,s=r;rg(n.props,"onSearchChange",e,o({},n.props,{searchQuery:s})),n.setState({searchQuery:s,selectedIndex:0}),!a&&s.length>=i?n.open():a&&1!==i&&s.length<i&&n.close()},n.handleKeyDown=function(e){n.moveSelectionOnKeyDown(e),n.openOnArrow(e),n.openOnSpace(e),n.selectItemOnEnter(e),rg(n.props,"onKeyDown",e)},n.getSelectedItem=function(e){var t=qb({value:n.state.value,options:n.props.options,searchQuery:n.state.searchQuery,additionLabel:n.props.additionLabel,additionPosition:n.props.additionPosition,allowAdditions:n.props.allowAdditions,deburr:n.props.deburr,multiple:n.props.multiple,search:n.props.search});return Tn(t,"["+e+"]")},n.getItemByValue=function(e){var t=n.props.options;return My(t,{value:e})},n.getDropdownAriaOptions=function(){var e=n.props,t=e.loading,r=e.disabled,i=e.search,a=e.multiple,o={role:i?"combobox":"listbox","aria-busy":t,"aria-disabled":r,"aria-expanded":!!n.state.open};return"listbox"===o.role&&(o["aria-multiselectable"]=a),o},n.clearSearchQuery=function(){var e=n.state.searchQuery;void 0!==e&&""!==e&&n.setState({searchQuery:""})},n.handleLabelClick=function(e,t){e.stopPropagation(),n.setState({selectedLabel:t.value}),rg(n.props,"onLabelClick",e,t)},n.handleLabelRemove=function(e,t){e.stopPropagation();var r=n.state.value,i=Ay(r,t.value);n.setState({value:i}),n.handleChange(e,i)},n.getSelectedIndexAfterMove=function(e,t){void 0===t&&(t=n.state.selectedIndex);var r=qb({value:n.state.value,options:n.props.options,searchQuery:n.state.searchQuery,additionLabel:n.props.additionLabel,additionPosition:n.props.additionPosition,allowAdditions:n.props.allowAdditions,deburr:n.props.deburr,multiple:n.props.multiple,search:n.props.search});if(void 0!==r&&!Ty(r,"disabled")){var i=r.length-1,a=t+e;return!n.props.wrapSelection&&(a>i||a<0)?a=t:a>i?a=0:a<0&&(a=i),r[a].disabled?n.getSelectedIndexAfterMove(e,a):a}},n.handleIconOverrides=function(e){var t=n.props.clearable;return{className:u(t&&n.hasValue()&&"clear",e.className),onClick:function(t){rg(e,"onClick",t,e),n.handleIconClick(t)}}},n.clearValue=function(e){var t=n.props.multiple?[]:"";n.setState({value:t}),n.handleChange(e,t)},n.computeSearchInputTabIndex=function(){var e=n.props,t=e.disabled,r=e.tabIndex;return am(r)?t?-1:0:r},n.computeSearchInputWidth=function(){var e=n.state.searchQuery;if(n.sizerRef.current&&e){n.sizerRef.current.style.display="inline",n.sizerRef.current.textContent=e;var t=Math.ceil(n.sizerRef.current.getBoundingClientRect().width);return n.sizerRef.current.style.removeProperty("display"),t}},n.computeTabIndex=function(){var e=n.props,t=e.disabled,r=e.search,i=e.tabIndex;if(!r)return t?-1:am(i)?0:i},n.handleSearchInputOverrides=function(e){return{onChange:function(t,r){rg(e,"onChange",t,r),n.handleSearchChange(t,r)}}},n.hasValue=function(){var e=n.props.multiple,t=n.state.value;return e?!Uy(t):!am(t)&&""!==t},n.scrollSelectedItemIntoView=function(){if(n.ref.current){var e=n.ref.current.querySelector(".menu.visible");if(e){var t=e.querySelector(".item.selected");if(t){var r=t.offsetTop<e.scrollTop,i=t.offsetTop+t.clientHeight>e.scrollTop+e.clientHeight;r?e.scrollTop=t.offsetTop:i&&(e.scrollTop=t.offsetTop+t.clientHeight-e.clientHeight)}}}},n.setOpenDirection=function(){if(n.ref.current){var e=n.ref.current.querySelector(".menu.visible");if(e){var t=n.ref.current.getBoundingClientRect(),r=e.clientHeight,i=document.documentElement.clientHeight-t.top-t.height-r,a=t.top-r,o=i<0&&a>i;!o!==!n.state.upward&&n.setState({upward:o})}}},n.open=function(e,t){void 0===e&&(e=null),void 0===t&&(t=!0);var r=n.props,i=r.disabled,a=r.search;i||(a&&rg(n.searchRef.current,"focus"),rg(n.props,"onOpen",e,n.props),t&&n.setState({open:!0}),n.scrollSelectedItemIntoView())},n.close=function(e,t){void 0===t&&(t=n.handleClose),n.state.open&&(rg(n.props,"onClose",e,n.props),n.setState({open:!1},t))},n.handleClose=function(){var e=document.activeElement===n.searchRef.current;!e&&n.ref.current&&n.ref.current.blur();var t=document.activeElement===n.ref.current,r=e||t;n.setState({focus:r})},n.toggle=function(e){return n.state.open?n.close(e):n.open(e)},n.renderText=function(){var e,t=n.props,r=t.multiple,i=t.placeholder,a=t.search,o=t.text,s=n.state,c=s.searchQuery,l=s.selectedIndex,h=s.value,f=s.open,d=n.hasValue(),p=u(i&&!d&&"default","text",a&&c&&"filtered"),v=i;return o?v=o:f&&!r?e=n.getSelectedItem(l):d&&(e=n.getItemByValue(h)),Pb.create(e?Kb(e):v,{defaultProps:{className:p}})},n.renderSearchInput=function(){var e=n.props,r=e.search,i=e.searchInput,a=n.state.searchQuery;return r&&t.createElement(fg,{innerRef:n.searchRef},Tb.create(i,{defaultProps:{style:{width:n.computeSearchInputWidth()},tabIndex:n.computeSearchInputTabIndex(),value:a},overrideProps:n.handleSearchInputOverrides}))},n.renderSearchSizer=function(){var e=n.props,r=e.search,i=e.multiple;return r&&i&&t.createElement("span",{className:"sizer",ref:n.sizerRef})},n.renderLabels=function(){var e=n.props,t=e.multiple,r=e.renderLabel,i=n.state,a=i.selectedLabel,o=i.value;if(t&&!Uy(o)){var s=Zg(o,n.getItemByValue);return Zg(Sy(s),(function(e,t){var i={active:e.value===a,as:"a",key:Hb(e.key,e.value),onClick:n.handleLabelClick,onRemove:n.handleLabelRemove,value:e.value};return Ug.create(r(e,t,i),{defaultProps:i})}))}},n.renderOptions=function(){var e=n.props,r=e.lazyLoad,i=e.multiple,a=e.search,s=e.noResultsMessage,u=n.state,c=u.open,l=u.selectedIndex,h=u.value;if(r&&!c)return null;var f=qb({value:n.state.value,options:n.props.options,searchQuery:n.state.searchQuery,additionLabel:n.props.additionLabel,additionPosition:n.props.additionPosition,allowAdditions:n.props.allowAdditions,deburr:n.props.deburr,multiple:n.props.multiple,search:n.props.search});if(null!==s&&a&&Uy(f))return t.createElement("div",{className:"message"},s);var d=i?function(e){return Am(h,e)}:function(e){return e===h};return Zg(f,(function(e,t){return _b.create(o({active:d(e.value),selected:l===t},e,{key:Hb(e.key,e.value),style:o({},e.style,{pointerEvents:"all"})}),{generateKey:!1,overrideProps:function(e){return{onClick:function(t,r){null==e.onClick||e.onClick(t,r),n.handleItemClick(t,r)}}}})}))},n.renderMenu=function(){var e=n.props,r=e.children,i=e.direction,a=e.header,s=n.state.open,c=n.getDropdownMenuAriaOptions();if(!Wn(r)){var l=t.Children.only(r),f=u(i,h(s,"visible"),l.props.className);return(0,t.cloneElement)(l,o({className:f},c))}return t.createElement(Ib,o({},c,{direction:i,open:s}),Eb.create(a,{autoGenerateKey:!1}),n.renderOptions())},n}mm(n,e);var r=n.prototype;return r.getInitialAutoControlledState=function(){return{focus:!1,searchQuery:""}},n.getAutoControlledStateFromProps=function(e,t,n){var r={__options:e.options,__value:t.value};return(!mb()(n.__value,t.value)||!lb(Gb(e.options),Gb(n.__options)))&&(r.selectedIndex=Wb({additionLabel:e.additionLabel,additionPosition:e.additionPosition,allowAdditions:e.allowAdditions,deburr:e.deburr,multiple:e.multiple,search:e.search,selectedIndex:t.selectedIndex,value:t.value,options:e.options,searchQuery:t.searchQuery})),r},r.componentDidMount=function(){this.state.open&&this.open(null,!1)},r.shouldComponentUpdate=function(e,t){return!mb()(e,this.props)||!mb()(t,this.state)},r.componentDidUpdate=function(e,t){var n=this.props,r=n.closeOnBlur,i=n.minCharacters,a=n.openOnFocus,o=n.search;if(!t.focus&&this.state.focus){if(!this.isMouseDown){var s=!o||o&&1===i&&!this.state.open;a&&s&&this.open()}}else t.focus&&!this.state.focus&&!this.isMouseDown&&r&&this.close();!t.open&&this.state.open?(this.setOpenDirection(),this.scrollSelectedItemIntoView()):t.open&&this.state.open,t.selectedIndex!==this.state.selectedIndex&&this.scrollSelectedItemIntoView()},r.getDropdownMenuAriaOptions=function(){var e=this.props,t=e.search,n=e.multiple,r={};return t&&(r["aria-multiselectable"]=n,r.role="listbox"),r},r.render=function(){var e=this.props,r=e.basic,i=e.button,a=e.className,s=e.compact,c=e.disabled,l=e.error,f=e.fluid,p=e.floating,v=e.icon,m=e.inline,g=e.item,k=e.labeled,w=e.loading,_=e.multiple,x=e.pointing,E=e.search,S=e.selection,I=e.scrolling,C=e.simple,T=e.trigger,N=this.state,P=N.focus,R=N.open,A=N.upward,O=u("ui",h(R,"active visible"),h(c,"disabled"),h(l,"error"),h(w,"loading"),h(r,"basic"),h(i,"button"),h(s,"compact"),h(f,"fluid"),h(p,"floating"),h(m,"inline"),h(k,"labeled"),h(g,"item"),h(_,"multiple"),h(E,"search"),h(S,"selection"),h(C,"simple"),h(I,"scrolling"),h(A,"upward"),d(x,"pointing"),"dropdown",a),D=y(n,this.props),L=b(n,this.props),M=this.getDropdownAriaOptions(L,this.props);return t.createElement(fg,{innerRef:this.ref},t.createElement(L,o({},D,M,{className:O,onBlur:this.handleBlur,onClick:this.handleClick,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onFocus:this.handleFocus,onChange:this.handleChange,tabIndex:this.computeTabIndex()}),this.renderLabels(),this.renderSearchInput(),this.renderSearchSizer(),T||this.renderText(),Dg.create(v,{overrideProps:this.handleIconOverrides,autoGenerateKey:!1}),this.renderMenu(),R&&t.createElement(ag(),{name:"keydown",on:this.closeOnEscape}),R&&t.createElement(ag(),{name:"click",on:this.closeOnDocumentClick}),P&&t.createElement(ag(),{name:"keydown",on:this.removeItemOnBackspace})))},n}(_g);function Yb(e){var n=e.control,r=y(Yb,e),i=b(Yb,e);return t.createElement(i,o({},r,{control:n}))}Qb.handledProps=["additionLabel","additionPosition","allowAdditions","as","basic","button","children","className","clearable","closeOnBlur","closeOnChange","closeOnEscape","compact","deburr","defaultOpen","defaultSearchQuery","defaultSelectedLabel","defaultUpward","defaultValue","direction","disabled","error","floating","fluid","header","icon","inline","item","labeled","lazyLoad","loading","minCharacters","multiple","noResultsMessage","onAddItem","onBlur","onChange","onClick","onClose","onFocus","onLabelClick","onMouseDown","onOpen","onSearchChange","open","openOnFocus","options","placeholder","pointing","renderLabel","scrolling","search","searchInput","searchQuery","selectOnBlur","selectOnNavigation","selectedLabel","selection","simple","tabIndex","text","trigger","upward","value","wrapSelection"],Qb.propTypes={},Qb.defaultProps={additionLabel:"Add ",additionPosition:"top",closeOnBlur:!0,closeOnEscape:!0,deburr:!1,icon:"dropdown",minCharacters:1,noResultsMessage:"No results found.",openOnFocus:!0,renderLabel:Kb,searchInput:"text",selectOnBlur:!0,selectOnNavigation:!0,wrapSelection:!0},Qb.autoControlledProps=["open","searchQuery","selectedLabel","value","upward"],Qb.Divider=kb,Qb.Header=Eb,Qb.Item=_b,Qb.Menu=Ib,Qb.SearchInput=Tb,Qb.Text=Pb,Yb.handledProps=["as","control"],Yb.propTypes={},Yb.defaultProps={as:ky,control:Qb};var Xb=Yb;function Jb(e){var n=e.children,r=e.className,i=e.grouped,a=e.inline,s=e.unstackable,c=e.widths,l=u(h(i,"grouped"),h(a,"inline"),h(s,"unstackable"),g(c,null,!0),"fields",r),f=y(Jb,e),d=b(Jb,e);return t.createElement(d,o({},f,{className:l}),n)}Jb.handledProps=["as","children","className","grouped","inline","unstackable","widths"],Jb.propTypes={};var $b=Jb,Zb=function(e){function n(){for(var r,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(r=e.call.apply(e,[this].concat(a))||this).inputRef=(0,t.createRef)(),r.computeIcon=function(){var e=r.props,t=e.loading,n=e.icon;return am(n)?t?"spinner":void 0:n},r.computeTabIndex=function(){var e=r.props,t=e.disabled,n=e.tabIndex;return am(n)?t?-1:void 0:n},r.focus=function(e){return r.inputRef.current.focus(e)},r.select=function(){return r.inputRef.current.select()},r.handleChange=function(e){var t=Tn(e,"target.value");rg(r.props,"onChange",e,o({},r.props,{value:t}))},r.handleChildOverrides=function(e,t){return o({},t,e.props,{ref:function(t){og(e.ref,t),r.inputRef.current=t}})},r.partitionProps=function(){var e=r.props,t=e.disabled,i=e.type,a=r.computeTabIndex(),s=y(n,r.props),u=Um(s),c=u[0],l=u[1];return[o({},c,{disabled:t,type:i,tabIndex:a,onChange:r.handleChange,ref:r.inputRef}),l]},r}return mm(n,e),n.prototype.render=function(){var e=this,r=this.props,i=r.action,a=r.actionPosition,s=r.children,c=r.className,l=r.disabled,d=r.error,p=r.fluid,v=r.focus,m=r.icon,g=r.iconPosition,y=r.input,k=r.inverted,w=r.label,_=r.labelPosition,x=r.loading,E=r.size,S=r.transparent,I=r.type,C=u("ui",E,h(l,"disabled"),h(d,"error"),h(p,"fluid"),h(v,"focus"),h(k,"inverted"),h(x,"loading"),h(S,"transparent"),f(a,"action")||h(i,"action"),f(g,"icon")||h(m||x,"icon"),f(_,"labeled")||h(w,"labeled"),"input",c),T=b(n,this.props),N=this.partitionProps(),P=N[0],R=N[1];if(!Wn(s)){var A=Zg(t.Children.toArray(s),(function(n){return"input"!==n.type?n:(0,t.cloneElement)(n,e.handleChildOverrides(n,P))}));return t.createElement(T,o({},R,{className:C}),A)}var O=ly.create(i,{autoGenerateKey:!1}),D=Ug.create(w,{defaultProps:{className:u("label",Am(_,"corner")&&_)},autoGenerateKey:!1});return t.createElement(T,o({},R,{className:C}),"left"===a&&O,"right"!==_&&D,um(y||I,{defaultProps:P,autoGenerateKey:!1}),Dg.create(this.computeIcon(),{autoGenerateKey:!1}),"left"!==a&&O,"right"===_&&D)},n}(t.Component);Zb.handledProps=["action","actionPosition","as","children","className","disabled","error","fluid","focus","icon","iconPosition","input","inverted","label","labelPosition","loading","onChange","size","tabIndex","transparent","type"],Zb.propTypes={},Zb.defaultProps={type:"text"},Zb.create=sm(Zb,(function(e){return{type:e}}));var ek=Zb;function tk(e){var n=e.control,r=y(tk,e),i=b(tk,e);return t.createElement(i,o({},r,{control:n}))}tk.handledProps=["as","control"],tk.propTypes={},tk.defaultProps={as:ky,control:ek};var nk=tk;function rk(e){var n=e.control,r=y(rk,e),i=b(rk,e);return t.createElement(i,o({},r,{control:n}))}rk.handledProps=["as","control"],rk.propTypes={},rk.defaultProps={as:ky,control:yy};var ik=rk;function ak(e){return t.createElement(Qb,o({},e,{selection:!0}))}ak.handledProps=["options"],ak.propTypes={},ak.Divider=Qb.Divider,ak.Header=Qb.Header,ak.Item=Qb.Item,ak.Menu=Qb.Menu;var ok=ak;function sk(e){var n=e.control,r=e.options,i=y(sk,e),a=b(sk,e);return t.createElement(a,o({},i,{control:n,options:r}))}sk.handledProps=["as","control","options"],sk.propTypes={},sk.defaultProps={as:ky,control:ok};var uk=sk,ck=function(e){function n(){for(var n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=e.call.apply(e,[this].concat(i))||this).ref=(0,t.createRef)(),n.focus=function(){return n.ref.current.focus()},n.handleChange=function(e){var t=Tn(e,"target.value");rg(n.props,"onChange",e,o({},n.props,{value:t}))},n.handleInput=function(e){var t=Tn(e,"target.value");rg(n.props,"onInput",e,o({},n.props,{value:t}))},n}return mm(n,e),n.prototype.render=function(){var e=this.props,r=e.rows,i=e.value,a=y(n,this.props),s=b(n,this.props);return t.createElement(fg,{innerRef:this.ref},t.createElement(s,o({},a,{onChange:this.handleChange,onInput:this.handleInput,rows:r,value:i})))},n}(t.Component);ck.handledProps=["as","onChange","onInput","rows","value"],ck.propTypes={},ck.defaultProps={as:"textarea",rows:3};var lk=ck;function hk(e){var n=e.control,r=y(hk,e),i=b(hk,e);return t.createElement(i,o({},r,{control:n}))}hk.handledProps=["as","control"],hk.propTypes={},hk.defaultProps={as:ky,control:lk};var fk=hk,dk=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleSubmit=function(e){"string"!==typeof t.props.action&&rg(e,"preventDefault");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];rg.apply(void 0,[t.props,"onSubmit",e,t.props].concat(r))},t}return mm(n,e),n.prototype.render=function(){var e=this.props,r=e.action,i=e.children,a=e.className,s=e.error,c=e.inverted,l=e.loading,f=e.reply,d=e.size,p=e.success,v=e.unstackable,m=e.warning,k=e.widths,w=u("ui",d,h(s,"error"),h(c,"inverted"),h(l,"loading"),h(f,"reply"),h(p,"success"),h(v,"unstackable"),h(m,"warning"),g(k,null,!0),"form",a),_=y(n,this.props),x=b(n,this.props);return t.createElement(x,o({},_,{action:r,className:w,onSubmit:this.handleSubmit}),i)},n}(t.Component);dk.handledProps=["action","as","children","className","error","inverted","loading","onSubmit","reply","size","success","unstackable","warning","widths"],dk.propTypes={},dk.defaultProps={as:"form"},dk.Field=ky,dk.Button=_y,dk.Checkbox=Ey,dk.Dropdown=Xb,dk.Group=$b,dk.Input=nk,dk.Radio=ik,dk.Select=uk,dk.TextArea=fk;var pk,vk=dk,mk="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},gk={},yk=yk||{},bk=mk||self;function kk(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function wk(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var _k="closure_uid_"+(1e9*Math.random()>>>0),xk=0;function Ek(e,t,n){return e.call.apply(e.bind,arguments)}function Sk(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ik(e,t,n){return(Ik=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ek:Sk).apply(null,arguments)}function Ck(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Tk(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Nk(){this.s=this.s,this.o=this.o}Nk.prototype.s=!1,Nk.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,_k)&&e[_k]||(e[_k]=++xk))},Nk.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Pk=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Rk(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ak(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(kk(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Ok(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Ok.prototype.h=function(){this.defaultPrevented=!0};var Dk=function(){if(!bk.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{bk.addEventListener("test",(function(){}),t),bk.removeEventListener("test",(function(){}),t)}catch(kX){}return e}();function Lk(e){return/^[\s\xa0]*$/.test(e)}function Mk(){var e=bk.navigator;return e&&(e=e.userAgent)?e:""}function Fk(e){return-1!=Mk().indexOf(e)}function jk(e){return jk[" "](e),e}jk[" "]=function(){};var Uk,qk,zk=Fk("Opera"),Vk=Fk("Trident")||Fk("MSIE"),Bk=Fk("Edge"),Wk=Bk||Vk,Hk=Fk("Gecko")&&!(-1!=Mk().toLowerCase().indexOf("webkit")&&!Fk("Edge"))&&!(Fk("Trident")||Fk("MSIE"))&&!Fk("Edge"),Gk=-1!=Mk().toLowerCase().indexOf("webkit")&&!Fk("Edge");function Kk(){var e=bk.document;return e?e.documentMode:void 0}e:{var Qk="",Yk=function(){var e=Mk();return Hk?/rv:([^\);]+)(\)|;)/.exec(e):Bk?/Edge\/([\d\.]+)/.exec(e):Vk?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Gk?/WebKit\/(\S+)/.exec(e):zk?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Yk&&(Qk=Yk?Yk[1]:""),Vk){var Xk=Kk();if(null!=Xk&&Xk>parseFloat(Qk)){Uk=String(Xk);break e}}Uk=Qk}if(bk.document&&Vk){var Jk=Kk();qk=Jk||(parseInt(Uk,10)||void 0)}else qk=void 0;var $k=qk;function Zk(e,t){if(Ok.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Hk){e:{try{jk(t.nodeName);var i=!0;break e}catch(TX){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ew[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Zk.$.h.call(this)}}Tk(Zk,Ok);var ew={2:"touch",3:"pen",4:"mouse"};Zk.prototype.h=function(){Zk.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var tw="closure_listenable_"+(1e6*Math.random()|0),nw=0;function rw(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++nw,this.fa=this.ia=!1}function iw(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function aw(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ow(e){var t={};for(var n in e)t[n]=e[n];return t}var sw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function uw(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<sw.length;a++)n=sw[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function cw(e){this.src=e,this.g={},this.h=0}function lw(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Pk(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(iw(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function hw(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}cw.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=hw(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new rw(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var fw="closure_lm_"+(1e6*Math.random()|0),dw={};function pw(e,t,n,r,i){if(r&&r.once)return mw(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)pw(e,t[a],n,r,i);return null}return n=xw(n),e&&e[tw]?e.O(t,n,wk(r)?!!r.capture:!!r,i):vw(e,t,n,!1,r,i)}function vw(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=wk(i)?!!i.capture:!!i,s=ww(e);if(s||(e[fw]=s=new cw(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=kw;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Dk||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(bw(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function mw(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)mw(e,t[a],n,r,i);return null}return n=xw(n),e&&e[tw]?e.P(t,n,wk(r)?!!r.capture:!!r,i):vw(e,t,n,!0,r,i)}function gw(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)gw(e,t[a],n,r,i);else r=wk(r)?!!r.capture:!!r,n=xw(n),e&&e[tw]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=hw(a=e.g[t],n,r,i))&&(iw(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ww(e))&&(t=e.g[t.toString()],e=-1,t&&(e=hw(t,n,r,i)),(n=-1<e?t[e]:null)&&yw(n))}function yw(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[tw])lw(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(bw(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ww(t))?(lw(n,e),0==n.h&&(n.src=null,t[fw]=null)):iw(e)}}}function bw(e){return e in dw?dw[e]:dw[e]="on"+e}function kw(e,t){if(e.fa)e=!0;else{t=new Zk(t,this);var n=e.listener,r=e.la||e.src;e.ia&&yw(e),e=n.call(r,t)}return e}function ww(e){return(e=e[fw])instanceof cw?e:null}var _w="__closure_events_fn_"+(1e9*Math.random()>>>0);function xw(e){return"function"===typeof e?e:(e[_w]||(e[_w]=function(t){return e.handleEvent(t)}),e[_w])}function Ew(){Nk.call(this),this.i=new cw(this),this.S=this,this.J=null}function Sw(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Ok(t,e);else if(t instanceof Ok)t.target=t.target||e;else{var i=t;uw(t=new Ok(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Iw(o,r,!0,t)&&i}if(i=Iw(o=t.g=e,r,!0,t)&&i,i=Iw(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Iw(o=t.g=n[a],r,!1,t)&&i}function Iw(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&lw(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Tk(Ew,Nk),Ew.prototype[tw]=!0,Ew.prototype.removeEventListener=function(e,t,n,r){gw(this,e,t,n,r)},Ew.prototype.N=function(){if(Ew.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)iw(n[r]);delete t.g[e],t.h--}}this.J=null},Ew.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ew.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Cw=bk.JSON.stringify,Tw=function(){function e(t,n){ur(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return lr(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function Nw(){var e=Fw,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Pw=function(){function e(){ur(this,e),this.h=this.g=null}return lr(e,[{key:"add",value:function(e,t){var n=Rw.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Rw=new Tw((function(){return new Aw}),(function(e){return e.reset()})),Aw=function(){function e(){ur(this,e),this.next=this.g=this.h=null}return lr(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Ow(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Dw(e){bk.setTimeout((function(){throw e}),0)}var Lw,Mw=!1,Fw=new Pw,jw=function(){var e=bk.Promise.resolve(void 0);Lw=function(){e.then(Uw)}},Uw=function(){for(var e;e=Nw();){try{e.h.call(e.g)}catch(kX){Dw(kX)}var t=Rw;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Mw=!1};function qw(e,t){Ew.call(this),this.h=e||1,this.g=t||bk,this.j=Ik(this.qb,this),this.l=Date.now()}function zw(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Vw(e,t,n){if("function"===typeof e)n&&(e=Ik(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ik(e.handleEvent,e)}return 2147483647<Number(t)?-1:bk.setTimeout(e,t||0)}function Bw(e){e.g=Vw((function(){e.g=null,e.i&&(e.i=!1,Bw(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Tk(qw,Ew),(pk=qw.prototype).ga=!1,pk.T=null,pk.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Sw(this,"tick"),this.ga&&(zw(this),this.start()))}},pk.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},pk.N=function(){qw.$.N.call(this),zw(this),delete this.g};var Ww=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return lr(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Bw(this)}},{key:"N",value:function(){Ja(vr(n.prototype),"N",this).call(this),this.g&&(bk.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Nk);function Hw(e){Nk.call(this),this.h=e,this.g={}}Tk(Hw,Nk);var Gw=[];function Kw(e,t,n,r){Array.isArray(n)||(n&&(Gw[0]=n.toString()),n=Gw);for(var i=0;i<n.length;i++){var a=pw(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Qw(e){aw(e.g,(function(e,t){this.g.hasOwnProperty(t)&&yw(e)}),e),e.g={}}function Yw(){this.g=!0}function Xw(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Cw(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Hw.prototype.N=function(){Hw.$.N.call(this),Qw(this)},Hw.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yw.prototype.Ea=function(){this.g=!1},Yw.prototype.info=function(){};var Jw={},$w=null;function Zw(){return $w=$w||new Ew}function e_(e){Ok.call(this,Jw.Ta,e)}function t_(e){var t=Zw();Sw(t,new e_(t))}function n_(e,t){Ok.call(this,Jw.STAT_EVENT,e),this.stat=t}function r_(e){var t=Zw();Sw(t,new n_(t,e))}function i_(e,t){Ok.call(this,Jw.Ua,e),this.size=t}function a_(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return bk.setTimeout((function(){e()}),t)}Jw.Ta="serverreachability",Tk(e_,Ok),Jw.STAT_EVENT="statevent",Tk(n_,Ok),Jw.Ua="timingevent",Tk(i_,Ok);var o_={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},s_={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function u_(){}function c_(e){return e.h||(e.h=e.i())}function l_(){}u_.prototype.h=null;var h_,f_={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function d_(){Ok.call(this,"d")}function p_(){Ok.call(this,"c")}function v_(){}function m_(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Hw(this),this.P=y_,e=Wk?125:void 0,this.V=new qw(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new g_}function g_(){this.i=null,this.g="",this.h=!1}Tk(d_,Ok),Tk(p_,Ok),Tk(v_,u_),v_.prototype.g=function(){return new XMLHttpRequest},v_.prototype.i=function(){return{}},h_=new v_;var y_=45e3,b_={},k_={};function w_(e,t,n){e.L=1,e.v=q_(L_(t)),e.s=n,e.S=!0,__(e,null)}function __(e,t){e.G=Date.now(),I_(e),e.A=L_(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Z_(n.i,"t",r),e.C=0,n=e.l.J,e.h=new g_,e.g=eE(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Ww(Ik(e.Pa,e,e.g),e.O)),Kw(e.U,e.g,"readystatechange",e.nb),t=e.I?ow(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),t_(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function x_(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function E_(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=S_(e,n))==k_){4==t&&(e.o=4,r_(14),i=!1),Xw(e.j,e.m,null,"[Incomplete Response]");break}if(r==b_){e.o=4,r_(15),Xw(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Xw(e.j,e.m,r,null),R_(e,r)}x_(e)&&r!=k_&&r!=b_&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,r_(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Gx(t),t.M=!0,r_(11))):(Xw(e.j,e.m,n,"[Invalid Chunked Response]"),P_(e),N_(e))}function S_(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?k_:(n=Number(t.substring(n,r)),isNaN(n)?b_:(r+=1)+n>t.length?k_:(t=t.slice(r,r+n),e.C=r+n,t))}function I_(e){e.Y=Date.now()+e.P,C_(e,e.P)}function C_(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=a_(Ik(e.lb,e),t)}function T_(e){e.B&&(bk.clearTimeout(e.B),e.B=null)}function N_(e){0==e.l.H||e.J||Yx(e.l,e)}function P_(e){T_(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,zw(e.V),Qw(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function R_(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||ox(n.i,e)))if(!e.K&&ox(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Qx(n),jx(n)}Hx(n),r_(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=a_(Ik(n.ib,n),6e3));if(1>=ax(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else Jx(n,11)}else if((e.K||n.g==e)&&Qx(n),!Lk(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var s=a[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;h.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(h.j=h.l,h.g=new Set,h.h&&(sx(h,h.h),h.h=null))}if(r.F){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.Da=f,U_(r.I,r.F,f))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=Zx(r,r.J?r.pa:null,r.Y),d.K){ux(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(T_(p),I_(p)),r.g=d}else Wx(r);0<n.j.length&&qx(n)}else"stop"!=a[0]&&"close"!=a[0]||Jx(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Jx(n,7):Fx(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}t_()}catch(a){}}function A_(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(kk(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(kk(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(kk(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(pk=m_.prototype).setTimeout=function(e){this.P=e},pk.nb=function(e){e=e.target;var t=this.M;t&&3==Rx(e)?t.l():this.Pa(e)},pk.Pa=function(e){try{if(e==this.g)e:{var t=Rx(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||Wk||this.g&&(this.h.h||this.g.ja()||Ax(this.g)))){this.J||4!=t||7==n||t_(),T_(this);var r=this.g.da();this.ca=r;t:if(x_(this)){var i=Ax(this.g);e="";var a=i.length,o=4==Rx(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){P_(this),N_(this);var s="";break t}this.h.i=new bk.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Lk(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,r_(12),P_(this),N_(this);break e}Xw(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,R_(this,r)}this.S?(E_(this,t,s),Wk&&this.i&&3==t&&(Kw(this.U,this.V,"tick",this.mb),this.V.start())):(Xw(this.j,this.m,s,null),R_(this,s)),4==t&&P_(this),this.i&&!this.J&&(4==t?Yx(this.l,this):(this.i=!1,I_(this)))}else(function(e){var t={};e=(e.g&&2<=Rx(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!Lk(e[n])){var r=Ow(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<s.indexOf("Unknown SID")?(this.o=3,r_(12)):(this.o=0,r_(13)),P_(this),N_(this)}}}catch(t){}},pk.mb=function(){if(this.g){var e=Rx(this.g),t=this.g.ja();this.C<t.length&&(T_(this),E_(this,e,t),this.i&&4!=e&&I_(this))}},pk.cancel=function(){this.J=!0,P_(this)},pk.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(t_(),r_(17)),P_(this),this.o=2,N_(this)):C_(this,this.Y-e)};var O_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function D_(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof D_){this.h=e.h,M_(this,e.j),this.s=e.s,this.g=e.g,F_(this,e.m),this.l=e.l;var t=e.i,n=new Y_;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),j_(this,n),this.o=e.o}else e&&(t=String(e).match(O_))?(this.h=!1,M_(this,t[1]||"",!0),this.s=z_(t[2]||""),this.g=z_(t[3]||"",!0),F_(this,t[4]),this.l=z_(t[5]||"",!0),j_(this,t[6]||"",!0),this.o=z_(t[7]||"")):(this.h=!1,this.i=new Y_(null,this.h))}function L_(e){return new D_(e)}function M_(e,t,n){e.j=n?z_(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function F_(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function j_(e,t,n){t instanceof Y_?(e.i=t,function(e,t){t&&!e.j&&(X_(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(J_(this,t),Z_(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=V_(t,K_)),e.i=new Y_(t,e.h))}function U_(e,t,n){e.i.set(t,n)}function q_(e){return U_(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function z_(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function V_(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,B_),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function B_(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}D_.prototype.toString=function(){var e=[],t=this.j;t&&e.push(V_(t,W_,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(V_(t,W_,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(V_(n,"/"==n.charAt(0)?G_:H_,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",V_(n,Q_)),e.join("")};var W_=/[#\/\?@]/g,H_=/[#\?:]/g,G_=/[#\?]/g,K_=/[#\?@]/g,Q_=/#/g;function Y_(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function X_(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function J_(e,t){X_(e),t=ex(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function $_(e,t){return X_(e),t=ex(e,t),e.g.has(t)}function Z_(e,t,n){J_(e,t),0<n.length&&(e.i=null,e.g.set(ex(e,t),Rk(n)),e.h+=n.length)}function ex(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(pk=Y_.prototype).add=function(e,t){X_(this),this.i=null,e=ex(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},pk.forEach=function(e,t){X_(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},pk.ta=function(){X_(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},pk.Z=function(e){X_(this);var t=[];if("string"===typeof e)$_(this,e)&&(t=t.concat(this.g.get(ex(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},pk.set=function(e,t){return X_(this),this.i=null,$_(this,e=ex(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},pk.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},pk.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var tx=lr((function e(t,n){ur(this,e),this.g=t,this.map=n}));function nx(e){this.l=e||rx,bk.PerformanceNavigationTiming?e=0<(e=bk.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(bk.g&&bk.g.Ka&&bk.g.Ka()&&bk.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var rx=10;function ix(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ax(e){return e.h?1:e.g?e.g.size:0}function ox(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function sx(e,t){e.g?e.g.add(t):e.h=t}function ux(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function cx(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=hr(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return Rk(e.i)}nx.prototype.cancel=function(){if(this.i=cx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=hr(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var lx,hx=function(){function e(){ur(this,e)}return lr(e,[{key:"stringify",value:function(e){return bk.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return bk.JSON.parse(e,void 0)}}]),e}();function fx(){this.g=new hx}function dx(e,t,n){var r=n||"";try{A_(e,(function(e,n){var i=e;wk(e)&&(i=Cw(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(c$){throw t.push(r+"type="+encodeURIComponent("_badmap")),c$}}function px(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(TX){}}function vx(e){this.l=e.fc||null,this.j=e.ob||!1}function mx(e,t){Ew.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=gx,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Tk(vx,u_),vx.prototype.g=function(){return new mx(this.l,this.j)},vx.prototype.i=(lx={},function(){return lx}),Tk(mx,Ew);var gx=0;function yx(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function bx(e){e.readyState=4,e.l=null,e.j=null,e.A=null,kx(e)}function kx(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(pk=mx.prototype).open=function(e,t){if(this.readyState!=gx)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,kx(this)},pk.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||bk).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},pk.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,bx(this)),this.readyState=gx},pk.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,kx(this)),this.g&&(this.readyState=3,kx(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof bk.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yx(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},pk.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?bx(this):kx(this),3==this.readyState&&yx(this)}},pk.Za=function(e){this.g&&(this.response=this.responseText=e,bx(this))},pk.Ya=function(e){this.g&&(this.response=e,bx(this))},pk.ka=function(){this.g&&bx(this)},pk.setRequestHeader=function(e,t){this.v.append(e,t)},pk.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},pk.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(mx.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var wx=bk.JSON.parse;function _x(e){Ew.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=xx,this.L=this.M=!1}Tk(_x,Ew);var xx="",Ex=/^https?$/i,Sx=["POST","PUT"];function Ix(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Cx(e),Nx(e)}function Cx(e){e.F||(e.F=!0,Sw(e,"complete"),Sw(e,"error"))}function Tx(e){if(e.h&&"undefined"!=typeof yk&&(!e.C[1]||4!=Rx(e)||2!=e.da()))if(e.v&&4==Rx(e))Vw(e.La,0,e);else if(Sw(e,"readystatechange"),4==Rx(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(O_)[1]||null;!a&&bk.self&&bk.self.location&&(a=bk.self.location.protocol.slice(0,-1)),i=!Ex.test(a?a.toLowerCase():"")}t=i}if(t)Sw(e,"complete"),Sw(e,"success");else{e.m=6;try{var o=2<Rx(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",Cx(e)}}finally{Nx(e)}}}function Nx(e,t){if(e.g){Px(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||Sw(e,"ready");try{n.onreadystatechange=r}catch(c$){}}}function Px(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(bk.clearTimeout(e.A),e.A=null)}function Rx(e){return e.g?e.g.readyState:0}function Ax(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case xx:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Dd){return null}}function Ox(e){var t="";return aw(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Dx(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ox(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):U_(e,t,n))}function Lx(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Mx(e){this.Ga=0,this.j=[],this.l=new Yw,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Lx("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Lx("baseRetryDelayMs",5e3,e),this.hb=Lx("retryDelaySeedMs",1e4,e),this.eb=Lx("forwardChannelMaxRetries",2,e),this.xa=Lx("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new nx(e&&e.concurrentRequestLimit),this.Ja=new fx,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Fx(e){if(Ux(e),3==e.H){var t=e.W++,n=L_(e.I);if(U_(n,"SID",e.K),U_(n,"RID",t),U_(n,"TYPE","terminate"),Vx(e,n),(t=new m_(e,e.l,t)).L=2,t.v=q_(L_(n)),n=!1,bk.navigator&&bk.navigator.sendBeacon)try{n=bk.navigator.sendBeacon(t.v.toString(),"")}catch(Td){}!n&&bk.Image&&((new Image).src=t.v,n=!0),n||(t.g=eE(t.l,null),t.g.ha(t.v)),t.G=Date.now(),I_(t)}$x(e)}function jx(e){e.g&&(Gx(e),e.g.cancel(),e.g=null)}function Ux(e){jx(e),e.u&&(bk.clearTimeout(e.u),e.u=null),Qx(e),e.i.cancel(),e.m&&("number"===typeof e.m&&bk.clearTimeout(e.m),e.m=null)}function qx(e){if(!ix(e.i)&&!e.m){e.m=!0;var t=e.Na;Lw||jw(),Mw||(Lw(),Mw=!0),Fw.add(t,e),e.C=0}}function zx(e,t){var n;n=t?t.m:e.W++;var r=L_(e.I);U_(r,"SID",e.K),U_(r,"RID",n),U_(r,"AID",e.V),Vx(e,r),e.o&&e.s&&Dx(r,e.o,e.s),n=new m_(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Bx(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),sx(e.i,n),w_(n,r,t)}function Vx(e,t){e.na&&aw(e.na,(function(e,n){U_(t,n,e)})),e.h&&A_({},(function(e,n){U_(t,n,e)}))}function Bx(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ik(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].g,l=i[u].map;if(0>(c-=a))a=Math.max(0,i[u].g-100),s=!1;else try{dx(l,o,"req"+c+"_")}catch(h){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function Wx(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Lw||jw(),Mw||(Lw(),Mw=!0),Fw.add(t,e),e.A=0}}function Hx(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=a_(Ik(e.Ma,e),Xx(e,e.A)),e.A++,!0)}function Gx(e){null!=e.B&&(bk.clearTimeout(e.B),e.B=null)}function Kx(e){e.g=new m_(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=L_(e.wa);U_(t,"RID","rpc"),U_(t,"SID",e.K),U_(t,"AID",e.V),U_(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&U_(t,"TO",e.qa),U_(t,"TYPE","xmlhttp"),Vx(e,t),e.o&&e.s&&Dx(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=q_(L_(t)),n.s=null,n.S=!0,__(n,e)}function Qx(e){null!=e.v&&(bk.clearTimeout(e.v),e.v=null)}function Yx(e,t){var n=null;if(e.g==t){Qx(e),Gx(e),e.g=null;var r=2}else{if(!ox(e.i,t))return;n=t.F,ux(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Sw(r=Zw(),new i_(r,n)),qx(e)}else Wx(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(ax(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=a_(Ik(e.Na,e,t),Xx(e,e.C)),e.C++,!0))}(e,t)||2==r&&Hx(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Jx(e,5);break;case 4:Jx(e,10);break;case 3:Jx(e,6);break;default:Jx(e,2)}}function Xx(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Jx(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Ik(e.pb,e);n||(n=new D_("//www.google.com/images/cleardot.gif"),bk.location&&"http"==bk.location.protocol||M_(n,"https"),q_(n)),function(e,t){var n=new Yw;if(bk.Image){var r=new Image;r.onload=Ck(px,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ck(px,n,r,"TestLoadImage: error",!1,t),r.onabort=Ck(px,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ck(px,n,r,"TestLoadImage: timeout",!1,t),bk.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else r_(2);e.H=0,e.h&&e.h.za(t),$x(e),Ux(e)}function $x(e){if(e.H=0,e.ma=[],e.h){var t=cx(e.i);0==t.length&&0==e.j.length||(Ak(e.ma,t),Ak(e.ma,e.j),e.i.i.length=0,Rk(e.j),e.j.length=0),e.h.ya()}}function Zx(e,t,n){var r=n instanceof D_?L_(n):new D_(n);if(""!=r.g)t&&(r.g=t+"."+r.g),F_(r,r.m);else{var i=bk.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new D_(null);r&&M_(a,r),t&&(a.g=t),i&&F_(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&U_(r,n,t),U_(r,"VER",e.ra),Vx(e,r),r}function eE(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new _x(new vx({ob:!0})):new _x(e.va)).Oa(e.J),t}function tE(){}function nE(){if(Vk&&!(10<=Number($k)))throw Error("Environmental error: no available transport.")}function rE(e,t){Ew.call(this),this.g=new Mx(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Lk(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Lk(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new oE(this)}function iE(e){d_.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function aE(){p_.call(this),this.status=1}function oE(e){this.g=e}function sE(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function uE(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function cE(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(pk=_x.prototype).Oa=function(e){this.M=e},pk.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():h_.g(),this.C=this.u?c_(this.u):c_(h_),this.g.onreadystatechange=Ik(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Ix(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=hr(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=bk.FormData&&e instanceof bk.FormData,!(0<=Pk(Sx,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,c=hr(n);try{for(c.s();!(u=c.n()).done;){var l=ir(u.value,2),h=l[0],f=l[1];this.g.setRequestHeader(h,f)}}catch(d){c.e(d)}finally{c.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Px(this),0<this.B&&((this.L=function(e){return Vk&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ik(this.ua,this)):this.A=Vw(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Ix(this,s)}},pk.ua=function(){"undefined"!=typeof yk&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Sw(this,"timeout"),this.abort(8))},pk.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Sw(this,"complete"),Sw(this,"abort"),Nx(this))},pk.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Nx(this,!0)),_x.$.N.call(this)},pk.La=function(){this.s||(this.G||this.v||this.l?Tx(this):this.kb())},pk.kb=function(){Tx(this)},pk.isActive=function(){return!!this.g},pk.da=function(){try{return 2<Rx(this)?this.g.status:-1}catch(lx){return-1}},pk.ja=function(){try{return this.g?this.g.responseText:""}catch(lx){return""}},pk.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),wx(t)}},pk.Ia=function(){return this.m},pk.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(pk=Mx.prototype).ra=8,pk.H=1,pk.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new m_(this,this.l,e),n=this.s;if(this.U&&(n?uw(n=ow(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Bx(this,t,r),U_(i=L_(this.I),"RID",e),U_(i,"CVER",22),this.F&&U_(i,"X-HTTP-Session-Id",this.F),Vx(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(Ox(n)))+"&"+r:this.o&&Dx(i,this.o,n)),sx(this.i,t),this.bb&&U_(i,"TYPE","init"),this.P?(U_(i,"$req",r),U_(i,"SID","null"),t.aa=!0,w_(t,i,null)):w_(t,i,r),this.H=2}}else 3==this.H&&(e?zx(this,e):0==this.j.length||ix(this.i)||zx(this))},pk.Ma=function(){if(this.u=null,Kx(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=a_(Ik(this.jb,this),e)}},pk.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,r_(10),jx(this),Kx(this))},pk.ib=function(){null!=this.v&&(this.v=null,jx(this),Hx(this),r_(19))},pk.pb=function(e){e?(this.l.info("Successfully pinged google.com"),r_(2)):(this.l.info("Failed to ping google.com"),r_(1))},pk.isActive=function(){return!!this.h&&this.h.isActive(this)},(pk=tE.prototype).Ba=function(){},pk.Aa=function(){},pk.za=function(){},pk.ya=function(){},pk.isActive=function(){return!0},pk.Va=function(){},nE.prototype.g=function(e,t){return new rE(e,t)},Tk(rE,Ew),rE.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;r_(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Zx(e,null,e.Y),qx(e)},rE.prototype.close=function(){Fx(this.g)},rE.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Cw(e),e=n);t.j.push(new tx(t.fb++,e)),3==t.H&&qx(t)},rE.prototype.N=function(){this.g.h=null,delete this.j,Fx(this.g),delete this.g,rE.$.N.call(this)},Tk(iE,d_),Tk(aE,p_),Tk(oE,tE),oE.prototype.Ba=function(){Sw(this.g,"a")},oE.prototype.Aa=function(e){Sw(this.g,new iE(e))},oE.prototype.za=function(e){Sw(this.g,new aE)},oE.prototype.ya=function(){Sw(this.g,"b")},Tk(sE,(function(){this.blockSize=-1})),sE.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},sE.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)uE(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){uE(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){uE(this,r),i=0;break}}this.h=i,this.i+=t},sE.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var lE={};function hE(e){return-128<=e&&128>e?function(e,t){var n=lE;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new cE([0|e],0>e?-1:0)})):new cE([0|e],0>e?-1:0)}function fE(e){if(isNaN(e)||!isFinite(e))return pE;if(0>e)return bE(fE(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=dE;return new cE(t,0)}var dE=4294967296,pE=hE(0),vE=hE(1),mE=hE(16777216);function gE(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function yE(e){return-1==e.h}function bE(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new cE(n,~e.h).add(vE)}function kE(e,t){return e.add(bE(t))}function wE(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function _E(e,t){this.g=e,this.h=t}function xE(e,t){if(gE(t))throw Error("division by zero");if(gE(e))return new _E(pE,pE);if(yE(e))return t=xE(bE(e),t),new _E(bE(t.g),bE(t.h));if(yE(t))return t=xE(e,bE(t)),new _E(bE(t.g),t.h);if(30<e.g.length){if(yE(e)||yE(t))throw Error("slowDivide_ only works with positive integers.");for(var n=vE,r=t;0>=r.X(e);)n=EE(n),r=EE(r);var i=SE(n,1),a=SE(r,1);for(r=SE(r,2),n=SE(n,2);!gE(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=SE(r,1),n=SE(n,1)}return t=kE(e,i.R(t)),new _E(i,t)}for(i=pE;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=fE(n)).R(t);yE(o)||0<o.X(e);)o=(a=fE(n-=r)).R(t);gE(a)&&(a=vE),i=i.add(a),e=kE(e,o)}return new _E(i,e)}function EE(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new cE(n,e.h)}function SE(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new cE(i,e.h)}(pk=cE.prototype).ea=function(){if(yE(this))return-bE(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:dE+r)*t,t*=dE}return e},pk.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(gE(this))return"0";if(yE(this))return"-"+bE(this).toString(e);for(var t=fE(Math.pow(e,6)),n=this,r="";;){var i=xE(n,t).g,a=((0<(n=kE(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(gE(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},pk.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},pk.X=function(e){return yE(e=kE(this,e))?-1:gE(e)?0:1},pk.abs=function(){return yE(this)?bE(this):this},pk.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new cE(n,-2147483648&n[n.length-1]?-1:0)},pk.R=function(e){if(gE(this)||gE(e))return pE;if(yE(this))return yE(e)?bE(this).R(bE(e)):bE(bE(this).R(e));if(yE(e))return bE(this.R(bE(e)));if(0>this.X(mE)&&0>e.X(mE))return fE(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,wE(n,2*r+2*i),n[2*r+2*i+1]+=a*u,wE(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,wE(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,wE(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new cE(n,0)},pk.gb=function(e){return xE(this,e).h},pk.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new cE(n,this.h&e.h)},pk.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new cE(n,this.h|e.h)},pk.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new cE(n,this.h^e.h)},nE.prototype.createWebChannel=nE.prototype.g,rE.prototype.send=rE.prototype.u,rE.prototype.open=rE.prototype.m,rE.prototype.close=rE.prototype.close,o_.NO_ERROR=0,o_.TIMEOUT=8,o_.HTTP_ERROR=6,s_.COMPLETE="complete",l_.EventType=f_,f_.OPEN="a",f_.CLOSE="b",f_.ERROR="c",f_.MESSAGE="d",Ew.prototype.listen=Ew.prototype.O,_x.prototype.listenOnce=_x.prototype.P,_x.prototype.getLastError=_x.prototype.Sa,_x.prototype.getLastErrorCode=_x.prototype.Ia,_x.prototype.getStatus=_x.prototype.da,_x.prototype.getResponseJson=_x.prototype.Wa,_x.prototype.getResponseText=_x.prototype.ja,_x.prototype.send=_x.prototype.ha,_x.prototype.setWithCredentials=_x.prototype.Oa,sE.prototype.digest=sE.prototype.l,sE.prototype.reset=sE.prototype.reset,sE.prototype.update=sE.prototype.j,cE.prototype.add=cE.prototype.add,cE.prototype.multiply=cE.prototype.R,cE.prototype.modulo=cE.prototype.gb,cE.prototype.compare=cE.prototype.X,cE.prototype.toNumber=cE.prototype.ea,cE.prototype.toString=cE.prototype.toString,cE.prototype.getBits=cE.prototype.D,cE.fromNumber=fE,cE.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return bE(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=fE(Math.pow(n,8)),i=pE,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=fE(Math.pow(n,o)),i=i.R(o).add(fE(s))):i=(i=i.R(r)).add(fE(s))}return i};var IE=gk.createWebChannelTransport=function(){return new nE},CE=gk.getStatEventTarget=function(){return Zw()},TE=gk.ErrorCode=o_,NE=gk.EventType=s_,PE=gk.Event=Jw,RE=gk.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},AE=gk.FetchXmlHttpFactory=vx,OE=gk.WebChannel=l_,DE=gk.XhrIo=_x,LE=gk.Md5=sE,ME=gk.Integer=cE,FE="@firebase/firestore",jE=function(){function e(t){ur(this,e),this.uid=t}return lr(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();jE.UNAUTHENTICATED=new jE(null),jE.GOOGLE_CREDENTIALS=new jE("google-credentials-uid"),jE.FIRST_PARTY=new jE("first-party-uid"),jE.MOCK_USER=new jE("mock-user");var UE="9.23.0",qE=new Ai("@firebase/firestore");function zE(){return qE.logLevel}function VE(e){if(qE.logLevel<=Si.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(HE);qE.debug.apply(qE,["Firestore (".concat(UE,"): ").concat(e)].concat(yi(i)))}}function BE(e){if(qE.logLevel<=Si.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(HE);qE.error.apply(qE,["Firestore (".concat(UE,"): ").concat(e)].concat(yi(i)))}}function WE(e){if(qE.logLevel<=Si.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(HE);qE.warn.apply(qE,["Firestore (".concat(UE,"): ").concat(e)].concat(yi(i)))}}function HE(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function GE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(UE,") INTERNAL ASSERTION FAILED: ")+e;throw BE(t),new Error(t)}function KE(e,t){e||GE()}function QE(e,t){return e}var YE={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},XE=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return lr(n)}(Hr),JE=lr((function e(){var t=this;ur(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),$E=lr((function e(t,n){ur(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),ZE=function(){function e(){ur(this,e)}return lr(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(jE.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),eS=function(){function e(t){ur(this,e),this.token=t,this.changeListener=null}return lr(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),tS=function(){function e(t){ur(this,e),this.t=t,this.currentUser=jE.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return lr(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new JE;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new JE,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(ki(mi().mark((function e(){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){VE("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(VE("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new JE)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(VE("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(KE("string"==typeof n.accessToken),new $E(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return KE(null===e||"string"==typeof e),new jE(e)}}]),e}(),nS=function(){function e(t,n,r){ur(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=jE.FIRST_PARTY,this.g=new Map}return lr(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),rS=function(){function e(t,n,r){ur(this,e),this.h=t,this.l=n,this.m=r}return lr(e,[{key:"getToken",value:function(){return Promise.resolve(new nS(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(jE.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),iS=lr((function e(t){ur(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),aS=function(){function e(t){ur(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return lr(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&VE("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,VE("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){VE("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):VE("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(KE("string"==typeof t.token),e.T=t.token,new iS(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function oS(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var sS=function(){function e(){ur(this,e)}return lr(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=oS(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function uS(e,t){return e<t?-1:e>t?1:0}function cS(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function lS(e){return e+"\0"}var hS=function(){function e(t,n){if(ur(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new XE(YE.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new XE(YE.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new XE(YE.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new XE(YE.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return lr(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?uS(this.nanoseconds,e.nanoseconds):uS(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),fS=function(){function e(t){ur(this,e),this.timestamp=t}return lr(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new hS(0,0))}},{key:"max",value:function(){return new e(new hS(253402300799,999999999))}}]),e}(),dS=function(){function e(t,n,r){ur(this,e),void 0===n?n=0:n>t.length&&GE(),void 0===r?r=t.length-n:r>t.length-n&&GE(),this.segments=t,this.offset=n,this.len=r}return lr(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),pS=function(e){pr(n,e);var t=gr(n);function n(){return ur(this,n),t.apply(this,arguments)}return lr(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new XE(YE.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,yi(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(dS),vS=/^[_a-zA-Z][_a-zA-Z0-9]*$/,mS=function(e){pr(n,e);var t=gr(n);function n(){return ur(this,n),t.apply(this,arguments)}return lr(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return vS.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new XE(YE.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new XE(YE.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new XE(YE.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new XE(YE.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(dS),gS=function(){function e(t){ur(this,e),this.path=t}return lr(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===pS.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(pS.fromString(t))}},{key:"fromName",value:function(t){return new e(pS.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(pS.emptyPath())}},{key:"comparator",value:function(e,t){return pS.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new pS(t.slice()))}}]),e}(),yS=lr((function e(t,n,r,i){ur(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function bS(e){return e.fields.find((function(e){return 2===e.kind}))}function kS(e){return e.fields.filter((function(e){return 2!==e.kind}))}yS.UNKNOWN_ID=-1;var wS=lr((function e(t,n){ur(this,e),this.fieldPath=t,this.kind=n}));var _S=function(){function e(t,n){ur(this,e),this.sequenceNumber=t,this.offset=n}return lr(e,null,[{key:"empty",value:function(){return new e(0,SS.min())}}]),e}();function xS(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=fS.fromTimestamp(1e9===r?new hS(n+1,0):new hS(n,r));return new SS(i,gS.empty(),t)}function ES(e){return new SS(e.readTime,e.key,-1)}var SS=function(){function e(t,n,r){ur(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return lr(e,null,[{key:"min",value:function(){return new e(fS.min(),gS.empty(),-1)}},{key:"max",value:function(){return new e(fS.max(),gS.empty(),-1)}}]),e}();function IS(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=gS.comparator(e.documentKey,t.documentKey))?n:uS(e.largestBatchId,t.largestBatchId)}var CS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",TS=function(){function e(){ur(this,e),this.onCommittedListeners=[]}return lr(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function NS(e){return PS.apply(this,arguments)}function PS(){return PS=ki(mi().mark((function e(t){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===YE.FAILED_PRECONDITION&&t.message===CS){e.next=2;break}throw t;case 2:VE("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),PS.apply(this,arguments)}var RS=function(){function e(t){var n=this;ur(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return lr(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&GE(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=hr(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),AS=function(){function e(t,n){var r=this;ur(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.v=new JE,this.transaction.oncomplete=function(){r.v.resolve()},this.transaction.onabort=function(){n.error?r.v.reject(new LS(t,n.error)):r.v.resolve()},this.transaction.onerror=function(e){var n=qS(e.target.error);r.v.reject(new LS(t,n))}}return lr(e,[{key:"R",get:function(){return this.v.promise}},{key:"abort",value:function(e){e&&this.v.reject(e),this.aborted||(VE("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"P",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new FS(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new LS(n,t)}}}]),e}(),OS=function(){function e(t,n,r){ur(this,e),this.name=t,this.version=n,this.V=r,12.2===e.S(Fr())&&BE("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return lr(e,[{key:"$",value:function(){var e=ki(mi().mark((function e(t){var n=this;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return VE("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new LS(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new XE(YE.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new XE(YE.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new LS(t,n))},i.onupgradeneeded=function(e){VE("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.V.O(t,i.transaction,e.oldVersion,n.version).next((function(){VE("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.F&&(this.db.onversionchange=function(e){return n.F(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"B",value:function(e){this.F=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=ki(mi().mark((function e(t,n,r,i){var a,o,s,u,c=this;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,s=mi().mark((function e(){var n,s,u,l;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.$(t);case 4:return c.db=e.sent,n=AS.open(c.db,t,a?"readonly":"readwrite",r),s=i(n).next((function(e){return n.P(),e})).catch((function(e){return n.abort(e),RS.reject(e)})).toPromise(),s.catch((function(){})),e.next=9,n.R;case 9:return e.t0=s,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),u=e.t1,l="FirebaseError"!==u.name&&o<3,VE("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(u)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(s(),"t0",4);case 4:if(!(u=e.t0)){e.next=7;break}return e.abrupt("return",u.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return VE("SimpleDb","Removing database:",e),jS(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!Wr())return!1;if(e.C())return!0;var t=Fr(),n=e.S(t),r=0<n&&n<10,i=e.N(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/notebook",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDE-Cl5RxG1byLc4pjoBxD3aXWO3wi43P8",REACT_APP_FIREBASE_AUTH_DOMAIN:"diary-6211f.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"diary-6211f",REACT_APP_FIREBASE_STORAGE_BUCKET:"diary-6211f.appspot.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"765031385372",REACT_APP_FIREBASE_APP_ID:"1:765031385372:web:9b72a3164df87c4c9712d9",REACT_APP_FIREBASE_MEASUMENT_ID:"G-5VWBRJH7V4"})||void 0===e?void 0:e.k)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"N",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),DS=function(){function e(t){ur(this,e),this.L=t,this.q=!1,this.U=null}return lr(e,[{key:"isDone",get:function(){return this.q}},{key:"K",get:function(){return this.U}},{key:"cursor",set:function(e){this.L=e}},{key:"done",value:function(){this.q=!0}},{key:"G",value:function(e){this.U=e}},{key:"delete",value:function(){return jS(this.L.delete())}}]),e}(),LS=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this,YE.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return lr(n)}(XE);function MS(e){return"IndexedDbTransactionError"===e.name}var FS=function(){function e(t){ur(this,e),this.store=t}return lr(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(VE("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(VE("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),jS(n)}},{key:"add",value:function(e){return VE("SimpleDb","ADD",this.store.name,e,e),jS(this.store.add(e))}},{key:"get",value:function(e){var t=this;return jS(this.store.get(e)).next((function(n){return void 0===n&&(n=null),VE("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return VE("SimpleDb","DELETE",this.store.name,e),jS(this.store.delete(e))}},{key:"count",value:function(){return VE("SimpleDb","COUNT",this.store.name),jS(this.store.count())}},{key:"j",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.W(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new RS((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new RS((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){VE("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.W(r,(function(e,t,n){return n.delete()}))}},{key:"X",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.W(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new RS((function(n,r){t.onerror=function(e){var t=qS(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"W",value:function(e,t){var n=[];return new RS((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new DS(i),o=t(i.primaryKey,i.value,a);if(o instanceof RS){var s=o.catch((function(e){return a.done(),RS.reject(e)}));n.push(s)}a.isDone?r():null===a.K?i.continue():i.continue(a.K)}else r()}})).next((function(){return RS.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function jS(e){return new RS((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=qS(e.target.error);n(t)}}))}var US=!1;function qS(e){var t=OS.S(Fr());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new XE("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return US||(US=!0,setTimeout((function(){throw r}),0)),r}}return e}var zS=function(){function e(t,n){ur(this,e),this.asyncQueue=t,this.tt=n,this.task=null}return lr(e,[{key:"start",value:function(){this.et(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"et",value:function(e){var t=this;VE("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,ki(mi().mark((function e(){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=VE,e.t1="Documents written: ",e.next=6,t.tt.nt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!MS(e.t4)){e.next=17;break}VE("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,NS(e.t4);case 19:return e.next=21,t.et(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),VS=function(){function e(t,n){ur(this,e),this.localStore=t,this.persistence=n}return lr(e,[{key:"nt",value:function(){var e=ki(mi().mark((function e(){var t,n=this,r=arguments;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.st(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"st",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return RS.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return VE("IndexBackiller","Processing collection: ".concat(t)),n.it(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"it",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.rt(i,n)})).next((function(n){return VE("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"rt",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=ES(t);IS(r,n)>0&&(n=r)})),new SS(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),BS=function(){function e(t,n){var r=this;ur(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return lr(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function WS(e){return null==e}function HS(e){return 0===e&&1/e==-1/0}function GS(e){return"number"==typeof e&&Number.isInteger(e)&&!HS(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function KS(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=YS(t)),t=QS(e.get(n),t);return YS(t)}function QS(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function YS(e){return e+"\x01\x01"}function XS(e){var t=e.length;if(KE(t>=2),2===t)return KE("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),pS.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&GE(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:GE()}a=o+2}return new pS(r)}BS.ct=-1;var JS=["userId","batchId"];function $S(e,t){return[e,KS(t)]}function ZS(e,t,n){return[e,KS(t),n]}var eI={},tI=["prefixPath","collectionGroup","readTime","documentId"],nI=["prefixPath","collectionGroup","documentId"],rI=["collectionGroup","readTime","prefixPath","documentId"],iI=["canonicalId","targetId"],aI=["targetId","path"],oI=["path","targetId"],sI=["collectionId","parent"],uI=["indexId","uid"],cI=["uid","sequenceNumber"],lI=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],hI=["indexId","uid","orderedDocumentKey"],fI=["userId","collectionPath","documentId"],dI=["userId","collectionPath","largestBatchId"],pI=["userId","collectionGroup","largestBatchId"],vI=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),mI=[].concat(yi(vI),["documentOverlays"]),gI=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],yI=gI,bI=[].concat(yI,["indexConfiguration","indexState","indexEntries"]),kI=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this)).ht=e,i.currentSequenceNumber=r,i}return lr(n)}(TS);function wI(e,t){var n=QE(e);return OS.M(n.ht,t)}function _I(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function xI(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function EI(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var SI=function(){function e(t,n){ur(this,e),this.comparator=t,this.root=n||CI.EMPTY}return lr(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,CI.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,CI.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new II(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new II(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new II(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new II(this.root,e,this.comparator,!0)}}]),e}(),II=function(){function e(t,n,r,i){ur(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return lr(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),CI=function(){function e(t,n,r,i,a){ur(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return lr(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw GE();if(this.right.isRed())throw GE();var e=this.left.check();if(e!==this.right.check())throw GE();return e+(this.isRed()?0:1)}}]),e}();CI.EMPTY=null,CI.RED=!0,CI.BLACK=!1,CI.EMPTY=new(function(){function e(){ur(this,e),this.size=0}return lr(e,[{key:"key",get:function(){throw GE()}},{key:"value",get:function(){throw GE()}},{key:"color",get:function(){throw GE()}},{key:"left",get:function(){throw GE()}},{key:"right",get:function(){throw GE()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new CI(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var TI=function(){function e(t){ur(this,e),this.comparator=t,this.data=new SI(this.comparator)}return lr(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new NI(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new NI(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),NI=function(){function e(t){ur(this,e),this.iter=t}return lr(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function PI(e){return e.hasNext()?e.getNext():void 0}var RI=function(){function e(t){ur(this,e),this.fields=t,t.sort(mS.comparator)}return lr(e,[{key:"unionWith",value:function(t){var n,r=new TI(mS.comparator),i=hr(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=hr(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=hr(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return cS(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),AI=function(e){pr(n,e);var t=gr(n);function n(){var e;return ur(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return lr(n)}(br(Error));var OI=function(e){function t(e){ur(this,t),this.binaryString=e}return lr(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return uS(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new AI("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();OI.EMPTY_BYTE_STRING=new OI("");var DI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function LI(e){if(KE(!!e),"string"==typeof e){var t=0,n=DI.exec(e);if(KE(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:MI(e.seconds),nanos:MI(e.nanos)}}function MI(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function FI(e){return"string"==typeof e?OI.fromBase64String(e):OI.fromUint8Array(e)}function jI(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function UI(e){var t=e.mapValue.fields.__previous_value__;return jI(t)?UI(t):t}function qI(e){var t=LI(e.mapValue.fields.__local_write_time__.timestampValue);return new hS(t.seconds,t.nanos)}var zI=lr((function e(t,n,r,i,a,o,s,u,c){ur(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=c})),VI=function(){function e(t,n){ur(this,e),this.projectId=t,this.database=n||"(default)"}return lr(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),BI={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},WI={nullValue:"NULL_VALUE"};function HI(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?jI(e)?4:aC(e)?9007199254740991:10:GE()}function GI(e,t){if(e===t)return!0;var n=HI(e);if(n!==HI(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return qI(e).isEqual(qI(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=LI(e.timestampValue),r=LI(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return FI(e.bytesValue).isEqual(FI(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return MI(e.geoPointValue.latitude)===MI(t.geoPointValue.latitude)&&MI(e.geoPointValue.longitude)===MI(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return MI(e.integerValue)===MI(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=MI(e.doubleValue),r=MI(t.doubleValue);return n===r?HS(n)===HS(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return cS(e.arrayValue.values||[],t.arrayValue.values||[],GI);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(_I(n)!==_I(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!GI(n[i],r[i])))return!1;return!0}(e,t);default:return GE()}}function KI(e,t){return void 0!==(e.values||[]).find((function(e){return GI(e,t)}))}function QI(e,t){if(e===t)return 0;var n=HI(e),r=HI(t);if(n!==r)return uS(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return uS(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=MI(e.integerValue||e.doubleValue),r=MI(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return YI(e.timestampValue,t.timestampValue);case 4:return YI(qI(e),qI(t));case 5:return uS(e.stringValue,t.stringValue);case 6:return function(e,t){var n=FI(e),r=FI(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=uS(n[i],r[i]);if(0!==a)return a}return uS(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=uS(MI(e.latitude),MI(t.latitude));return 0!==n?n:uS(MI(e.longitude),MI(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=QI(n[i],r[i]);if(a)return a}return uS(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===BI.mapValue&&t===BI.mapValue)return 0;if(e===BI.mapValue)return 1;if(t===BI.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=uS(r[o],a[o]);if(0!==s)return s;var u=QI(n[r[o]],i[a[o]]);if(0!==u)return u}return uS(r.length,a.length)}(e.mapValue,t.mapValue);default:throw GE()}}function YI(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return uS(e,t);var n=LI(e),r=LI(t),i=uS(n.seconds,r.seconds);return 0!==i?i:uS(n.nanos,r.nanos)}function XI(e){return JI(e)}function JI(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=LI(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?FI(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,gS.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=hr(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=JI(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=hr(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(JI(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):GE();var t,n}function $I(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function ZI(e){return!!e&&"integerValue"in e}function eC(e){return!!e&&"arrayValue"in e}function tC(e){return!!e&&"nullValue"in e}function nC(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function rC(e){return!!e&&"mapValue"in e}function iC(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return xI(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=iC(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=iC(e.arrayValue.values[r]);return n}return Object.assign({},e)}function aC(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function oC(e){return"nullValue"in e?WI:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?$I(VI.empty(),gS.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:GE()}function sC(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?$I(VI.empty(),gS.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?BI:GE()}function uC(e,t){var n=QI(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function cC(e,t){var n=QI(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var lC=function(){function e(t){ur(this,e),this.value=t}return lr(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!rC(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=iC(t)}},{key:"setAll",value:function(e){var t=this,n=mS.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=iC(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());rC(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return GI(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];rC(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){xI(t,(function(t,n){return e[t]=n}));var r,i=hr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(iC(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function hC(e){var t=[];return xI(e.fields,(function(e,n){var r=new mS([e]);if(rC(n)){var i=hC(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=hr(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new RI(t)}var fC=function(){function e(t,n,r,i,a,o,s){ur(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return lr(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(fS.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=lC.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=lC.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=fS.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,fS.min(),fS.min(),fS.min(),lC.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,fS.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,fS.min(),fS.min(),lC.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,fS.min(),fS.min(),lC.empty(),2)}}]),e}(),dC=lr((function e(t,n){ur(this,e),this.position=t,this.inclusive=n}));function pC(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?gS.comparator(gS.fromName(o.referenceValue),n.key):QI(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function vC(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!GI(e.position[n],t.position[n]))return!1;return!0}var mC=lr((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";ur(this,e),this.field=t,this.dir=n}));function gC(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var yC=lr((function e(){ur(this,e)})),bC=function(e){pr(n,e);var t=gr(n);function n(e,r,i){var a;return ur(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return lr(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(QI(t,this.value)):null!==t&&HI(this.value)===HI(t)&&this.matchesComparison(QI(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return GE()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new NC(e,t,r):"array-contains"===t?new OC(e,r):"in"===t?new DC(e,r):"not-in"===t?new LC(e,r):"array-contains-any"===t?new MC(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new PC(e,n):new RC(e,n)}}]),n}(yC),kC=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this)).filters=e,i.op=r,i.lt=null,i}return lr(n,[{key:"matches",value:function(e){return wC(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.lt||(this.lt=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.lt}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.ft((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"ft",value:function(e){var t,n=hr(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(yC);function wC(e){return"and"===e.op}function _C(e){return"or"===e.op}function xC(e){return EC(e)&&wC(e)}function EC(e){var t,n=hr(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof kC)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function SC(e){if(e instanceof bC)return e.field.canonicalString()+e.op.toString()+XI(e.value);if(xC(e))return e.filters.map((function(e){return SC(e)})).join(",");var t=e.filters.map((function(e){return SC(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function IC(e,t){return e instanceof bC?function(e,t){return t instanceof bC&&e.op===t.op&&e.field.isEqual(t.field)&&GI(e.value,t.value)}(e,t):e instanceof kC?function(e,t){return t instanceof kC&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&IC(n,t.filters[r])}),!0)}(e,t):void GE()}function CC(e,t){var n=e.filters.concat(t);return kC.create(n,e.op)}function TC(e){return e instanceof bC?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(XI(e.value))}(e):e instanceof kC?function(e){return e.op.toString()+" {"+e.getFilters().map(TC).join(" ,")+"}"}(e):"Filter"}var NC=function(e){pr(n,e);var t=gr(n);function n(e,r,i){var a;return ur(this,n),(a=t.call(this,e,r,i)).key=gS.fromName(i.referenceValue),a}return lr(n,[{key:"matches",value:function(e){var t=gS.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(bC),PC=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this,e,"in",r)).keys=AC("in",r),i}return lr(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(bC),RC=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this,e,"not-in",r)).keys=AC("not-in",r),i}return lr(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(bC);function AC(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return gS.fromName(e.referenceValue)}))}var OC=function(e){pr(n,e);var t=gr(n);function n(e,r){return ur(this,n),t.call(this,e,"array-contains",r)}return lr(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return eC(t)&&KI(t.arrayValue,this.value)}}]),n}(bC),DC=function(e){pr(n,e);var t=gr(n);function n(e,r){return ur(this,n),t.call(this,e,"in",r)}return lr(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&KI(this.value.arrayValue,t)}}]),n}(bC),LC=function(e){pr(n,e);var t=gr(n);function n(e,r){return ur(this,n),t.call(this,e,"not-in",r)}return lr(n,[{key:"matches",value:function(e){if(KI(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!KI(this.value.arrayValue,t)}}]),n}(bC),MC=function(e){pr(n,e);var t=gr(n);function n(e,r){return ur(this,n),t.call(this,e,"array-contains-any",r)}return lr(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!eC(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return KI(t.value.arrayValue,e)}))}}]),n}(bC),FC=lr((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;ur(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.dt=null}));function jC(e){return new FC(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function UC(e){var t=QE(e);if(null===t.dt){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return SC(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),WS(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return XI(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return XI(e)})).join(",")),t.dt=n}return t.dt}function qC(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!gC(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!IC(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!vC(e.startAt,t.startAt)&&vC(e.endAt,t.endAt)}function zC(e){return gS.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function VC(e,t){return e.filters.filter((function(e){return e instanceof bC&&e.field.isEqual(t)}))}function BC(e,t,n){var r,i=WI,a=!0,o=hr(VC(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=WI,c=!0;switch(s.op){case"<":case"<=":u=oC(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=WI}uC({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(f){o.e(f)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var h=n.position[l];uC({value:i,inclusive:a},{value:h,inclusive:n.inclusive})<0&&(i=h,a=n.inclusive);break}return{value:i,inclusive:a}}function WC(e,t,n){var r,i=BI,a=!0,o=hr(VC(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=BI,c=!0;switch(s.op){case">=":case">":u=sC(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=BI}cC({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(f){o.e(f)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var h=n.position[l];cC({value:i,inclusive:a},{value:h,inclusive:n.inclusive})>0&&(i=h,a=n.inclusive);break}return{value:i,inclusive:a}}var HC=lr((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;ur(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.wt=null,this._t=null,this.startAt,this.endAt}));function GC(e,t,n,r,i,a,o,s){return new HC(e,t,n,r,i,a,o,s)}function KC(e){return new HC(e)}function QC(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function YC(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function XC(e){var t,n=hr(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function JC(e){return null!==e.collectionGroup}function $C(e){var t=QE(e);if(null===t.wt){t.wt=[];var n=XC(t),r=YC(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new mC(n)),t.wt.push(new mC(mS.keyField(),"asc"));else{var i,a=!1,o=hr(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.wt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new mC(mS.keyField(),u))}}}return t.wt}function ZC(e){var t=QE(e);if(!t._t)if("F"===t.limitType)t._t=jC(t.path,t.collectionGroup,$C(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=hr($C(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new mC(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new dC(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new dC(t.startAt.position,t.startAt.inclusive):null;t._t=jC(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t._t}function eT(e,t){t.getFirstInequalityField(),XC(e);var n=e.filters.concat([t]);return new HC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function tT(e,t,n){return new HC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function nT(e,t){return qC(ZC(e),ZC(t))&&e.limitType===t.limitType}function rT(e){return"".concat(UC(ZC(e)),"|lt:").concat(e.limitType)}function iT(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return TC(e)})).join(", "),"]")),WS(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return XI(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return XI(e)})).join(",")),"Target(".concat(t,")")}(ZC(e)),"; limitType=").concat(e.limitType,")")}function aT(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):gS.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=hr($C(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=hr(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=pC(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,$C(e),t))&&!(e.endAt&&!function(e,t,n){var r=pC(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,$C(e),t))}(e,t)}function oT(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function sT(e){return function(t,n){var r,i=!1,a=hr($C(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=uT(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function uT(e,t,n){var r=e.field.isKeyField()?gS.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?QI(r,i):GE()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return GE()}}var cT=function(){function e(t,n){ur(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return lr(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=hr(n);try{for(i.s();!(r=i.n()).done;){var a=ir(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){xI(this.inner,(function(t,n){var r,i=hr(n);try{for(i.s();!(r=i.n()).done;){var a=ir(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return EI(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),lT=new SI(gS.comparator);function hT(){return lT}var fT=new SI(gS.comparator);function dT(){for(var e=fT,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function pT(e){var t=fT;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function vT(){return gT()}function mT(){return gT()}function gT(){return new cT((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var yT=new SI(gS.comparator),bT=new TI(gS.comparator);function kT(){for(var e=bT,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var wT=new TI(uS);function _T(){return wT}function xT(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:HS(t)?"-0":t}}function ET(e){return{integerValue:""+e}}function ST(e,t){return GS(t)?ET(t):xT(e,t)}var IT=lr((function e(){ur(this,e),this._=void 0}));function CT(e,t,n){return e instanceof PT?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&jI(t)&&(t=UI(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof RT?AT(e,t):e instanceof OT?DT(e,t):function(e,t){var n=NT(e,t),r=MT(n)+MT(e.gt);return ZI(n)&&ZI(e.gt)?ET(r):xT(e.serializer,r)}(e,t)}function TT(e,t,n){return e instanceof RT?AT(e,t):e instanceof OT?DT(e,t):n}function NT(e,t){return e instanceof LT?ZI(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var PT=function(e){pr(n,e);var t=gr(n);function n(){return ur(this,n),t.apply(this,arguments)}return lr(n)}(IT),RT=function(e){pr(n,e);var t=gr(n);function n(e){var r;return ur(this,n),(r=t.call(this)).elements=e,r}return lr(n)}(IT);function AT(e,t){var n,r=FT(t),i=hr(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return GI(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var OT=function(e){pr(n,e);var t=gr(n);function n(e){var r;return ur(this,n),(r=t.call(this)).elements=e,r}return lr(n)}(IT);function DT(e,t){var n,r=FT(t),i=hr(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!GI(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var LT=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this)).serializer=e,i.gt=r,i}return lr(n)}(IT);function MT(e){return MI(e.integerValue||e.doubleValue)}function FT(e){return eC(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var jT=lr((function e(t,n){ur(this,e),this.field=t,this.transform=n}));var UT=lr((function e(t,n){ur(this,e),this.version=t,this.transformResults=n})),qT=function(){function e(t,n){ur(this,e),this.updateTime=t,this.exists=n}return lr(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function zT(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var VT=lr((function e(){ur(this,e)}));function BT(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new tN(e.key,qT.none()):new QT(e.key,e.data,qT.none());var n,r=e.data,i=lC.empty(),a=new TI(mS.comparator),o=hr(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new YT(e.key,i,new RI(a.toArray()),qT.none())}function WT(e,t,n){e instanceof QT?function(e,t,n){var r=e.value.clone(),i=JT(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof YT?function(e,t,n){if(zT(e.precondition,t)){var r=JT(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(XT(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function HT(e,t,n,r){return e instanceof QT?function(e,t,n,r){if(!zT(e.precondition,t))return n;var i=e.value.clone(),a=$T(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof YT?function(e,t,n,r){if(!zT(e.precondition,t))return n;var i=$T(e.fieldTransforms,r,t),a=t.data;return a.setAll(XT(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return zT(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function GT(e,t){var n,r=null,i=hr(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=NT(a.transform,o||null);null!=s&&(null===r&&(r=lC.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function KT(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&cS(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof RT&&t instanceof RT||e instanceof OT&&t instanceof OT?cS(e.elements,t.elements,GI):e instanceof LT&&t instanceof LT?GI(e.gt,t.gt):e instanceof PT&&t instanceof PT}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var QT=function(e){pr(n,e);var t=gr(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return ur(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return lr(n,[{key:"getFieldMask",value:function(){return null}}]),n}(VT),YT=function(e){pr(n,e);var t=gr(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return ur(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return lr(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(VT);function XT(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function JT(e,t,n){var r=new Map;KE(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,TT(o,s,n[i]))}return r}function $T(e,t,n){var r,i=new Map,a=hr(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,CT(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var ZT,eN,tN=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return lr(n,[{key:"getFieldMask",value:function(){return null}}]),n}(VT),nN=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return lr(n,[{key:"getFieldMask",value:function(){return null}}]),n}(VT),rN=function(){function e(t,n,r,i){ur(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return lr(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&WT(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=hr(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=HT(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=hr(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=HT(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=mT();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=BT(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(fS.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),kT())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&cS(this.mutations,e.mutations,(function(e,t){return KT(e,t)}))&&cS(this.baseMutations,e.baseMutations,(function(e,t){return KT(e,t)}))}}]),e}(),iN=function(){function e(t,n,r,i){ur(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return lr(e,null,[{key:"from",value:function(t,n,r){KE(t.mutations.length===r.length);for(var i=yT,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),aN=function(){function e(t,n){ur(this,e),this.largestBatchId=t,this.mutation=n}return lr(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),oN=lr((function e(t,n){ur(this,e),this.count=t,this.unchangedNames=n}));function sN(e){switch(e){default:return GE();case YE.CANCELLED:case YE.UNKNOWN:case YE.DEADLINE_EXCEEDED:case YE.RESOURCE_EXHAUSTED:case YE.INTERNAL:case YE.UNAVAILABLE:case YE.UNAUTHENTICATED:return!1;case YE.INVALID_ARGUMENT:case YE.NOT_FOUND:case YE.ALREADY_EXISTS:case YE.PERMISSION_DENIED:case YE.FAILED_PRECONDITION:case YE.ABORTED:case YE.OUT_OF_RANGE:case YE.UNIMPLEMENTED:case YE.DATA_LOSS:return!0}}function uN(e){if(void 0===e)return BE("GRPC error has no .code"),YE.UNKNOWN;switch(e){case ZT.OK:return YE.OK;case ZT.CANCELLED:return YE.CANCELLED;case ZT.UNKNOWN:return YE.UNKNOWN;case ZT.DEADLINE_EXCEEDED:return YE.DEADLINE_EXCEEDED;case ZT.RESOURCE_EXHAUSTED:return YE.RESOURCE_EXHAUSTED;case ZT.INTERNAL:return YE.INTERNAL;case ZT.UNAVAILABLE:return YE.UNAVAILABLE;case ZT.UNAUTHENTICATED:return YE.UNAUTHENTICATED;case ZT.INVALID_ARGUMENT:return YE.INVALID_ARGUMENT;case ZT.NOT_FOUND:return YE.NOT_FOUND;case ZT.ALREADY_EXISTS:return YE.ALREADY_EXISTS;case ZT.PERMISSION_DENIED:return YE.PERMISSION_DENIED;case ZT.FAILED_PRECONDITION:return YE.FAILED_PRECONDITION;case ZT.ABORTED:return YE.ABORTED;case ZT.OUT_OF_RANGE:return YE.OUT_OF_RANGE;case ZT.UNIMPLEMENTED:return YE.UNIMPLEMENTED;case ZT.DATA_LOSS:return YE.DATA_LOSS;default:return GE()}}(eN=ZT||(ZT={}))[eN.OK=0]="OK",eN[eN.CANCELLED=1]="CANCELLED",eN[eN.UNKNOWN=2]="UNKNOWN",eN[eN.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",eN[eN.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",eN[eN.NOT_FOUND=5]="NOT_FOUND",eN[eN.ALREADY_EXISTS=6]="ALREADY_EXISTS",eN[eN.PERMISSION_DENIED=7]="PERMISSION_DENIED",eN[eN.UNAUTHENTICATED=16]="UNAUTHENTICATED",eN[eN.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",eN[eN.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",eN[eN.ABORTED=10]="ABORTED",eN[eN.OUT_OF_RANGE=11]="OUT_OF_RANGE",eN[eN.UNIMPLEMENTED=12]="UNIMPLEMENTED",eN[eN.INTERNAL=13]="INTERNAL",eN[eN.UNAVAILABLE=14]="UNAVAILABLE",eN[eN.DATA_LOSS=15]="DATA_LOSS";var cN=function(){function e(){ur(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return lr(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return lN}},{key:"getOrCreateInstance",value:function(){return null===lN&&(lN=new e),lN}}]),e}(),lN=null;function hN(){return new TextEncoder}var fN=new ME([4294967295,4294967295],0);function dN(e){var t=hN().encode(e),n=new LE;return n.update(t),new Uint8Array(n.digest())}function pN(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new ME([n,r],0),new ME([i,a],0)]}var vN=function(){function e(t,n,r){if(ur(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new mN("Invalid padding: ".concat(n));if(r<0)throw new mN("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new mN("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new mN("Invalid padding when bitmap length is 0: ".concat(n));this.It=8*t.length-n,this.Tt=ME.fromNumber(this.It)}return lr(e,[{key:"Et",value:function(e,t,n){var r=e.add(t.multiply(ME.fromNumber(n)));return 1===r.compare(fN)&&(r=new ME([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}},{key:"At",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"vt",value:function(e){if(0===this.It)return!1;for(var t=ir(pN(dN(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);if(!this.At(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.It)for(var t=ir(pN(dN(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);this.Rt(a)}}},{key:"Rt",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),mN=function(e){pr(n,e);var t=gr(n);function n(){var e;return ur(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return lr(n)}(br(Error)),gN=function(){function e(t,n,r,i,a){ur(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return lr(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,yN.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(fS.min(),i,new SI(uS),hT(),kT())}}]),e}(),yN=function(){function e(t,n,r,i,a){ur(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return lr(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,kT(),kT(),kT())}}]),e}(),bN=lr((function e(t,n,r,i){ur(this,e),this.Pt=t,this.removedTargetIds=n,this.key=r,this.bt=i})),kN=lr((function e(t,n){ur(this,e),this.targetId=t,this.Vt=n})),wN=lr((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:OI.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;ur(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),_N=function(){function e(){ur(this,e),this.St=0,this.Dt=SN(),this.Ct=OI.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}return lr(e,[{key:"current",get:function(){return this.xt}},{key:"resumeToken",get:function(){return this.Ct}},{key:"kt",get:function(){return 0!==this.St}},{key:"Mt",get:function(){return this.Nt}},{key:"$t",value:function(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}},{key:"Ot",value:function(){var e=kT(),t=kT(),n=kT();return this.Dt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:GE()}})),new yN(this.Ct,this.xt,e,t,n)}},{key:"Ft",value:function(){this.Nt=!1,this.Dt=SN()}},{key:"Bt",value:function(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}},{key:"Lt",value:function(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}},{key:"qt",value:function(){this.St+=1}},{key:"Ut",value:function(){this.St-=1}},{key:"Kt",value:function(){this.Nt=!0,this.xt=!0}}]),e}(),xN=function(){function e(t){ur(this,e),this.Gt=t,this.Qt=new Map,this.jt=hT(),this.zt=EN(),this.Wt=new SI(uS)}return lr(e,[{key:"Ht",value:function(e){var t,n=hr(e.Pt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.bt&&e.bt.isFoundDocument()?this.Jt(r,e.bt):this.Yt(r,e.key,e.bt)}}catch(s){n.e(s)}finally{n.f()}var i,a=hr(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Yt(o,e.key,e.bt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Xt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Zt(n);switch(e.state){case 0:t.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||t.removeTarget(n);break;case 3:t.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:t.te(n)&&(t.ee(n),r.$t(e.resumeToken));break;default:GE()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((function(e,r){n.te(r)&&t(r)}))}},{key:"ne",value:function(e){var t,n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){var a=i.target;if(zC(a))if(0===r){var o=new gS(a.path);this.Yt(n,o,fC.newNoDocument(o,fS.min()))}else KE(1===r);else{var s=this.ie(n);if(s!==r){var u=this.re(e,s);if(0!==u){this.ee(n);var c=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,c)}null===(t=cN.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,a,o,s,u,c={localCacheCount:t,existenceFilterCount:n.count},l=n.unchangedNames;return l&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==l?void 0:l.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(a=null===(i=null==l?void 0:l.bits)||void 0===i?void 0:i.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(u=null===(s=null==l?void 0:l.bits)||void 0===s?void 0:s.padding)&&void 0!==u?u:0}),c}(u,s,e.Vt))}}}}},{key:"re",value:function(e,t){var n=e.Vt,r=n.unchangedNames,i=n.count;if(!r||!r.bits)return 1;var a,o,s=r.bits,u=s.bitmap,c=void 0===u?"":u,l=s.padding,h=void 0===l?0:l,f=r.hashCount,d=void 0===f?0:f;try{a=FI(c).toUint8Array()}catch(e){if(e instanceof AI)return WE("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{o=new vN(a,h,d)}catch(e){return WE(e instanceof mN?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===o.It?1:i!==t-this.oe(e.targetId,o)?2:0}},{key:"oe",value:function(e,t){var n=this,r=this.Gt.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){var a=n.Gt.ue(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());t.vt(o)||(n.Yt(e,r,null),i++)})),i}},{key:"ce",value:function(e){var t=this,n=new Map;this.Qt.forEach((function(r,i){var a=t.se(i);if(a){if(r.current&&zC(a.target)){var o=new gS(a.target.path);null!==t.jt.get(o)||t.ae(i,o)||t.Yt(i,o,fC.newNoDocument(o,e))}r.Mt&&(n.set(i,r.Ot()),r.Ft())}}));var r=kT();this.zt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.se(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.jt.forEach((function(t,n){return n.setReadTime(e)}));var i=new gN(e,n,this.Wt,this.jt,r);return this.jt=hT(),this.zt=EN(),this.Wt=new SI(uS),i}},{key:"Jt",value:function(e,t){if(this.te(e)){var n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}}},{key:"Yt",value:function(e,t,n){if(this.te(e)){var r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Qt.delete(e)}},{key:"ie",value:function(e){var t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"qt",value:function(e){this.Zt(e).qt()}},{key:"Zt",value:function(e){var t=this.Qt.get(e);return t||(t=new _N,this.Qt.set(e,t)),t}},{key:"he",value:function(e){var t=this.zt.get(e);return t||(t=new TI(uS),this.zt=this.zt.insert(e,t)),t}},{key:"te",value:function(e){var t=null!==this.se(e);return t||VE("WatchChangeAggregator","Detected inactive target",e),t}},{key:"se",value:function(e){var t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}},{key:"ee",value:function(e){var t=this;this.Qt.set(e,new _N),this.Gt.getRemoteKeysForTarget(e).forEach((function(n){t.Yt(e,n,null)}))}},{key:"ae",value:function(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}]),e}();function EN(){return new SI(gS.comparator)}function SN(){return new SI(gS.comparator)}var IN={asc:"ASCENDING",desc:"DESCENDING"},CN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TN={and:"AND",or:"OR"},NN=lr((function e(t,n){ur(this,e),this.databaseId=t,this.useProto3Json=n}));function PN(e,t){return e.useProto3Json||WS(t)?t:{value:t}}function RN(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function AN(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ON(e,t){return RN(e,t.toTimestamp())}function DN(e){return KE(!!e),fS.fromTimestamp(function(e){var t=LI(e);return new hS(t.seconds,t.nanos)}(e))}function LN(e,t){return function(e){return new pS(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function MN(e){var t=pS.fromString(e);return KE(aP(t)),t}function FN(e,t){return LN(e.databaseId,t.path)}function jN(e,t){var n=MN(t);if(n.get(1)!==e.databaseId.projectId)throw new XE(YE.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new XE(YE.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new gS(VN(n))}function UN(e,t){return LN(e.databaseId,t)}function qN(e){var t=MN(e);return 4===t.length?pS.emptyPath():VN(t)}function zN(e){return new pS(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function VN(e){return KE(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function BN(e,t,n){return{name:FN(e,t),fields:n.value.mapValue.fields}}function WN(e,t,n){var r=jN(e,t.name),i=DN(t.updateTime),a=t.createTime?DN(t.createTime):fS.min(),o=new lC({mapValue:{fields:t.fields}}),s=fC.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function HN(e,t){return"found"in t?function(e,t){KE(!!t.found),t.found.name,t.found.updateTime;var n=jN(e,t.found.name),r=DN(t.found.updateTime),i=t.found.createTime?DN(t.found.createTime):fS.min(),a=new lC({mapValue:{fields:t.found.fields}});return fC.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){KE(!!t.missing),KE(!!t.readTime);var n=jN(e,t.missing),r=DN(t.readTime);return fC.newNoDocument(n,r)}(e,t):GE()}function GN(e,t){var n;if(t instanceof QT)n={update:BN(e,t.key,t.value)};else if(t instanceof tN)n={delete:FN(e,t.key)};else if(t instanceof YT)n={update:BN(e,t.key,t.data),updateMask:iP(t.fieldMask)};else{if(!(t instanceof nN))return GE();n={verify:FN(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof PT)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof RT)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof OT)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof LT)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw GE()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ON(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:GE()}(e,t.precondition)),n}function KN(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?qT.updateTime(DN(e.updateTime)):void 0!==e.exists?qT.exists(e.exists):qT.none()}(t.currentDocument):qT.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)KE("REQUEST_TIME"===t.setToServerValue),n=new PT;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new RT(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new OT(i)}else"increment"in t?n=new LT(e,t.increment):GE();var a=mS.fromServerFormat(t.fieldPath);return new jT(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=jN(e,t.update.name),a=new lC({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new RI(t.map((function(e){return mS.fromServerFormat(e)})))}(t.updateMask);return new YT(i,a,o,n,r)}return new QT(i,a,n,r)}if(t.delete){var s=jN(e,t.delete);return new tN(s,n)}if(t.verify){var u=jN(e,t.verify);return new nN(u,n)}return GE()}function QN(e,t){return{documents:[UN(e,t.path)]}}function YN(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=UN(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=UN(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return rP(kC.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:tP(e.field),direction:$N(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=PN(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function XN(e){var t=qN(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){KE(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=JN(e);return t instanceof kC&&xC(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new mC(nP(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return WS(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new dC(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new dC(n,t)}(n.endAt)),GC(t,i,s,o,u,"F",c,l)}function JN(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=nP(e.unaryFilter.field);return bC.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=nP(e.unaryFilter.field);return bC.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=nP(e.unaryFilter.field);return bC.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=nP(e.unaryFilter.field);return bC.create(i,"!=",{nullValue:"NULL_VALUE"});default:return GE()}}(e):void 0!==e.fieldFilter?function(e){return bC.create(nP(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return GE()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return kC.create(e.compositeFilter.filters.map((function(e){return JN(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return GE()}}(e.compositeFilter.op))}(e):GE()}function $N(e){return IN[e]}function ZN(e){return CN[e]}function eP(e){return TN[e]}function tP(e){return{fieldPath:e.canonicalString()}}function nP(e){return mS.fromServerFormat(e.fieldPath)}function rP(e){return e instanceof bC?function(e){if("=="===e.op){if(nC(e.value))return{unaryFilter:{field:tP(e.field),op:"IS_NAN"}};if(tC(e.value))return{unaryFilter:{field:tP(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(nC(e.value))return{unaryFilter:{field:tP(e.field),op:"IS_NOT_NAN"}};if(tC(e.value))return{unaryFilter:{field:tP(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tP(e.field),op:ZN(e.op),value:e.value}}}(e):e instanceof kC?function(e){var t=e.getFilters().map((function(e){return rP(e)}));return 1===t.length?t[0]:{compositeFilter:{op:eP(e.op),filters:t}}}(e):GE()}function iP(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function aP(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var oP=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:fS.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:fS.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:OI.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;ur(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return lr(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),sP=lr((function e(t){ur(this,e),this.fe=t}));function uP(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:cP(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:FN(e,t.key),fields:t.data.value.mapValue.fields,updateTime:RN(e,t.version.toTimestamp()),createTime:RN(e,t.createTime.toTimestamp())}}(e.fe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:lP(t.version)};else{if(!t.isUnknownDocument())return GE();r.unknownDocument={path:n.path.toArray(),version:lP(t.version)}}return r}function cP(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function lP(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function hP(e){var t=new hS(e.seconds,e.nanoseconds);return fS.fromTimestamp(t)}function fP(e,t){for(var n=(t.baseMutations||[]).map((function(t){return KN(e.fe,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return KN(e.fe,t)})),s=hS.fromMillis(t.localWriteTimeMs);return new rN(t.batchId,s,n,o)}function dP(e){var t,n,r=hP(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?hP(e.lastLimboFreeSnapshotVersion):fS.min();return void 0!==e.query.documents?(KE(1===(n=e.query).documents.length),t=ZC(KC(qN(n.documents[0])))):t=function(e){return ZC(XN(e))}(e.query),new oP(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,r,i,OI.fromBase64String(e.resumeToken))}function pP(e,t){var n,r=lP(t.snapshotVersion),i=lP(t.lastLimboFreeSnapshotVersion);n=zC(t.target)?QN(e.fe,t.target):YN(e.fe,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:UC(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function vP(e){var t=XN({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?tT(t,t.limit,"L"):t}function mP(e,t){return new aN(t.largestBatchId,KN(e.fe,t.overlayMutation))}function gP(e,t){var n=t.path.lastSegment();return[e,KS(t.path.popLast()),n]}function yP(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:lP(r.readTime),documentKey:KS(r.documentKey.path),largestBatchId:r.largestBatchId}}var bP=function(){function e(){ur(this,e)}return lr(e,[{key:"getBundleMetadata",value:function(e,t){return kP(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:hP(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return kP(e).put({bundleId:(n=t).id,createTime:lP(DN(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return wP(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:vP(t.bundledQuery),readTime:hP(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return wP(e).put(function(e){return{name:e.name,readTime:lP(DN(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function kP(e){return wI(e,"bundles")}function wP(e){return wI(e,"namedQueries")}var _P=function(){function e(t,n){ur(this,e),this.serializer=t,this.userId=n}return lr(e,[{key:"getOverlay",value:function(e,t){var n=this;return xP(e).get(gP(this.userId,t)).next((function(e){return e?mP(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=vT();return RS.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new aN(t,a);i.push(r.we(e,o))})),RS.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(KS(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(xP(e).J("collectionPathOverlayIndex",i))})),RS.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=vT(),a=KS(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return xP(e).j("collectionPathOverlayIndex",o).next((function(e){var t,n=hr(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=mP(r.serializer,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=vT(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return xP(e).X({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=mP(a.serializer,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"we",value:function(e,t){return xP(e).put(function(e,t,n){var r=ir(gP(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:GN(e.fe,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"de",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function xP(e){return wI(e,"documentOverlays")}var EP=function(){function e(){ur(this,e)}return lr(e,[{key:"_e",value:function(e,t){this.me(e,t),t.ge()}},{key:"me",value:function(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(MI(e.integerValue));else if("doubleValue"in e){var n=MI(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),HS(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie("".concat(r.seconds||"")),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(FI(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?aC(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):GE()}},{key:"Te",value:function(e,t){this.ye(t,25),this.be(e,t)}},{key:"be",value:function(e,t){t.Ie(e)}},{key:"Re",value:function(e,t){var n=e.fields||{};this.ye(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Te(a,t),this.me(n[a],t)}}},{key:"Pe",value:function(e,t){var n=e.values||[];this.ye(t,50);var r,i=hr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.me(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ve",value:function(e,t){var n=this;this.ye(t,37),gS.fromName(e).path.forEach((function(e){n.ye(t,60),n.be(e,t)}))}},{key:"ye",value:function(e,t){e.pe(t)}},{key:"Ee",value:function(e){e.pe(2)}}]),e}();function SP(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function IP(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=SP(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}EP.Ve=new EP;var CP=function(){function e(){ur(this,e),this.buffer=new Uint8Array(1024),this.position=0}return lr(e,[{key:"Se",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.De(n.value),n=t.next();this.Ce()}},{key:"xe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ne(n.value),n=t.next();this.ke()}},{key:"Me",value:function(e){var t,n=hr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{var a=r.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ce()}},{key:"$e",value:function(e){var t,n=hr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{var a=r.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ke()}},{key:"Oe",value:function(e){var t=this.Fe(e),n=IP(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Le",value:function(e){var t=this.Fe(e),n=IP(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"qe",value:function(){this.Ue(255),this.Ue(255)}},{key:"Ke",value:function(){this.Ge(255),this.Ge(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Qe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Fe",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"De",value:function(e){var t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}},{key:"Ne",value:function(e){var t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}},{key:"Ce",value:function(){this.Ue(0),this.Ue(1)}},{key:"ke",value:function(){this.Ge(0),this.Ge(1)}},{key:"Ue",value:function(e){this.Be(1),this.buffer[this.position++]=e}},{key:"Ge",value:function(e){this.Be(1),this.buffer[this.position++]=~e}},{key:"Be",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),TP=function(){function e(t){ur(this,e),this.je=t}return lr(e,[{key:"Ae",value:function(e){this.je.Se(e)}},{key:"Ie",value:function(e){this.je.Me(e)}},{key:"pe",value:function(e){this.je.Oe(e)}},{key:"ge",value:function(){this.je.qe()}}]),e}(),NP=function(){function e(t){ur(this,e),this.je=t}return lr(e,[{key:"Ae",value:function(e){this.je.xe(e)}},{key:"Ie",value:function(e){this.je.$e(e)}},{key:"pe",value:function(e){this.je.Le(e)}},{key:"ge",value:function(){this.je.Ke()}}]),e}(),PP=function(){function e(){ur(this,e),this.je=new CP,this.ze=new TP(this.je),this.We=new NP(this.je)}return lr(e,[{key:"seed",value:function(e){this.je.seed(e)}},{key:"He",value:function(e){return 0===e?this.ze:this.We}},{key:"Qe",value:function(){return this.je.Qe()}},{key:"reset",value:function(){this.je.reset()}}]),e}(),RP=function(){function e(t,n,r,i){ur(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return lr(e,[{key:"Je",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function AP(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=OP(e.arrayValue,t.arrayValue))?n:0!==(n=OP(e.directionalValue,t.directionalValue))?n:gS.comparator(e.documentKey,t.documentKey)}function OP(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var DP=function(){function e(t){ur(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];var n,r=hr(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Ze=i:this.Xe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return lr(e,[{key:"tn",value:function(e){KE(e.collectionGroup===this.collectionId);var t=bS(e);if(void 0!==t&&!this.en(t))return!1;for(var n=kS(e),r=new Set,i=0,a=0;i<n.length&&this.en(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){var o=n[i];if(!this.nn(this.Ze,o)||!this.sn(this.Ye[a++],o))return!1}++i}for(;i<n.length;++i){var s=n[i];if(a>=this.Ye.length||!this.sn(this.Ye[a++],s))return!1}return!0}},{key:"en",value:function(e){var t,n=hr(this.Xe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.nn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"nn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"sn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function LP(e){var t,n;if(KE(e instanceof bC||e instanceof kC),e instanceof bC){if(e instanceof DC){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return bC.create(e.field,"==",t)})))||[];return kC.create(r,"or")}return e}var i=e.filters.map((function(e){return LP(e)}));return kC.create(i,e.op)}function MP(e){if(0===e.getFilters().length)return[];var t=qP(LP(e));return KE(UP(t)),FP(t)||jP(t)?[t]:t.getFilters()}function FP(e){return e instanceof bC}function jP(e){return e instanceof kC&&xC(e)}function UP(e){return FP(e)||jP(e)||function(e){if(e instanceof kC&&_C(e)){var t,n=hr(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!FP(r)&&!jP(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function qP(e){if(KE(e instanceof bC||e instanceof kC),e instanceof bC)return e;if(1===e.filters.length)return qP(e.filters[0]);var t=e.filters.map((function(e){return qP(e)})),n=kC.create(t,e.op);return UP(n=BP(n))?n:(KE(n instanceof kC),KE(wC(n)),KE(n.filters.length>1),n.filters.reduce((function(e,t){return zP(e,t)})))}function zP(e,t){var n;return KE(e instanceof bC||e instanceof kC),KE(t instanceof bC||t instanceof kC),n=e instanceof bC?t instanceof bC?function(e,t){return kC.create([e,t],"and")}(e,t):VP(e,t):t instanceof bC?VP(t,e):function(e,t){if(KE(e.filters.length>0&&t.filters.length>0),wC(e)&&wC(t))return CC(e,t.getFilters());var n=_C(e)?e:t,r=_C(e)?t:e,i=n.filters.map((function(e){return zP(e,r)}));return kC.create(i,"or")}(e,t),BP(n)}function VP(e,t){if(wC(t))return CC(t,e.getFilters());var n=t.filters.map((function(t){return zP(e,t)}));return kC.create(n,"or")}function BP(e){if(KE(e instanceof bC||e instanceof kC),e instanceof bC)return e;var t=e.getFilters();if(1===t.length)return BP(t[0]);if(EC(e))return e;var n=t.map((function(e){return BP(e)})),r=[];return n.forEach((function(t){t instanceof bC?r.push(t):t instanceof kC&&(t.op===e.op?r.push.apply(r,yi(t.filters)):r.push(t))})),1===r.length?r[0]:kC.create(r,e.op)}var WP=function(){function e(){ur(this,e),this.rn=new HP}return lr(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.rn.add(t),RS.resolve()}},{key:"getCollectionParents",value:function(e,t){return RS.resolve(this.rn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return RS.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return RS.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return RS.resolve(null)}},{key:"getIndexType",value:function(e,t){return RS.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return RS.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return RS.resolve(null)}},{key:"getMinOffset",value:function(e,t){return RS.resolve(SS.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return RS.resolve(SS.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return RS.resolve()}},{key:"updateIndexEntries",value:function(e,t){return RS.resolve()}}]),e}(),HP=function(){function e(){ur(this,e),this.index={}}return lr(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new TI(pS.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new TI(pS.comparator)).toArray()}}]),e}(),GP=new Uint8Array(0),KP=function(){function e(t,n){ur(this,e),this.user=t,this.databaseId=n,this.on=new HP,this.un=new cT((function(e){return UC(e)}),(function(e,t){return qC(e,t)})),this.uid=t.uid||""}return lr(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.on.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.on.add(t)}));var a={collectionId:r,parent:KS(i)};return QP(e).put(a)}return RS.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[lS(t),""],!1,!0);return QP(e).j(r).next((function(e){var r,i=hr(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(XS(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=XP(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=JP(e);return a.next((function(e){o.put(yP(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=XP(e),r=JP(e),i=YP(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=YP(e),i=!0,a=new Map;return RS.forEach(this.cn(t),(function(t){return n.an(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=kT(),o=[];return RS.forEach(a,(function(i,a){var s;VE("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(UC(t)));var u=function(e,t){var n=bS(t);if(void 0===n)return null;var r,i=hr(VC(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=hr(kS(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=hr(VC(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=hr(kS(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?BC(e,o.fieldPath,e.startAt):WC(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new dC(r,i)}(a,i),h=function(e,t){var n,r=[],i=!0,a=hr(kS(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?WC(e,o.fieldPath,e.endAt):BC(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new dC(r,i)}(a,i),f=n.hn(i,a,l),d=n.hn(i,a,h),p=n.ln(i,a,c),v=n.fn(i.indexId,u,f,l.inclusive,d,h.inclusive,p);return RS.forEach(v,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=gS.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return RS.resolve(null)}))}},{key:"cn",value:function(e){var t=this.un.get(e);return t||(t=0===e.filters.length?[e]:MP(kC.create(e.filters,"and")).map((function(t){return jC(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.un.set(e,t),t)}},{key:"fn",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],h=function(){var u=t?s.dn(t[f/c]):GP,h=s.wn(e,u,n[f%c],r),d=s._n(e,u,i[f%c],a),p=o.map((function(t){return s.wn(e,u,t,!0)}));l.push.apply(l,yi(s.createRange(h,d,p)))},f=0;f<u;++f)h();return l}},{key:"wn",value:function(e,t,n,r){var i=new RP(e,gS.empty(),t,n);return r?i:i.Je()}},{key:"_n",value:function(e,t,n,r){var i=new RP(e,gS.empty(),t,n);return r?i.Je():i}},{key:"an",value:function(e,t){var n=new DP(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=hr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.tn(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.cn(t);return RS.forEach(i,(function(t){return n.an(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new TI(mS.comparator),r=!1,i=hr(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=hr(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(h){o.e(h)}finally{o.f()}}}catch(h){i.e(h)}finally{i.f()}var u,c=hr(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(h){c.e(h)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"mn",value:function(e,t){var n,r=new PP,i=hr(kS(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.He(a.kind);EP.Ve._e(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Qe()}},{key:"dn",value:function(e){var t=new PP;return EP.Ve._e(e,t.He(0)),t.Qe()}},{key:"gn",value:function(e,t){var n=new PP;return EP.Ve._e($I(this.databaseId,t),n.He(function(e){var t=kS(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Qe()}},{key:"ln",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new PP);var i,a=0,o=hr(kS(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=hr(r);try{for(l.s();!(s=l.n()).done;){var h=s.value;if(this.yn(t,u.fieldPath)&&eC(c))r=this.pn(r,u,c);else{var f=h.He(u.kind);EP.Ve._e(c,f)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.In(r)}},{key:"hn",value:function(e,t,n){return this.ln(e,t,n.position)}},{key:"In",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Qe();return t}},{key:"pn",value:function(e,t,n){var r,i=yi(e),a=[],o=hr(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=hr(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,h=new PP;h.seed(l.Qe()),EP.Ve._e(u,h.He(t.kind)),a.push(h)}}catch(f){c.e(f)}finally{c.f()}}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"yn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof bC&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=XP(e),i=JP(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next((function(e){var t=[];return RS.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new _S(t.sequenceNumber,new SS(hP(t.readTime),new gS(XS(t.documentKey)),t.largestBatchId)):_S.empty(),r=e.fields.map((function(e){var t=ir(e,2),n=t[0],r=t[1];return new wS(mS.fromServerFormat(n),r)}));return new yS(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:uS(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=XP(e),a=JP(e);return this.Tn(e).next((function(e){return i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return RS.forEach(t,(function(t){return a.put(yP(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return RS.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?RS.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),RS.forEach(a,(function(r){return n.En(e,t,r).next((function(t){var a=n.An(i,r);return t.isEqual(a)?RS.resolve():n.vn(e,i,r,t,a)}))}))}))}))}},{key:"Rn",value:function(e,t,n,r){return YP(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"Pn",value:function(e,t,n,r){return YP(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}},{key:"En",value:function(e,t,n){var r=YP(e),i=new TI(AP);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},(function(e,r){i=i.add(new RP(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"An",value:function(e,t){var n=new TI(AP),r=this.mn(t,e);if(null==r)return n;var i=bS(t);if(null!=i){var a=e.data.field(i.fieldPath);if(eC(a)){var o,s=hr(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new RP(t.indexId,e.key,this.dn(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new RP(t.indexId,e.key,GP,r));return n}},{key:"vn",value:function(e,t,n,r,i){var a=this;VE("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=PI(a),u=PI(o);s||u;){var c=!1,l=!1;if(s&&u){var h=n(s,u);h<0?l=!0:h>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=PI(o)):l?(i(s),s=PI(a)):(s=PI(a),u=PI(o))}}(r,i,AP,(function(r){o.push(a.Rn(e,t,n,r))}),(function(r){o.push(a.Pn(e,t,n,r))})),RS.waitFor(o)}},{key:"Tn",value:function(e){var t=1;return JP(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return AP(e,t)})).filter((function(e,t,n){return!t||0!==AP(e,n[t-1])}));var r=[];r.push(e);var i,a=hr(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=AP(o,e),u=AP(o,t);if(0===s)r[0]=e.Je();else if(s>0&&u<0)r.push(o),r.push(o.Je());else if(u>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];var h=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,GP,[]],f=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,GP,[]];c.push(IDBKeyRange.bound(h,f))}return c}},{key:"bn",value:function(e,t){return AP(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next($P)}},{key:"getMinOffset",value:function(e,t){var n=this;return RS.mapArray(this.cn(t),(function(t){return n.an(e,t).next((function(e){return e||GE()}))})).next($P)}}]),e}();function QP(e){return wI(e,"collectionParents")}function YP(e){return wI(e,"indexEntries")}function XP(e){return wI(e,"indexConfiguration")}function JP(e){return wI(e,"indexState")}function $P(e){KE(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;IS(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new SS(t.readTime,t.documentKey,n)}var ZP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eR=function(){function e(t,n,r){ur(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return lr(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function tR(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.X({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){KE(1===s)})));var c,l=[],h=hr(n.mutations);try{for(h.s();!(c=h.n()).done;){var f=c.value,d=ZS(t,f.key.path,n.batchId);a.push(i.delete(d)),l.push(f.key)}}catch(p){h.e(p)}finally{h.f()}return RS.waitFor(a).next((function(){return l}))}function nR(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw GE();t=e.noDocument}return JSON.stringify(t).length}eR.DEFAULT_COLLECTION_PERCENTILE=10,eR.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,eR.DEFAULT=new eR(41943040,eR.DEFAULT_COLLECTION_PERCENTILE,eR.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),eR.DISABLED=new eR(-1,0,0);var rR=function(){function e(t,n,r,i){ur(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}return lr(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return aR(e).X({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=oR(e),o=aR(e);return o.add({}).next((function(s){KE("number"==typeof s);var u,c=new rN(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return GN(e.fe,t)})),i=n.mutations.map((function(t){return GN(e.fe,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),h=[],f=new TI((function(e,t){return uS(e.canonicalString(),t.canonicalString())})),d=hr(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=ZS(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),h.push(o.put(l)),h.push(a.put(v,eI))}}catch(m){d.e(m)}finally{d.f()}return f.forEach((function(t){h.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Vn[s]=c.keys()})),RS.waitFor(h).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return aR(e).get(t).next((function(e){return e?(KE(e.userId===n.userId),fP(n.serializer,e)):null}))}},{key:"Sn",value:function(e,t){var n=this;return this.Vn[t]?RS.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Vn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return aR(e).X({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(KE(t.batchId>=r),a=fP(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return aR(e).X({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return aR(e).j("userMutationsIndex",n).next((function(e){return e.map((function(e){return fP(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=$S(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return oR(e).X({range:i},(function(r,i,o){var s=ir(r,3),u=s[0],c=s[1],l=s[2],h=XS(c);if(u===n.userId&&t.path.isEqual(h))return aR(e).get(l).next((function(e){if(!e)throw GE();KE(e.userId===n.userId),a.push(fP(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new TI(uS),i=[];return t.forEach((function(t){var a=$S(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=oR(e).X({range:o},(function(e,i,a){var o=ir(e,3),s=o[0],u=o[1],c=o[2],l=XS(u);s===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(s)})),RS.waitFor(i).next((function(){return n.Dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=$S(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new TI(uS);return oR(e).X({range:o},(function(e,t,a){var o=ir(e,3),u=o[0],c=o[1],l=o[2],h=XS(c);u===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(l)):a.done()})).next((function(){return n.Dn(e,s)}))}},{key:"Dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(aR(e).get(t).next((function(e){if(null===e)throw GE();KE(e.userId===n.userId),r.push(fP(n.serializer,e))})))})),RS.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return tR(e.ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Cn(t.batchId)})),RS.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Cn",value:function(e){delete this.Vn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return RS.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return oR(e).X({range:r},(function(e,n,r){if(e[0]===t.userId){var a=XS(e[1]);i.push(a)}else r.done()})).next((function(){KE(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return iR(e,this.userId,t)}},{key:"xn",value:function(e){var t=this;return sR(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"de",value:function(t,n,r,i){return KE(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function iR(e,t,n){var r=$S(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return oR(e).X({range:a,Y:!0},(function(e,n,r){var a=ir(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function aR(e){return wI(e,"mutations")}function oR(e){return wI(e,"documentMutations")}function sR(e){return wI(e,"mutationQueues")}var uR=function(){function e(t){ur(this,e),this.Nn=t}return lr(e,[{key:"next",value:function(){return this.Nn+=2,this.Nn}}],[{key:"kn",value:function(){return new e(0)}},{key:"Mn",value:function(){return new e(-1)}}]),e}(),cR=function(){function e(t,n){ur(this,e),this.referenceDelegate=t,this.serializer=n}return lr(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.$n(e).next((function(n){var r=new uR(n.highestTargetId);return n.highestTargetId=r.next(),t.On(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.$n(e).next((function(e){return fS.fromTimestamp(new hS(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.$n(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.$n(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.On(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Fn(e,t).next((function(){return n.$n(e).next((function(r){return r.targetCount+=1,n.Bn(t,r),n.On(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Fn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return lR(e).delete(t.targetId)})).next((function(){return n.$n(e)})).next((function(t){return KE(t.targetCount>0),t.targetCount-=1,n.On(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return lR(e).X((function(o,s){var u=dP(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return RS.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return lR(e).X((function(e,n){var r=dP(n);t(r)}))}},{key:"$n",value:function(e){return hR(e).get("targetGlobalKey").next((function(e){return KE(null!==e),e}))}},{key:"On",value:function(e,t){return hR(e).put("targetGlobalKey",t)}},{key:"Fn",value:function(e,t){return lR(e).put(pP(this.serializer,t))}},{key:"Bn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.$n(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=UC(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return lR(e).X({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=dP(n);qC(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=fR(e);return t.forEach((function(t){var o=KS(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),RS.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=fR(e);return RS.forEach(t,(function(t){var a=KS(t.path);return RS.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=fR(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=fR(e),i=kT();return r.X({range:n,Y:!0},(function(e,t,n){var r=XS(e[1]),a=new gS(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=KS(t.path),r=IDBKeyRange.bound([n],[lS(n)],!1,!0),i=0;return fR(e).X({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=ir(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"le",value:function(e,t){return lR(e).get(t).next((function(e){return e?dP(e):null}))}}]),e}();function lR(e){return wI(e,"targets")}function hR(e){return wI(e,"targetGlobal")}function fR(e){return wI(e,"targetDocuments")}function dR(e,t){var n=ir(e,2),r=n[0],i=n[1],a=ir(t,2),o=a[0],s=a[1],u=uS(r,o);return 0===u?uS(i,s):u}var pR=function(){function e(t){ur(this,e),this.Ln=t,this.buffer=new TI(dR),this.qn=0}return lr(e,[{key:"Un",value:function(){return++this.qn}},{key:"Kn",value:function(e){var t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();dR(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),vR=function(){function e(t,n,r){ur(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Gn=null}return lr(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}},{key:"stop",value:function(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}},{key:"started",get:function(){return null!==this.Gn}},{key:"Qn",value:function(e){var t=this;VE("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,ki(mi().mark((function e(){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Gn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!MS(e.t0)){e.next=12;break}VE("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,NS(e.t0);case 14:return e.next=16,t.Qn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),mR=function(){function e(t,n){ur(this,e),this.jn=t,this.params=n}return lr(e,[{key:"calculateTargetCount",value:function(e,t){return this.jn.zn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return RS.resolve(BS.ct);var r=new pR(t);return this.jn.forEachTarget(e,(function(e){return r.Kn(e.sequenceNumber)})).next((function(){return n.jn.Wn(e,(function(e){return r.Kn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.jn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.jn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(VE("LruGarbageCollector","Garbage collection skipped; disabled"),RS.resolve(ZP)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(VE("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),ZP):n.Hn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.jn.getCacheSize(e)}},{key:"Hn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(VE("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),zE()<=Si.DEBUG&&VE("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),RS.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function gR(e,t){return new mR(e,t)}var yR=function(){function e(t,n){ur(this,e),this.db=t,this.garbageCollector=gR(this,n)}return lr(e,[{key:"zn",value:function(e){var t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Jn",value:function(e){var t=0;return this.Wn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Wn",value:function(e,t){return this.Yn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return bR(e,n)}},{key:"removeReference",value:function(e,t,n){return bR(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return bR(e,t)}},{key:"Xn",value:function(e,t){return function(e,t){var n=!1;return sR(e).Z((function(r){return iR(e,r,t).next((function(e){return e&&(n=!0),RS.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Yn(e,(function(o,s){if(s<=t){var u=n.Xn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,fS.min()),fR(e).delete([0,KS(o.path)])}))}));i.push(u)}})).next((function(){return RS.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return bR(e,t)}},{key:"Yn",value:function(e,t){var n,r=fR(e),i=BS.ct;return r.X({index:"documentTargetsIndex"},(function(e,r){var a=ir(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==BS.ct&&t(new gS(XS(n)),i),i=u,n=s):i=BS.ct})).next((function(){i!==BS.ct&&t(new gS(XS(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function bR(e,t){return fR(e).put(function(e,t){return{targetId:0,path:KS(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var kR=function(){function e(){ur(this,e),this.changes=new cT((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return lr(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,fC.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?RS.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),wR=function(){function e(t){ur(this,e),this.serializer=t}return lr(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return SR(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return SR(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],cP(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Zn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=fC.newInvalidDocument(t);return SR(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(IR(t))},(function(e,i){r=n.ts(t,i)})).next((function(){return r}))}},{key:"es",value:function(e,t){var n=this,r={size:0,document:fC.newInvalidDocument(t)};return SR(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(IR(t))},(function(e,i){r={document:n.ts(t,i),size:nR(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=hT();return this.ns(e,t,(function(e,t){var i=n.ts(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"ss",value:function(e,t){var n=this,r=hT(),i=new SI(gS.comparator);return this.ns(e,t,(function(e,t){var a=n.ts(e,t);r=r.insert(e,a),i=i.insert(e,nR(t))})).next((function(){return{documents:r,rs:i}}))}},{key:"ns",value:function(e,t,n){if(t.isEmpty())return RS.resolve();var r=new TI(TR);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(IR(r.first()),IR(r.last())),a=r.getIterator(),o=a.getNext();return SR(e).X({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=gS.fromSegments([].concat(yi(t.prefixPath),[t.collectionGroup,t.documentId]));o&&TR(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.G(IR(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),cP(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return SR(e).j(IDBKeyRange.bound(o,s,!0)).next((function(e){var n,a=hT(),o=hr(e);try{for(o.s();!(n=o.n()).done;){var s=n.value,u=i.ts(gS.fromSegments(s.prefixPath.concat(s.collectionGroup,s.documentId)),s);u.isFoundDocument()&&(aT(t,u)||r.has(u.key))&&(a=a.insert(u.key,u))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=hT(),o=CR(t,n),s=CR(t,SS.max());return SR(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.ts(gS.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new xR(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return ER(e).get("remoteDocumentGlobalKey").next((function(e){return KE(!!e),e}))}},{key:"Zn",value:function(e,t){return ER(e).put("remoteDocumentGlobalKey",t)}},{key:"ts",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=WN(e.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=gS.fromSegments(t.noDocument.path),i=hP(t.noDocument.readTime);n=fC.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return GE();var a=gS.fromSegments(t.unknownDocument.path),o=hP(t.unknownDocument.version);n=fC.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new hS(e[0],e[1]);return fS.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(fS.min()))return n}return fC.newInvalidDocument(e)}}]),e}();function _R(e){return new wR(e)}var xR=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this)).os=e,i.trackRemovals=r,i.us=new cT((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return lr(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new TI((function(e,t){return uS(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.us.get(a);if(n.push(t.os.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=uP(t.os.serializer,o);i=i.add(a.path.popLast());var c=nR(u);r+=c-s.size,n.push(t.os.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=uP(t.os.serializer,o.convertToNoDocument(fS.min()));n.push(t.os.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.os.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.os.updateMetadata(e,r)),RS.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.os.es(e,t).next((function(e){return n.us.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.os.ss(e,t).next((function(e){var t=e.documents;return e.rs.forEach((function(e,r){n.us.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(kR);function ER(e){return wI(e,"remoteDocumentGlobal")}function SR(e){return wI(e,"remoteDocumentsV14")}function IR(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function CR(e,t){var n=t.documentKey.path.toArray();return[e,cP(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function TR(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=uS(n[a],r[a]))return i;return(i=uS(n.length,r.length))||((i=uS(n[n.length-2],r[r.length-2]))||uS(n[n.length-1],r[r.length-1]))}var NR=lr((function e(t,n){ur(this,e),this.overlayedDocument=t,this.mutatedFields=n})),PR=function(){function e(t,n,r,i){ur(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return lr(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&HT(r.mutation,e,RI.empty(),hS.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,kT()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kT(),i=vT();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=dT();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=vT();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,kT())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=hT(),a=gT(),o=gT();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof YT)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),HT(o.mutation,t,o.mutation.getFieldMask(),hS.now())):a.set(t.key,RI.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new NR(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=gT(),i=new SI((function(e,t){return e-t})),a=kT();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=hr(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||RI.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||kT()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=mT();c.forEach((function(e){if(!a.has(e)){var n=BT(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return RS.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return gS.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):JC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):RS.resolve(vT()),s=-1,u=a;return o.next((function(t){return RS.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?RS.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,kT())})).next((function(e){return{batchId:s,changes:pT(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new gS(t)).next((function(e){var t=dT();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=dT();return this.indexManager.getCollectionParents(e,i).next((function(o){return RS.forEach(o,(function(o){var s=function(e,t){return new HC(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,fC.newInvalidDocument(r)))}));var n=dT();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&HT(a.mutation,i,RI.empty(),hS.now()),aT(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),RR=function(){function e(t){ur(this,e),this.serializer=t,this.cs=new Map,this.hs=new Map}return lr(e,[{key:"getBundleMetadata",value:function(e,t){return RS.resolve(this.cs.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:DN(n.createTime)}),RS.resolve()}},{key:"getNamedQuery",value:function(e,t){return RS.resolve(this.hs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:vP(e.bundledQuery),readTime:DN(e.readTime)}}(t)),RS.resolve()}}]),e}(),AR=function(){function e(){ur(this,e),this.overlays=new SI(gS.comparator),this.ls=new Map}return lr(e,[{key:"getOverlay",value:function(e,t){return RS.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=vT();return RS.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.we(e,t,i)})),RS.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ls.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ls.delete(n)),RS.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=vT(),i=t.length+1,a=new gS(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return RS.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new SI((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=vT(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=vT(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return RS.resolve(u)}},{key:"we",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new aN(t,n));var a=this.ls.get(t);void 0===a&&(a=kT(),this.ls.set(t,a)),this.ls.set(t,a.add(n.key))}}]),e}(),OR=function(){function e(){ur(this,e),this.fs=new TI(DR.ds),this.ws=new TI(DR._s)}return lr(e,[{key:"isEmpty",value:function(){return this.fs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new DR(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}},{key:"gs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ys(new DR(e,t))}},{key:"ps",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Is",value:function(e){var t=this,n=new gS(new pS([])),r=new DR(n,e),i=new DR(n,e+1),a=[];return this.ws.forEachInRange([r,i],(function(e){t.ys(e),a.push(e.key)})),a}},{key:"Ts",value:function(){var e=this;this.fs.forEach((function(t){return e.ys(t)}))}},{key:"ys",value:function(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}},{key:"Es",value:function(e){var t=new gS(new pS([])),n=new DR(t,e),r=new DR(t,e+1),i=kT();return this.ws.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new DR(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),DR=function(){function e(t,n){ur(this,e),this.key=t,this.As=n}return lr(e,null,[{key:"ds",value:function(e,t){return gS.comparator(e.key,t.key)||uS(e.As,t.As)}},{key:"_s",value:function(e,t){return uS(e.As,t.As)||gS.comparator(e.key,t.key)}}]),e}(),LR=function(){function e(t,n){ur(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new TI(DR.ds)}return lr(e,[{key:"checkEmpty",value:function(e){return RS.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new rN(i,t,n,r);this.mutationQueue.push(a);var o,s=hr(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.Rs=this.Rs.add(new DR(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return RS.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return RS.resolve(this.Ps(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.bs(n),i=r<0?0:r;return RS.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return RS.resolve(0===this.mutationQueue.length?-1:this.vs-1)}},{key:"getAllMutationBatches",value:function(e){return RS.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new DR(t,0),i=new DR(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],(function(e){var t=n.Ps(e.As);a.push(t)})),RS.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new TI(uS);return t.forEach((function(e){var t=new DR(e,0),i=new DR(e,Number.POSITIVE_INFINITY);n.Rs.forEachInRange([t,i],(function(e){r=r.add(e.As)}))})),RS.resolve(this.Vs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;gS.isDocumentKey(i)||(i=i.child(""));var a=new DR(new gS(i),0),o=new TI(uS);return this.Rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.As)),!0)}),a),RS.resolve(this.Vs(o))}},{key:"Vs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ps(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;KE(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Rs;return RS.forEach(t.mutations,(function(i){var a=new DR(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Rs=r}))}},{key:"Cn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new DR(t,0),r=this.Rs.firstAfterOrEqual(n);return RS.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,RS.resolve()}},{key:"Ss",value:function(e,t){return this.bs(e)}},{key:"bs",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Ps",value:function(e){var t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),MR=function(){function e(t){ur(this,e),this.Ds=t,this.docs=new SI(gS.comparator),this.size=0}return lr(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return RS.resolve(n?n.document.mutableCopy():fC.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=hT();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():fC.newInvalidDocument(e))})),RS.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=hT(),a=t.path,o=new gS(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||IS(ES(l),n)<=0||(r.has(l.key)||aT(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return RS.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){GE()}},{key:"Cs",value:function(e,t){return RS.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new FR(this)}},{key:"getSize",value:function(e){return RS.resolve(this.size)}}]),e}(),FR=function(e){pr(n,e);var t=gr(n);function n(e){var r;return ur(this,n),(r=t.call(this)).os=e,r}return lr(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.os.addEntry(e,i)):t.os.removeEntry(r)})),RS.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.os.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.os.getEntries(e,t)}}]),n}(kR),jR=function(){function e(t){ur(this,e),this.persistence=t,this.xs=new cT((function(e){return UC(e)}),qC),this.lastRemoteSnapshotVersion=fS.min(),this.highestTargetId=0,this.Ns=0,this.ks=new OR,this.targetCount=0,this.Ms=uR.kn()}return lr(e,[{key:"forEachTarget",value:function(e,t){return this.xs.forEach((function(e,n){return t(n)})),RS.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return RS.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return RS.resolve(this.Ns)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ms.next(),RS.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),RS.resolve()}},{key:"Fn",value:function(e){this.xs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ms=new uR(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Fn(t),this.targetCount+=1,RS.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Fn(t),RS.resolve()}},{key:"removeTargetData",value:function(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,RS.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.xs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.xs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),RS.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return RS.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.xs.get(t)||null;return RS.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.ks.gs(t,n),RS.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.ks.ps(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),RS.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.ks.Is(t),RS.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.ks.Es(t);return RS.resolve(n)}},{key:"containsKey",value:function(e,t){return RS.resolve(this.ks.containsKey(t))}}]),e}(),UR=function(){function e(t,n){var r=this;ur(this,e),this.$s={},this.overlays={},this.Os=new BS(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new jR(this),this.indexManager=new WP,this.remoteDocumentCache=new MR((function(e){return r.referenceDelegate.Ls(e)})),this.serializer=new sP(n),this.qs=new RR(this.serializer)}return lr(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Fs=!1,Promise.resolve()}},{key:"started",get:function(){return this.Fs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new AR,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.$s[e.toKey()];return n||(n=new LR(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;VE("MemoryPersistence","Starting transaction:",e);var i=new qR(this.Os.next());return this.referenceDelegate.Us(),n(i).next((function(e){return r.referenceDelegate.Ks(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gs",value:function(e,t){return RS.or(Object.values(this.$s).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),qR=function(e){pr(n,e);var t=gr(n);function n(e){var r;return ur(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return lr(n)}(TS),zR=function(){function e(t){ur(this,e),this.persistence=t,this.Qs=new OR,this.js=null}return lr(e,[{key:"Ws",get:function(){if(this.js)return this.js;throw GE()}},{key:"addReference",value:function(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),RS.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),RS.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ws.add(t.toString()),RS.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qs.Is(t.targetId).forEach((function(e){return n.Ws.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ws.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Us",value:function(){this.js=new Set}},{key:"Ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return RS.forEach(this.Ws,(function(r){var i=gS.fromPath(r);return t.Hs(e,i).next((function(e){e||n.removeEntry(i,fS.min())}))})).next((function(){return t.js=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hs(e,t).next((function(e){e?n.Ws.delete(t.toString()):n.Ws.add(t.toString())}))}},{key:"Ls",value:function(e){return 0}},{key:"Hs",value:function(e,t){var n=this;return RS.or([function(){return RS.resolve(n.Qs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gs(e,t)}])}}],[{key:"zs",value:function(t){return new e(t)}}]),e}(),VR=function(){function e(t){ur(this,e),this.serializer=t}return lr(e,[{key:"O",value:function(e,t,n,r){var i=this,a=new AS("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",JS,{unique:!0}),e.createObjectStore("documentMutations")}(e),BR(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=RS.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),BR(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:fS.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").j().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",JS,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return RS.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ys(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Xs(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Zs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ti(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ei(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:fI});t.createIndex("collectionPathOverlayIndex",dI,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",pI,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:tI});t.createIndex("documentKeyIndex",nI),t.createIndex("collectionGroupIndex",rI)}(e)})).next((function(){return i.ni(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.si(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:uI}).createIndex("sequenceNumberIndex",cI,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:lI}).createIndex("documentKeyIndex",hI,{unique:!1})}(e)}))),o}},{key:"Xs",value:function(e){var t=0;return e.store("remoteDocuments").X((function(e,n){t+=nR(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Ys",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next((function(n){return RS.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",i).next((function(r){return RS.forEach(r,(function(r){KE(r.userId===n.userId);var i=fP(t.serializer,r);return tR(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Zs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.X((function(n,i){var a=new pS(n),o=function(e){return[0,KS(e)]}(a);r.push(t.get(o).next((function(n){return n?RS.resolve():function(n){return t.put({targetId:0,path:KS(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return RS.waitFor(r)}))}))}},{key:"ti",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:sI});var n=t.store("collectionParents"),r=new HP,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:KS(i)})}};return t.store("remoteDocuments").X({Y:!0},(function(e,t){var n=new pS(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").X({Y:!0},(function(e,t){var n=ir(e,3),r=(n[0],n[1]),a=(n[2],XS(r));return i(a.popLast())}))}))}},{key:"ei",value:function(e){var t=this,n=e.store("targets");return n.X((function(e,r){var i=dP(r),a=pP(t.serializer,i);return n.put(a)}))}},{key:"ni",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.X((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new gS(pS.fromString(i.document.name).popFirst(5)):i.noDocument?gS.fromSegments(i.noDocument.path):i.unknownDocument?gS.fromSegments(i.unknownDocument.path):GE()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return RS.waitFor(r)}))}},{key:"si",value:function(e,t){var n=this,r=t.store("mutations"),i=_R(this.serializer),a=new UR(zR.zs,this.serializer.fe);return r.j().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:kT();fP(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),RS.forEach(r,(function(e,r){var o=new jE(r),s=_P.de(n.serializer,o),u=a.getIndexManager(o),c=rR.de(o,n.serializer,u,a.referenceDelegate);return new PR(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new kI(t,BS.ct),e).next()}))}))}}]),e}();function BR(e){e.createObjectStore("targetDocuments",{keyPath:aI}).createIndex("documentTargetsIndex",oI,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",iI,{unique:!0}),e.createObjectStore("targetGlobal")}var WR="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",HR=function(){function e(t,n,r,i,a,o,s,u,c,l){var h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(ur(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.ii=a,this.window=o,this.document=s,this.ri=c,this.oi=l,this.ui=h,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=function(e){return Promise.resolve()},!e.D())throw new XE(YE.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new yR(this,i),this.di=n+"main",this.serializer=new sP(u),this.wi=new OS(this.di,this.ui,new VR(this.serializer)),this.Bs=new cR(this.referenceDelegate,this.serializer),this.remoteDocumentCache=_R(this.serializer),this.qs=new bP,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===l&&BE("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return lr(e,[{key:"start",value:function(){var e=this;return this.mi().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new XE(YE.FAILED_PRECONDITION,WR);return e.gi(),e.yi(),e.pi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Bs.getHighestSequenceNumber(t)}))})).then((function(t){e.Os=new BS(t,e.ri)})).then((function(){e.Fs=!0})).catch((function(t){return e.wi&&e.wi.close(),Promise.reject(t)}))}},{key:"Ii",value:function(e){var t=this;return this.fi=function(){var n=ki(mi().mark((function n(r){return mi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.wi.B(function(){var t=ki(mi().mark((function t(n){return mi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(ki(mi().mark((function e(){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.mi();case 4:case"end":return e.stop()}}),e)})))))}},{key:"mi",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return KR(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ti(t).next((function(t){t||(e.isPrimary=!1,e.ii.enqueueRetryable((function(){return e.fi(!1)})))}))})).next((function(){return e.Ei(t)})).next((function(n){return e.isPrimary&&!n?e.Ai(t).next((function(){return!1})):!!n&&e.vi(t).next((function(){return!0}))}))})).catch((function(t){if(MS(t))return VE("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return VE("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.ii.enqueueRetryable((function(){return e.fi(t)})),e.isPrimary=t}))}},{key:"Ti",value:function(e){var t=this;return GR(e).get("owner").next((function(e){return RS.resolve(t.Ri(e))}))}},{key:"Pi",value:function(e){return KR(e).delete(this.clientId)}},{key:"bi",value:function(){var e=ki(mi().mark((function e(){var t,n,r,i,a=this;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Vi(this.li,18e5)){e.next=6;break}return this.li=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=wI(e,"clientMetadata");return t.j().next((function(e){var n=a.Si(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return RS.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._i){n=hr(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._i.removeItem(this.Di(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pi",value:function(){var e=this;this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.mi().then((function(){return e.bi()})).then((function(){return e.pi()}))}))}},{key:"Ri",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Ei",value:function(e){var t=this;return this.oi?RS.resolve(!0):GR(e).get("owner").next((function(n){if(null!==n&&t.Vi(n.leaseTimestampMs,5e3)&&!t.Ci(n.ownerId)){if(t.Ri(n)&&t.networkEnabled)return!0;if(!t.Ri(n)){if(!n.allowTabSynchronization)throw new XE(YE.FAILED_PRECONDITION,WR);return!1}}return!(!t.networkEnabled||!t.inForeground)||KR(e).j().next((function(e){return void 0===t.Si(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&VE("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=ki(mi().mark((function e(){var t=this;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),e.next=7,this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new kI(e,BS.ct);return t.Ai(n).next((function(){return t.Pi(n)}))}));case 7:this.wi.close(),this.Mi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Si",value:function(e,t){var n=this;return e.filter((function(e){return n.Vi(e.updateTimeMs,t)&&!n.Ci(e.clientId)}))}},{key:"$i",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return KR(t).j().next((function(t){return e.Si(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Fs}},{key:"getMutationQueue",value:function(e,t){return rR.de(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new KP(e,this.serializer.fe.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return _P.de(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;VE("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=15===(i=this.ui)?bI:14===i?yI:13===i?gI:12===i?mI:11===i?vI:void GE();return this.wi.runTransaction(e,o,s,(function(i){return a=new kI(i,r.Os?r.Os.next():BS.ct),"readwrite-primary"===t?r.Ti(a).next((function(e){return!!e||r.Ei(a)})).next((function(t){if(!t)throw BE("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.ii.enqueueRetryable((function(){return r.fi(!1)})),new XE(YE.FAILED_PRECONDITION,CS);return n(a)})).next((function(e){return r.vi(a).next((function(){return e}))})):r.Oi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Oi",value:function(e){var t=this;return GR(e).get("owner").next((function(e){if(null!==e&&t.Vi(e.leaseTimestampMs,5e3)&&!t.Ci(e.ownerId)&&!t.Ri(e)&&!(t.oi||t.allowTabSynchronization&&e.allowTabSynchronization))throw new XE(YE.FAILED_PRECONDITION,WR)}))}},{key:"vi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return GR(e).put("owner",t)}},{key:"Ai",value:function(e){var t=this,n=GR(e);return n.get("owner").next((function(e){return t.Ri(e)?(VE("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):RS.resolve()}))}},{key:"Vi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(BE("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"gi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=function(){e.ii.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.mi()}))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ni",value:function(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}},{key:"yi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=function(){t.xi();var e=/(?:Version|Mobile)\/1[456]/;!Ur()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.ii.enterRestrictedMode(!0),t.ii.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ci))}},{key:"ki",value:function(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}},{key:"Ci",value:function(e){var t;try{var n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return VE("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return BE("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xi",value:function(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(rp){BE("Failed to set zombie client id.",rp)}}},{key:"Mi",value:function(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(rp){}}},{key:"Di",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return OS.D()}}]),e}();function GR(e){return wI(e,"owner")}function KR(e){return wI(e,"clientMetadata")}function QR(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var YR=function(){function e(t,n,r,i){ur(this,e),this.targetId=t,this.fromCache=n,this.Fi=r,this.Bi=i}return lr(e,null,[{key:"Li",value:function(t,n){var r,i=kT(),a=kT(),o=hr(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),XR=function(){function e(){ur(this,e),this.qi=!1}return lr(e,[{key:"initialize",value:function(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ki(e,t).next((function(a){return a||i.Gi(e,t,r,n)})).next((function(n){return n||i.Qi(e,t)}))}},{key:"Ki",value:function(e,t){var n=this;if(QC(t))return RS.resolve(null);var r=ZC(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=tT(t,null,"F"),r=ZC(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=kT.apply(void 0,yi(i));return n.Ui.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ji(t,i);return n.zi(t,o,a,r.readTime)?n.Ki(e,tT(t,null,"F")):n.Wi(e,o,t,r)}))}))})))}))}},{key:"Gi",value:function(e,t,n,r){var i=this;return QC(t)||r.isEqual(fS.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((function(a){var o=i.ji(t,a);return i.zi(t,o,n,r)?i.Qi(e,t):(zE()<=Si.DEBUG&&VE("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),iT(t)),i.Wi(e,o,t,xS(r,-1)))}))}},{key:"ji",value:function(e,t){var n=new TI(sT(e));return t.forEach((function(t,r){aT(e,r)&&(n=n.add(r))})),n}},{key:"zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Qi",value:function(e,t){return zE()<=Si.DEBUG&&VE("QueryEngine","Using full collection scan to execute query:",iT(t)),this.Ui.getDocumentsMatchingQuery(e,t,SS.min())}},{key:"Wi",value:function(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),JR=function(){function e(t,n,r,i){ur(this,e),this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new SI(uS),this.Yi=new cT((function(e){return UC(e)}),qC),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(r)}return lr(e,[{key:"tr",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PR(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ji)}))}}]),e}();function $R(e,t,n,r){return new JR(e,t,n,r)}function ZR(e,t){return eA.apply(this,arguments)}function eA(){return eA=ki(mi().mark((function e(t,n){var r;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=QE(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.tr(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=kT(),u=hr(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,h=hr(c.mutations);try{for(h.s();!(l=h.n()).done;){var f=l.value;s=s.add(f.key)}}catch(b){h.e(b)}finally{h.f()}}}catch(b){u.e(b)}finally{u.f()}var d,p=hr(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,g=hr(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;s=s.add(y.key)}}catch(b){g.e(b)}finally{g.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{er:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),eA.apply(this,arguments)}function tA(e,t){var n=QE(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=RS.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);KE(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=kT(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function nA(e){var t=QE(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Bs.getLastRemoteSnapshotVersion(e)}))}function rA(e,t){var n=QE(e),r=t.snapshotVersion,i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Bs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Bs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(OI.EMPTY_BYTE_STRING,fS.min()).withLastLimboFreeSnapshotVersion(fS.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Bs.updateTargetData(e,c))}}));var s=hT(),u=kT();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(iA(e,a,t.documentUpdates).next((function(e){s=e.nr,u=e.sr}))),!r.isEqual(fS.min())){var c=n.Bs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return RS.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Ji=i,e}))}function iA(e,t,n){var r=kT(),i=kT();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=hT();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(fS.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):VE("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{nr:r,sr:i}}))}function aA(e,t){var n=QE(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function oA(e,t){var n=QE(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Bs.getTargetData(e,t).next((function(i){return i?(r=i,RS.resolve(r)):n.Bs.allocateTargetId(e).next((function(i){return r=new oP(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}function sA(e,t,n){return uA.apply(this,arguments)}function uA(){return uA=ki(mi().mark((function e(t,n,r){var i,a,o;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=QE(t),a=i.Ji.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),MS(e.t1)){e.next=12;break}throw e.t1;case 12:VE("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ji=i.Ji.remove(n),i.Yi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),uA.apply(this,arguments)}function cA(e,t,n){var r=QE(e),i=fS.min(),a=kT();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=QE(e),i=r.Yi.get(n);return void 0!==i?RS.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,ZC(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Hi.getDocumentsMatchingQuery(e,t,n?i:fS.min(),n?a:kT())})).next((function(e){return fA(r,oT(t),e),{documents:e,ir:a}}))}))}function lA(e,t){var n=QE(e),r=QE(n.Bs),i=n.Ji.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.le(e,t).next((function(e){return e?e.target:null}))}))}function hA(e,t){var n=QE(e),r=n.Xi.get(t)||fS.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Zi.getAllFromCollectionGroup(e,t,xS(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return fA(n,t,e),e}))}function fA(e,t,n){var r=e.Xi.get(t)||fS.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}function dA(e,t,n,r){return pA.apply(this,arguments)}function pA(){return pA=ki(mi().mark((function e(t,n,r,i){var a,o,s,u,c,l,h,f,d,p;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=QE(t),o=kT(),s=hT(),u=hr(r);try{for(u.s();!(c=u.n()).done;)l=c.value,h=n.rr(l.metadata.name),l.document&&(o=o.add(h)),(f=n.ur(l)).setReadTime(n.cr(l.metadata.readTime)),s=s.insert(h,f)}catch(v){u.e(v)}finally{u.f()}return d=a.Zi.newChangeBuffer({trackRemovals:!0}),e.next=7,oA(a,function(e){return ZC(KC(pS.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return iA(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.Bs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Bs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.nr,t.sr)})).next((function(){return t.nr}))}))})));case 9:case"end":return e.stop()}}),e)}))),pA.apply(this,arguments)}function vA(e,t){return mA.apply(this,arguments)}function mA(){return mA=ki(mi().mark((function e(t,n){var r,i,a,o=arguments;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:kT(),e.next=3,oA(t,ZC(vP(n.bundledQuery)));case 3:return i=e.sent,a=QE(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=DN(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.qs.saveNamedQuery(e,n);var o=i.withResumeToken(OI.EMPTY_BYTE_STRING,t);return a.Ji=a.Ji.insert(o.targetId,o),a.Bs.updateTargetData(e,o).next((function(){return a.Bs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Bs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.qs.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),mA.apply(this,arguments)}function gA(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function yA(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function bA(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var kA=function(){function e(t,n,r,i){ur(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return lr(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new XE(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(BE("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),wA=function(){function e(t,n,r){ur(this,e),this.targetId=t,this.state=n,this.error=r}return lr(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new XE(i.error.code,i.error.message))),a?new e(t,i.state,r):(BE("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),_A=function(){function e(t,n){ur(this,e),this.clientId=t,this.activeTargetIds=n}return lr(e,null,[{key:"ar",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=_T(),o=0;i&&o<r.activeTargetIds.length;++o)i=GS(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(BE("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),xA=function(){function e(t,n){ur(this,e),this.clientId=t,this.onlineState=n}return lr(e,null,[{key:"ar",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(BE("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),EA=function(){function e(){ur(this,e),this.activeTargetIds=_T()}return lr(e,[{key:"lr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"dr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"hr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),SA=function(){function e(t,n,r,i,a){ur(this,e),this.window=t,this.ii=n,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new SI(uS),this.started=!1,this.yr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=gA(this.persistenceKey,this.wr),this.Ir=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new EA),this.Tr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Er=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ar=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.vr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Rr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this._r)}return lr(e,[{key:"start",value:function(){var e=ki(mi().mark((function e(){var t,n,r,i,a,o,s,u,c,l,h,f=this;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.$i();case 2:t=e.sent,n=hr(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.wr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(gA(this.persistenceKey,i)))&&(o=_A.ar(i,a))&&(this.gr=this.gr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Pr(),(s=this.storage.getItem(this.vr))&&(u=this.br(s))&&this.Vr(u),c=hr(this.yr);try{for(c.s();!(l=c.n()).done;)h=l.value,this.mr(h)}catch(d){c.e(d)}finally{c.f()}this.yr=[],this.window.addEventListener("pagehide",(function(){return f.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ir,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Sr(this.gr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.gr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Dr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Dr(e,t,n),this.Cr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(bA(this.persistenceKey,e));if(n){var r=wA.ar(e,n);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Nr.dr(e),this.Pr()}},{key:"isLocalQueryTarget",value:function(e){return this.Nr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(bA(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.kr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Cr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Mr(e)}},{key:"notifyBundleLoaded",value:function(e){this.$r(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return VE("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){VE("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){VE("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"mr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(VE("SharedClientState","EVENT",n.key,n.newValue),n.key===this.pr)return void BE("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable(ki(mi().mark((function e(){var r,i,a,o,s,u,c;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.Tr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Or(n.key),e.abrupt("return",t.Fr(r,null));case 6:if(!(i=t.Br(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Fr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.Er.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Lr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.qr(a));case 16:e.next=41;break;case 18:if(!t.Ar.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Ur(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.vr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.br(n.newValue))){e.next=30;break}return e.abrupt("return",t.Vr(s));case 30:e.next=41;break;case 32:if(n.key!==t.Ir){e.next=37;break}u=function(e){var t=BS.ct;if(null!=e)try{var n=JSON.parse(e);KE("number"==typeof n),t=n}catch(e){BE("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==BS.ct&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.Rr){e.next=41;break}return c=t.Gr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Qr(e)})));case 41:e.next=44;break;case 43:t.yr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Nr",get:function(){return this.gr.get(this.wr)}},{key:"Pr",value:function(){this.setItem(this.pr,this.Nr.hr())}},{key:"Dr",value:function(e,t,n){var r=new kA(this.currentUser,e,t,n),i=yA(this.persistenceKey,this.currentUser,e);this.setItem(i,r.hr())}},{key:"Cr",value:function(e){var t=yA(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Mr",value:function(e){var t={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(t))}},{key:"kr",value:function(e,t,n){var r=bA(this.persistenceKey,e),i=new wA(e,t,n);this.setItem(r,i.hr())}},{key:"$r",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}},{key:"Or",value:function(e){var t=this.Tr.exec(e);return t?t[1]:null}},{key:"Br",value:function(e,t){var n=this.Or(e);return _A.ar(n,t)}},{key:"Lr",value:function(e,t){var n=this.Er.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return kA.ar(new jE(i),r,t)}},{key:"Ur",value:function(e,t){var n=this.Ar.exec(e),r=Number(n[1]);return wA.ar(r,t)}},{key:"br",value:function(e){return xA.ar(e)}},{key:"Gr",value:function(e){return JSON.parse(e)}},{key:"qr",value:function(){var e=ki(mi().mark((function e(t){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.jr(t.batchId,t.state,t.error));case 2:VE("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Kr",value:function(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}},{key:"Fr",value:function(e,t){var n=this,r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),a=this.Sr(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Wr(o,s).then((function(){n.gr=r}))}},{key:"Vr",value:function(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Sr",value:function(e){var t=_T();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),IA=function(){function e(){ur(this,e),this.Hr=new EA,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return lr(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Jr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Hr.dr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Jr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Hr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Hr=new EA,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),CA=function(){function e(){ur(this,e)}return lr(e,[{key:"Yr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),TA=function(){function e(){var t=this;ur(this,e),this.Xr=function(){return t.Zr()},this.eo=function(){return t.no()},this.so=[],this.io()}return lr(e,[{key:"Yr",value:function(e){this.so.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}},{key:"io",value:function(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}},{key:"Zr",value:function(){VE("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=hr(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"no",value:function(){VE("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=hr(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),NA=null;function PA(){return null===NA?NA=268435456+Math.round(2147483648*Math.random()):NA++,"0x"+NA.toString(16)}var RA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},AA=function(){function e(t){ur(this,e),this.ro=t.ro,this.oo=t.oo}return lr(e,[{key:"uo",value:function(e){this.co=e}},{key:"ao",value:function(e){this.ho=e}},{key:"onMessage",value:function(e){this.lo=e}},{key:"close",value:function(){this.oo()}},{key:"send",value:function(e){this.ro(e)}},{key:"fo",value:function(){this.co()}},{key:"wo",value:function(e){this.ho(e)}},{key:"_o",value:function(e){this.lo(e)}}]),e}(),OA="WebChannelConnection",DA=function(e){pr(n,e);var t=gr(n);function n(e){var r;return ur(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return lr(n,[{key:"Ao",value:function(e,t,n,r){var i=PA();return new Promise((function(a,o){var s=new DE;s.setWithCredentials(!0),s.listenOnce(NE.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case TE.NO_ERROR:var t=s.getResponseJson();VE(OA,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case TE.TIMEOUT:VE(OA,"RPC '".concat(e,"' ").concat(i," timed out")),o(new XE(YE.DEADLINE_EXCEEDED,"Request time out"));break;case TE.HTTP_ERROR:var n=s.getStatus();if(VE(OA,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(YE).indexOf(t)>=0?t:YE.UNKNOWN}(u.status);o(new XE(c,u.message))}else o(new XE(YE.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new XE(YE.UNAVAILABLE,"Connection failed."));break;default:GE()}}finally{VE(OA,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);VE(OA,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"Ro",value:function(e,t,n){var r=PA(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=IE(),o=CE(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.xmlHttpFactory=new AE({})),this.Eo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var c=i.join("");VE(OA,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);var l=a.createWebChannel(c,s),h=!1,f=!1,d=new AA({ro:function(t){f?VE(OA,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(VE(OA,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),h=!0),VE(OA,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},oo:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,OE.EventType.OPEN,(function(){f||VE(OA,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,OE.EventType.CLOSE,(function(){f||(f=!0,VE(OA,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.wo())})),p(l,OE.EventType.ERROR,(function(t){f||(f=!0,WE(OA,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.wo(new XE(YE.UNAVAILABLE,"The operation could not be completed")))})),p(l,OE.EventType.MESSAGE,(function(t){var n;if(!f){var i=t.data[0];KE(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){VE(OA,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=ZT[e];if(void 0!==t)return uN(t)}(s),c=o.message;void 0===u&&(u=YE.INTERNAL,c="Unknown error status: "+s+" with message "+o.message),f=!0,d.wo(new XE(u,c)),l.close()}else VE(OA,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d._o(i)}})),p(o,PE.STAT_EVENT,(function(t){t.stat===RE.PROXY?VE(OA,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===RE.NOPROXY&&VE(OA,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.fo()}),0),d}}]),n}(function(){function e(t){ur(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.mo=n+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return lr(e,[{key:"po",get:function(){return!1}},{key:"Io",value:function(e,t,n,r,i){var a=PA(),o=this.To(e,t);VE("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={};return this.Eo(s,r,i),this.Ao(e,o,s,n).then((function(t){return VE("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw WE("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"vo",value:function(e,t,n,r,i,a){return this.Io(e,t,n,r,i)}},{key:"Eo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+UE,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"To",value:function(e,t){var n=RA[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}]),e}());function LA(){return"undefined"!=typeof window?window:null}function MA(){return"undefined"!=typeof document?document:null}function FA(e){return new NN(e,!0)}var jA=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;ur(this,e),this.ii=t,this.timerId=n,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}return lr(e,[{key:"reset",value:function(){this.So=0}},{key:"xo",value:function(){this.So=this.Vo}},{key:"No",value:function(e){var t=this;this.cancel();var n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&VE("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,(function(){return t.Co=Date.now(),e()})),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}},{key:"Mo",value:function(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}},{key:"cancel",value:function(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"ko",value:function(){return(Math.random()-.5)*this.So}}]),e}(),UA=function(){function e(t,n,r,i,a,o,s,u){ur(this,e),this.ii=t,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new jA(t,n)}return lr(e,[{key:"Uo",value:function(){return 1===this.state||5===this.state||this.Ko()}},{key:"Ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Go()}},{key:"stop",value:function(){var e=ki(mi().mark((function e(){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Uo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Qo",value:function(){this.state=0,this.qo.reset()}},{key:"jo",value:function(){var e=this;this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(function(){return e.zo()})))}},{key:"Wo",value:function(e){this.Ho(),this.stream.send(e)}},{key:"zo",value:function(){var e=ki(mi().mark((function e(){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"Jo",value:function(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}},{key:"close",value:function(){var e=ki(mi().mark((function e(t,n){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==t?this.qo.reset():n&&n.code===YE.RESOURCE_EXHAUSTED?(BE(n.toString()),BE("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===YE.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.ao(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Yo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=ir(t,2),i=r[0],a=r[1];e.Fo===n&&e.Zo(i,a)}),(function(n){t((function(){var t=new XE(YE.UNKNOWN,"Fetching auth token failed: "+n.message);return e.tu(t)}))}))}},{key:"Zo",value:function(e,t){var n=this,r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((function(){r((function(){return n.state=2,n.Lo=n.ii.enqueueAfterDelay(n.Oo,1e4,(function(){return n.Ko()&&(n.state=3),Promise.resolve()})),n.listener.uo()}))})),this.stream.ao((function(e){r((function(){return n.tu(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Go",value:function(){var e=this;this.state=5,this.qo.No(ki(mi().mark((function t(){return mi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"tu",value:function(e){return VE("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Xo",value:function(e){var t=this;return function(n){t.ii.enqueueAndForget((function(){return t.Fo===e?n():(VE("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),qA=function(e){pr(n,e);var t=gr(n);function n(e,r,i,a,o,s){var u;return ur(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return lr(n,[{key:"eu",value:function(e,t){return this.connection.Ro("Listen",e,t)}},{key:"onMessage",value:function(e){this.qo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:GE()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(KE(void 0===t||"string"==typeof t),OI.fromBase64String(t||"")):(KE(void 0===t||t instanceof Uint8Array),OI.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?YE.UNKNOWN:uN(e.code);return new XE(t,e.message||"")}(o);n=new wN(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=jN(e,u.document.name),l=DN(u.document.updateTime),h=u.document.createTime?DN(u.document.createTime):fS.min(),f=new lC({mapValue:{fields:u.document.fields}}),d=fC.newFoundDocument(c,l,h,f),p=u.targetIds||[],v=u.removedTargetIds||[];n=new bN(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var g=jN(e,m.document),y=m.readTime?DN(m.readTime):fS.min(),b=fC.newNoDocument(g,y),k=m.removedTargetIds||[];n=new bN([],k,b.key,b)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var _=jN(e,w.document),x=w.removedTargetIds||[];n=new bN([],x,_,null)}else{if(!("filter"in t))return GE();t.filter;var E=t.filter;E.targetId;var S=E.count,I=void 0===S?0:S,C=E.unchangedNames,T=new oN(I,C),N=E.targetId;n=new kN(N,T)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return fS.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?fS.min():t.readTime?DN(t.readTime):fS.min()}(e);return this.listener.nu(t,n)}},{key:"su",value:function(e){var t={};t.database=zN(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=zC(r)?{documents:QN(e,r)}:{query:YN(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=AN(e,t.resumeToken);var i=PN(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(fS.min())>0){n.readTime=RN(e,t.snapshotVersion.toTimestamp());var a=PN(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return GE()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}},{key:"iu",value:function(e){var t={};t.database=zN(this.serializer),t.removeTarget=e,this.Wo(t)}}]),n}(UA),zA=function(e){pr(n,e);var t=gr(n);function n(e,r,i,a,o,s){var u;return ur(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.ru=!1,u}return lr(n,[{key:"ou",get:function(){return this.ru}},{key:"start",value:function(){this.ru=!1,this.lastStreamToken=void 0,Ja(vr(n.prototype),"start",this).call(this)}},{key:"Yo",value:function(){this.ru&&this.uu([])}},{key:"eu",value:function(e,t){return this.connection.Ro("Write",e,t)}},{key:"onMessage",value:function(e){if(KE(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();var t=function(e,t){return e&&e.length>0?(KE(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?DN(e.updateTime):DN(t);return n.isEqual(fS.min())&&(n=DN(t)),new UT(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=DN(e.commitTime);return this.listener.cu(n,t)}return KE(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}},{key:"hu",value:function(){var e={};e.database=zN(this.serializer),this.Wo(e)}},{key:"uu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return GN(t.serializer,e)}))};this.Wo(n)}}]),n}(UA),VA=function(e){pr(n,e);var t=gr(n);function n(e,r,i,a){var o;return ur(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.lu=!1,o}return lr(n,[{key:"fu",value:function(){if(this.lu)throw new XE(YE.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Io",value:function(e,t,n){var r=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=ir(i,2),o=a[0],s=a[1];return r.connection.Io(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===YE.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new XE(YE.UNKNOWN,e.toString())}))}},{key:"vo",value:function(e,t,n,r){var i=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=ir(a,2),s=o[0],u=o[1];return i.connection.vo(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===YE.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new XE(YE.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.lu=!0}}]),n}(function(){return lr((function e(){ur(this,e)}))}());var BA=function(){function e(t,n){ur(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}return lr(e,[{key:"gu",value:function(){var e=this;0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e._u=null,e.pu("Backend didn't respond within 10 seconds."),e.yu("Offline"),Promise.resolve()})))}},{key:"Iu",value:function(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}},{key:"set",value:function(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}},{key:"yu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"pu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(BE(t),this.mu=!1):VE("OnlineStateTracker",t)}},{key:"Tu",value:function(){null!==this._u&&(this._u.cancel(),this._u=null)}}]),e}(),WA=lr((function e(t,n,r,i,a){var o=this;ur(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr((function(e){r.enqueueAndForget(ki(mi().mark((function e(){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=tO(o),!e.t0){e.next=5;break}return VE("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=ki(mi().mark((function e(t){var n;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=QE(t)).vu.add(4),e.next=4,KA(n);case 4:return n.bu.set("Unknown"),n.vu.delete(4),e.next=8,HA(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.bu=new BA(r,i)}));function HA(e){return GA.apply(this,arguments)}function GA(){return GA=ki(mi().mark((function e(t){var n,r,i;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!tO(t)){e.next=18;break}n=hr(t.Ru),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),GA.apply(this,arguments)}function KA(e){return QA.apply(this,arguments)}function QA(){return QA=ki(mi().mark((function e(t){var n,r,i;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=hr(t.Ru),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),QA.apply(this,arguments)}function YA(e,t){var n=QE(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),eO(n)?ZA(n):PO(n).Ko()&&JA(n,t))}function XA(e,t){var n=QE(e),r=PO(n);n.Au.delete(t),r.Ko()&&$A(n,t),0===n.Au.size&&(r.Ko()?r.jo():tO(n)&&n.bu.set("Unknown"))}function JA(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(fS.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}PO(e).su(t)}function $A(e,t){e.Vu.qt(t),PO(e).iu(t)}function ZA(e){e.Vu=new xN({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},le:function(t){return e.Au.get(t)||null},ue:function(){return e.datastore.serializer.databaseId}}),PO(e).start(),e.bu.gu()}function eO(e){return tO(e)&&!PO(e).Uo()&&e.Au.size>0}function tO(e){return 0===QE(e).vu.size}function nO(e){e.Vu=void 0}function rO(e){return iO.apply(this,arguments)}function iO(){return iO=ki(mi().mark((function e(t){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Au.forEach((function(e,n){JA(t,e)}));case 1:case"end":return e.stop()}}),e)}))),iO.apply(this,arguments)}function aO(e,t){return oO.apply(this,arguments)}function oO(){return oO=ki(mi().mark((function e(t,n){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:nO(t),eO(t)?(t.bu.Iu(n),ZA(t)):t.bu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),oO.apply(this,arguments)}function sO(e,t,n){return uO.apply(this,arguments)}function uO(){return uO=ki(mi().mark((function e(t,n,r){var i;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.bu.set("Online"),!(n instanceof wN&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=ki(mi().mark((function e(t,n){var r,i,a,o;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=hr(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Au.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Au.delete(o),t.Vu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),VE("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,cO(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof bN?t.Vu.Ht(n):n instanceof kN?t.Vu.ne(n):t.Vu.Xt(n),r.isEqual(fS.min())){e.next=29;break}return e.prev=14,e.next=17,nA(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Vu.ce(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.Au.get(t);if(r){e.Au.set(t,r.withResumeToken(OI.EMPTY_BYTE_STRING,r.snapshotVersion)),$A(e,t);var i=new oP(r.target,t,n,r.sequenceNumber);JA(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),VE("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,cO(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),uO.apply(this,arguments)}function cO(e,t,n){return lO.apply(this,arguments)}function lO(){return lO=ki(mi().mark((function e(t,n,r){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(MS(n)){e.next=2;break}throw n;case 2:return t.vu.add(1),e.next=5,KA(t);case 5:t.bu.set("Offline"),r||(r=function(){return nA(t.localStore)}),t.asyncQueue.enqueueRetryable(ki(mi().mark((function e(){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return VE("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.vu.delete(1),e.next=6,HA(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),lO.apply(this,arguments)}function hO(e,t){return t().catch((function(n){return cO(e,n,t)}))}function fO(e){return dO.apply(this,arguments)}function dO(){return dO=ki(mi().mark((function e(t){var n,r,i,a;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=QE(t),r=RO(n),i=n.Eu.length>0?n.Eu[n.Eu.length-1].batchId:-1;case 2:if(!pO(n)){e.next=19;break}return e.prev=3,e.next=6,aA(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Eu.length&&r.jo(),e.abrupt("break",19);case 10:i=a.batchId,vO(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,cO(n,e.t0);case 17:e.next=2;break;case 19:mO(n)&&gO(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),dO.apply(this,arguments)}function pO(e){return tO(e)&&e.Eu.length<10}function vO(e,t){e.Eu.push(t);var n=RO(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function mO(e){return tO(e)&&!RO(e).Uo()&&e.Eu.length>0}function gO(e){RO(e).start()}function yO(e){return bO.apply(this,arguments)}function bO(){return bO=ki(mi().mark((function e(t){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:RO(t).hu();case 1:case"end":return e.stop()}}),e)}))),bO.apply(this,arguments)}function kO(e){return wO.apply(this,arguments)}function wO(){return wO=ki(mi().mark((function e(t){var n,r,i,a;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=RO(t),r=hr(t.Eu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.uu(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),wO.apply(this,arguments)}function _O(e,t,n){return xO.apply(this,arguments)}function xO(){return xO=ki(mi().mark((function e(t,n,r){var i,a;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Eu.shift(),a=iN.from(i,n,r),e.next=3,hO(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,fO(t);case 5:case"end":return e.stop()}}),e)}))),xO.apply(this,arguments)}function EO(e,t){return SO.apply(this,arguments)}function SO(){return SO=ki(mi().mark((function e(t,n){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&RO(t).ou,!e.t0){e.next=4;break}return e.next=4,function(){var e=ki(mi().mark((function e(t,n){var r,i;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!sN(i=n.code)||i===YE.ABORTED){e.next=7;break}return r=t.Eu.shift(),RO(t).Qo(),e.next=5,hO(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,fO(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:mO(t)&&gO(t);case 5:case"end":return e.stop()}}),e)}))),SO.apply(this,arguments)}function IO(e,t){return CO.apply(this,arguments)}function CO(){return CO=ki(mi().mark((function e(t,n){var r,i;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=QE(t)).asyncQueue.verifyOperationInProgress(),VE("RemoteStore","RemoteStore received new credentials"),i=tO(r),r.vu.add(3),e.next=6,KA(r);case 6:return i&&r.bu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.vu.delete(3),e.next=12,HA(r);case 12:case"end":return e.stop()}}),e)}))),CO.apply(this,arguments)}function TO(e,t){return NO.apply(this,arguments)}function NO(){return NO=ki(mi().mark((function e(t,n){var r;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=QE(t),!n){e.next=7;break}return r.vu.delete(2),e.next=5,HA(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.vu.add(2),e.next=12,KA(r);case 12:r.bu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),NO.apply(this,arguments)}function PO(e){return e.Su||(e.Su=function(e,t,n){var r=QE(e);return r.fu(),new qA(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:rO.bind(null,e),ao:aO.bind(null,e),nu:sO.bind(null,e)}),e.Ru.push(function(){var t=ki(mi().mark((function t(n){return mi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Su.Qo(),eO(e)?ZA(e):e.bu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Su.stop();case 6:nO(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Su}function RO(e){return e.Du||(e.Du=function(e,t,n){var r=QE(e);return r.fu(),new zA(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:yO.bind(null,e),ao:EO.bind(null,e),au:kO.bind(null,e),cu:_O.bind(null,e)}),e.Ru.push(function(){var t=ki(mi().mark((function t(n){return mi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Du.Qo(),t.next=4,fO(e);case 4:t.next=9;break;case 6:return t.next=8,e.Du.stop();case 8:e.Eu.length>0&&(VE("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Du}var AO=function(){function e(t,n,r,i,a){ur(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new JE,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return lr(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new XE(YE.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function OO(e,t){if(BE("AsyncQueue","".concat(t,": ").concat(e)),MS(e))return new XE(YE.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var DO=function(){function e(t){ur(this,e),this.comparator=t?function(e,n){return t(e,n)||gS.comparator(e.key,n.key)}:function(e,t){return gS.comparator(e.key,t.key)},this.keyedMap=dT(),this.sortedSet=new SI(this.comparator)}return lr(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),LO=function(){function e(){ur(this,e),this.Cu=new SI(gS.comparator)}return lr(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):GE():this.Cu=this.Cu.insert(t,e)}},{key:"xu",value:function(){var e=[];return this.Cu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),MO=function(){function e(t,n,r,i,a,o,s,u,c){ur(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return lr(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nT(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,DO.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),FO=lr((function e(){ur(this,e),this.Nu=void 0,this.listeners=[]})),jO=lr((function e(){ur(this,e),this.queries=new cT((function(e){return rT(e)}),nT),this.onlineState="Unknown",this.ku=new Set}));function UO(e,t){return qO.apply(this,arguments)}function qO(){return qO=ki(mi().mark((function e(t,n){var r,i,a,o,s;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=QE(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new FO),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Nu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=OO(e.t0,"Initialization of query '".concat(iT(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Mu(r.onlineState),o.Nu&&n.$u(o.Nu)&&HO(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),qO.apply(this,arguments)}function zO(e,t){return VO.apply(this,arguments)}function VO(){return VO=ki(mi().mark((function e(t,n){var r,i,a,o,s;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=QE(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),VO.apply(this,arguments)}function BO(e,t){var n,r=QE(e),i=!1,a=hr(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=hr(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.$u(o)&&(i=!0)}}catch(h){l.e(h)}finally{l.f()}u.Nu=o}}}catch(h){a.e(h)}finally{a.f()}i&&HO(r)}function WO(e,t,n){var r=QE(e),i=r.queries.get(t);if(i){var a,o=hr(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function HO(e){e.ku.forEach((function(e){e.next()}))}var GO=function(){function e(t,n,r){ur(this,e),this.query=t,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}return lr(e,[{key:"$u",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=hr(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new MO(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),a=!0):this.qu(e,this.onlineState)&&(this.Uu(e),a=!0),this.Bu=e,a}},{key:"onError",value:function(e){this.Ou.error(e)}},{key:"Mu",value:function(e){this.onlineState=e;var t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}},{key:"qu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Lu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Uu",value:function(e){e=MO.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}]),e}(),KO=function(){function e(t,n){ur(this,e),this.Gu=t,this.byteLength=n}return lr(e,[{key:"Qu",value:function(){return"metadata"in this.Gu}}]),e}(),QO=function(){function e(t){ur(this,e),this.serializer=t}return lr(e,[{key:"rr",value:function(e){return jN(this.serializer,e)}},{key:"ur",value:function(e){return e.metadata.exists?WN(this.serializer,e.document,!1):fC.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}},{key:"cr",value:function(e){return DN(e)}}]),e}(),YO=function(){function e(t,n,r){ur(this,e),this.ju=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=XO(t)}return lr(e,[{key:"zu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;var n=pS.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Wu",value:function(e){var t,n=new Map,r=new QO(this.serializer),i=hr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.rr(a.metadata.name),u=hr(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||kT()).add(s);n.set(c,l)}}catch(h){u.e(h)}finally{u.f()}}}}catch(h){i.e(h)}finally{i.f()}return n}},{key:"complete",value:function(){var e=ki(mi().mark((function e(){var t,n,r,i,a;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dA(this.localStore,new QO(this.serializer),this.documents,this.ju.id);case 2:t=e.sent,n=this.Wu(this.documents),r=hr(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,vA(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function XO(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var JO=lr((function e(t){ur(this,e),this.key=t})),$O=lr((function e(t){ur(this,e),this.key=t})),ZO=function(){function e(t,n){ur(this,e),this.query=t,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=kT(),this.mutatedKeys=kT(),this.tc=sT(t),this.ec=new DO(this.tc)}return lr(e,[{key:"nc",get:function(){return this.Yu}},{key:"sc",value:function(e,t){var n=this,r=t?t.ic:new LO,i=t?t.ec:this.ec,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=aT(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.rc(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.tc(h,u)>0||c&&n.tc(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(o=o.add(h),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:s,mutatedKeys:a}}},{key:"rc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;var a=e.ic.xu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return GE()}};return n(e)-n(t)}(e.type,t.type)||r.tc(e.doc,t.doc)})),this.oc(n);var o=t?this.uc():[],s=0===this.Zu.size&&this.current?1:0,u=s!==this.Xu;return this.Xu=s,0!==a.length||u?{snapshot:new MO(this.query,e.ec,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}},{key:"Mu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new LO,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}},{key:"ac",value:function(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}},{key:"oc",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Yu=t.Yu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Yu=t.Yu.delete(e)})),this.current=e.current)}},{key:"uc",value:function(){var e=this;if(!this.current)return[];var t=this.Zu;this.Zu=kT(),this.ec.forEach((function(t){e.ac(t.key)&&(e.Zu=e.Zu.add(t.key))}));var n=[];return t.forEach((function(t){e.Zu.has(t)||n.push(new $O(t))})),this.Zu.forEach((function(e){t.has(e)||n.push(new JO(e))})),n}},{key:"hc",value:function(e){this.Yu=e.ir,this.Zu=kT();var t=this.sc(e.documents);return this.applyChanges(t,!0)}},{key:"lc",value:function(){return MO.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}]),e}(),eD=lr((function e(t,n,r){ur(this,e),this.query=t,this.targetId=n,this.view=r})),tD=lr((function e(t){ur(this,e),this.key=t,this.fc=!1})),nD=function(){function e(t,n,r,i,a,o){ur(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new cT((function(e){return rT(e)}),nT),this._c=new Map,this.mc=new Set,this.gc=new SI(gS.comparator),this.yc=new Map,this.Ic=new OR,this.Tc={},this.Ec=new Map,this.Ac=uR.Mn(),this.onlineState="Unknown",this.vc=void 0}return lr(e,[{key:"isPrimaryClient",get:function(){return!0===this.vc}}]),e}();function rD(e,t){return iD.apply(this,arguments)}function iD(){return iD=ki(mi().mark((function e(t,n){var r,i,a,o,s,u;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=XD(t),!(o=r.wc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.lc(),e.next=15;break;case 6:return e.next=8,oA(r.localStore,ZC(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,aD(r,n,i,"current"===u,s.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&YA(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),iD.apply(this,arguments)}function aD(e,t,n,r,i){return oD.apply(this,arguments)}function oD(){return oD=ki(mi().mark((function e(t,n,r,i,a){var o,s,u,c,l,h;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Rc=function(e,n,r){return function(){var e=ki(mi().mark((function e(t,n,r,i){var a,o,s;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.sc(r),e.t0=a.zi,!e.t0){e.next=6;break}return e.next=5,cA(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.sc(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(ID(t,n.targetId,s.cc),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,cA(t.localStore,n,!0);case 3:return o=e.sent,s=new ZO(n,o.ir),u=s.sc(o.documents),c=yN.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),ID(t,r,l.cc),h=new eD(n,r,s),e.abrupt("return",(t.wc.set(n,h),t._c.has(r)?t._c.get(r).push(n):t._c.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),oD.apply(this,arguments)}function sD(e,t){return uD.apply(this,arguments)}function uD(){return uD=ki(mi().mark((function e(t,n){var r,i,a;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=QE(t),i=r.wc.get(n),!((a=r._c.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r._c.set(i.targetId,a.filter((function(e){return!nT(e,n)}))),void r.wc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,sA(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),XA(r.remoteStore,i.targetId),ED(r,i.targetId)})).catch(NS);case 9:e.next=14;break;case 11:return ED(r,i.targetId),e.next=14,sA(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),uD.apply(this,arguments)}function cD(e,t,n){return lD.apply(this,arguments)}function lD(){return lD=ki(mi().mark((function e(t,n,r){var i,a,o;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=JD(t),e.prev=1,e.next=4,function(e,t){var n,r,i=QE(e),a=hS.now(),o=t.reduce((function(e,t){return e.add(t.key)}),kT());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=hT(),u=kT();return i.Zi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=hr(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=GT(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new YT(c.key,l,hC(l.value.mapValue),qT.exists(!0)))}}catch(h){u.e(h)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:pT(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Tc[e.currentUser.toKey()];r||(r=new SI(uS)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,ND(i,a.changes);case 9:return e.next=11,fO(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=OO(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),lD.apply(this,arguments)}function hD(e,t){return fD.apply(this,arguments)}function fD(){return fD=ki(mi().mark((function e(t,n){var r,i;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=QE(t),e.prev=1,e.next=4,rA(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.yc.get(t);n&&(KE(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.fc=!0:e.modifiedDocuments.size>0?KE(n.fc):e.removedDocuments.size>0&&(KE(n.fc),n.fc=!1))})),e.next=8,ND(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,NS(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),fD.apply(this,arguments)}function dD(e,t,n){var r=QE(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.wc.forEach((function(e,n){var r=n.view.Mu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=QE(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=hr(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Mu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&HO(n)}(r.eventManager,t),i.length&&r.dc.nu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function pD(e,t,n){return vD.apply(this,arguments)}function vD(){return vD=ki(mi().mark((function e(t,n,r){var i,a,o,s,u,c;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=QE(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.yc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new SI(gS.comparator)).insert(o,fC.newNoDocument(o,fS.min())),u=kT().add(o),c=new gN(fS.min(),new Map,new SI(uS),s,u),e.next=9,hD(i,c);case 9:i.gc=i.gc.remove(o),i.yc.delete(n),TD(i),e.next=16;break;case 14:return e.next=16,sA(i.localStore,n,!1).then((function(){return ED(i,n,r)})).catch(NS);case 16:case"end":return e.stop()}}),e)}))),vD.apply(this,arguments)}function mD(e,t){return gD.apply(this,arguments)}function gD(){return gD=ki(mi().mark((function e(t,n){var r,i,a;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=QE(t),i=n.batch.batchId,e.prev=1,e.next=4,tA(r.localStore,n);case 4:return a=e.sent,xD(r,i,null),_D(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,ND(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,NS(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),gD.apply(this,arguments)}function yD(e,t,n){return bD.apply(this,arguments)}function bD(){return bD=ki(mi().mark((function e(t,n,r){var i,a;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=QE(t),e.prev=1,e.next=4,function(e,t){var n=QE(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return KE(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,xD(i,n,r),_D(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,ND(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,NS(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),bD.apply(this,arguments)}function kD(e,t){return wD.apply(this,arguments)}function wD(){return wD=ki(mi().mark((function e(t,n){var r,i,a,o;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tO((r=QE(t)).remoteStore)||VE("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=QE(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Ec.get(i)||[]).push(n),r.Ec.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=OO(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),wD.apply(this,arguments)}function _D(e,t){(e.Ec.get(t)||[]).forEach((function(e){e.resolve()})),e.Ec.delete(t)}function xD(e,t,n){var r=QE(e),i=r.Tc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function ED(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=hr(e._c.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.wc.delete(a),n&&e.dc.Pc(a,n)}}catch(o){i.e(o)}finally{i.f()}e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((function(t){e.Ic.containsKey(t)||SD(e,t)}))}function SD(e,t){e.mc.delete(t.path.canonicalString());var n=e.gc.get(t);null!==n&&(XA(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),TD(e))}function ID(e,t,n){var r,i=hr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof JO?(e.Ic.addReference(a.key,t),CD(e,a)):a instanceof $O?(VE("SyncEngine","Document no longer in limbo: "+a.key),e.Ic.removeReference(a.key,t),e.Ic.containsKey(a.key)||SD(e,a.key)):GE()}}catch(o){i.e(o)}finally{i.f()}}function CD(e,t){var n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(VE("SyncEngine","New document in limbo: "+n),e.mc.add(r),TD(e))}function TD(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){var t=e.mc.values().next().value;e.mc.delete(t);var n=new gS(pS.fromString(t)),r=e.Ac.next();e.yc.set(r,new tD(n)),e.gc=e.gc.insert(n,r),YA(e.remoteStore,new oP(ZC(KC(n.path)),r,"TargetPurposeLimboResolution",BS.ct))}}function ND(e,t,n){return PD.apply(this,arguments)}function PD(){return PD=ki(mi().mark((function e(t,n,r){var i,a,o,s;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=QE(t),a=[],o=[],s=[],e.t0=i.wc.isEmpty(),e.t0){e.next=9;break}return i.wc.forEach((function(e,t){s.push(i.Rc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=YR.Li(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.dc.nu(a),e.next=9,function(){var e=ki(mi().mark((function e(t,n){var r,i,a,o,s,u,c,l;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=QE(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return RS.forEach(n,(function(t){return RS.forEach(t.Fi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return RS.forEach(t.Bi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),MS(e.t0)){e.next=10;break}throw e.t0;case 10:VE("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=hr(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Ji.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.Ji=r.Ji.insert(s,l))}catch(h){i.e(h)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),PD.apply(this,arguments)}function RD(e,t){return AD.apply(this,arguments)}function AD(){return AD=ki(mi().mark((function e(t,n){var r,i;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=QE(t)).currentUser.isEqual(n)){e.next=11;break}return VE("SyncEngine","User change. New user:",n.toKey()),e.next=5,ZR(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Ec.forEach((function(e){e.forEach((function(e){e.reject(new XE(YE.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,ND(r,i.er);case 11:case"end":return e.stop()}}),e)}))),AD.apply(this,arguments)}function OD(e,t){var n=QE(e),r=n.yc.get(t);if(r&&r.fc)return kT().add(r.key);var i=kT(),a=n._c.get(t);if(!a)return i;var o,s=hr(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.wc.get(u);i=i.unionWith(c.view.nc)}}catch(l){s.e(l)}finally{s.f()}return i}function DD(e,t){return LD.apply(this,arguments)}function LD(){return LD=ki(mi().mark((function e(t,n){var r,i,a;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=QE(t),e.next=3,cA(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.hc(i),e.abrupt("return",(r.isPrimaryClient&&ID(r,n.targetId,a.cc),a));case 6:case"end":return e.stop()}}),e)}))),LD.apply(this,arguments)}function MD(e,t){return FD.apply(this,arguments)}function FD(){return FD=ki(mi().mark((function e(t,n){var r;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=QE(t),e.abrupt("return",hA(r.localStore,n).then((function(e){return ND(r,e)})));case 2:case"end":return e.stop()}}),e)}))),FD.apply(this,arguments)}function jD(e,t,n,r){return UD.apply(this,arguments)}function UD(){return UD=ki(mi().mark((function e(t,n,r,i){var a,o;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=QE(t),e.next=3,function(e,t){var n=QE(e),r=QE(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Sn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):RS.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,fO(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(xD(a,n,i||null),_D(a,n),function(e,t){QE(QE(e).mutationQueue).Cn(t)}(a.localStore,n)):GE();case 11:return e.next=13,ND(a,o);case 13:e.next=16;break;case 15:VE("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),UD.apply(this,arguments)}function qD(e,t){return zD.apply(this,arguments)}function zD(){return zD=ki(mi().mark((function e(t,n){var r,i,a,o,s,u,c,l;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(XD(r=QE(t)),JD(r),!0!==n||!0===r.vc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,VD(r,i.toArray());case 5:return a=e.sent,r.vc=!0,e.next=9,TO(r.remoteStore,!0);case 9:o=hr(a);try{for(o.s();!(s=o.n()).done;)u=s.value,YA(r.remoteStore,u)}catch(h){o.e(h)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.vc){e.next=25;break}return c=[],l=Promise.resolve(),r._c.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return ED(r,t),sA(r.localStore,t,!0)})),XA(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,VD(r,c);case 21:return function(e){var t=QE(e);t.yc.forEach((function(e,n){XA(t.remoteStore,n)})),t.Ic.Ts(),t.yc=new Map,t.gc=new SI(gS.comparator)}(r),r.vc=!1,e.next=25,TO(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),zD.apply(this,arguments)}function VD(e,t,n){return BD.apply(this,arguments)}function BD(){return BD=ki(mi().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,f,d,p,v,m,g;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=QE(t),a=[],o=[],s=hr(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(h=i._c.get(c))||0===h.length){e.next=34;break}return e.next=11,oA(i.localStore,ZC(h[0]));case 11:l=e.sent,f=hr(h),e.prev=13,f.s();case 15:if((d=f.n()).done){e.next=24;break}return p=d.value,v=i.wc.get(p),e.next=20,DD(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),f.e(e.t0);case 29:return e.prev=29,f.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,lA(i.localStore,c);case 36:return g=e.sent,e.next=39,oA(i.localStore,g);case 39:return l=e.sent,e.next=42,aD(i,WD(g),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.dc.nu(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),BD.apply(this,arguments)}function WD(e){return GC(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function HD(e){var t=QE(e);return QE(QE(t.localStore).persistence).$i()}function GD(e,t,n,r){return KD.apply(this,arguments)}function KD(){return KD=ki(mi().mark((function e(t,n,r,i){var a,o,s,u;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=QE(t)).vc){e.next=3;break}return e.abrupt("return",void VE("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a._c.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,hA(a.localStore,oT(o[0]));case 10:return s=e.sent,u=gN.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,OI.EMPTY_BYTE_STRING),e.next=14,ND(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,sA(a.localStore,n,!0);case 17:return ED(a,n,i),e.abrupt("break",20);case 19:GE();case 20:case"end":return e.stop()}}),e)}))),KD.apply(this,arguments)}function QD(e,t,n){return YD.apply(this,arguments)}function YD(){return YD=ki(mi().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,f;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=XD(t)).vc){e.next=45;break}a=hr(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i._c.has(s)){e.next=10;break}return VE("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,lA(i.localStore,s);case 12:return u=e.sent,e.next=15,oA(i.localStore,u);case 15:return c=e.sent,e.next=18,aD(i,WD(u),c.targetId,!1,c.resumeToken);case 18:YA(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=hr(r),e.prev=30,f=mi().mark((function e(){var t;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.value,e.t0=i._c.has(t),!e.t0){e.next=5;break}return e.next=5,sA(i.localStore,t,!1).then((function(){XA(i.remoteStore,t),ED(i,t)})).catch(NS);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((h=l.n()).done){e.next=37;break}return e.delegateYield(f(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),YD.apply(this,arguments)}function XD(e){var t=QE(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=hD.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=OD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=pD.bind(null,t),t.dc.nu=BO.bind(null,t.eventManager),t.dc.Pc=WO.bind(null,t.eventManager),t}function JD(e){var t=QE(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=mD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yD.bind(null,t),t}function $D(e,t,n){var r=QE(e);(function(){var e=ki(mi().mark((function e(t,n,r){var i,a,o,s,u;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=QE(e),r=DN(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.qs.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(XO(i)),a=new YO(i,t.localStore,n.serializer),e.next=15,n.bc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.zu(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.bc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,ND(t,u.Ju,void 0);case 31:return e.next=33,function(e,t){var n=QE(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.qs.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Hu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(WE("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var ZD=function(){function e(){ur(this,e),this.synchronizeTabs=!1}return lr(e,[{key:"initialize",value:function(){var e=ki(mi().mark((function e(t){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=FA(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return $R(this.persistence,new XR,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new UR(zR.zs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new IA}},{key:"terminate",value:function(){var e=ki(mi().mark((function e(){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),eL=function(e){pr(n,e);var t=gr(n);function n(e,r,i){var a;return ur(this,n),(a=t.call(this)).Vc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return lr(n,[{key:"initialize",value:function(){var e=ki(mi().mark((function e(t){var r=this;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ja(vr(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Vc.initialize(this,t);case 4:return e.next=6,JD(this.Vc.syncEngine);case 6:return e.next=8,fO(this.Vc.remoteStore);case 8:return e.next=10,this.persistence.Ii((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return $R(this.persistence,new XR,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new vR(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new VS(t,this.persistence);return new zS(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=QR(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?eR.withCacheSize(this.cacheSizeBytes):eR.DEFAULT;return new HR(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,LA(),MA(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new IA}}]),n}(ZD),tL=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this,e,r,!1)).Vc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return lr(n,[{key:"initialize",value:function(){var e=ki(mi().mark((function e(t){var r,i=this;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ja(vr(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Vc.syncEngine,e.t0=this.sharedClientState instanceof SA,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={jr:jD.bind(null,r),zr:GD.bind(null,r),Wr:QD.bind(null,r),$i:HD.bind(null,r),Qr:MD.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ii(function(){var e=ki(mi().mark((function e(t){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qD(i.Vc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=LA();if(!SA.D(t))throw new XE(YE.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=QR(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new SA(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(eL),nL=function(){function e(){ur(this,e)}return lr(e,[{key:"initialize",value:function(){var e=ki(mi().mark((function e(t,n){var r=this;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return dD(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=RD.bind(null,this.syncEngine),e.next=12,TO(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new jO}},{key:"createDatastore",value:function(e){var t,n=FA(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new DA(t));return function(e,t,n,r){return new VA(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return dD(o.syncEngine,e,0)},a=TA.D()?new TA:new CA,new WA(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new nD(e,t,n,r,i,a);return o&&(s.vc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=ki(mi().mark((function e(t){var n;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=QE(t),VE("RemoteStore","RemoteStore shutting down."),n.vu.add(5),e.next=5,KA(n);case 5:n.Pu.shutdown(),n.bu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function rL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return ki(mi().mark((function r(){var i;return mi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return ki(mi().mark((function e(){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var iL=function(){function e(t){ur(this,e),this.observer=t,this.muted=!1}return lr(e,[{key:"next",value:function(e){this.observer.next&&this.Sc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Sc(this.observer.error,e):BE("Uncaught Error in snapshot listener:",e.toString())}},{key:"Dc",value:function(){this.muted=!0}},{key:"Sc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),aL=function(){function e(t,n){var r=this;ur(this,e),this.Cc=t,this.serializer=n,this.metadata=new JE,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then((function(e){e&&e.Qu()?r.metadata.resolve(e.Gu.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Gu))))}),(function(e){return r.metadata.reject(e)}))}return lr(e,[{key:"close",value:function(){return this.Cc.cancel()}},{key:"getMetadata",value:function(){var e=ki(mi().mark((function e(){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bc",value:function(){var e=ki(mi().mark((function e(){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Nc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Nc",value:function(){var e=ki(mi().mark((function e(){var t,n,r,i;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.kc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.xc.decode(t),r=Number(n),isNaN(r)&&this.Mc("length string (".concat(n,") is not valid number")),e.next=9,this.$c(r);case 9:return i=e.sent,e.abrupt("return",new KO(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"kc",value:function(){var e=ki(mi().mark((function e(){var t,n;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Oc()<0)){e.next=7;break}return e.next=3,this.Fc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Oc())<0&&this.Mc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$c",value:function(){var e=ki(mi().mark((function e(t){var n;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Fc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Mc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.xc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mc",value:function(e){throw this.Cc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Fc",value:function(){var e=ki(mi().mark((function e(){var t,n;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Cc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),oL=function(){function e(t){ur(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return lr(e,[{key:"lookup",value:function(){var e=ki(mi().mark((function e(t){var n,r=this;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new XE(YE.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=ki(mi().mark((function e(t,n){var r,i,a,o,s,u;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=QE(t),i=zN(r.serializer)+"/documents",a={documents:n.map((function(e){return FN(r.serializer,e)}))},e.next=5,r.vo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=HN(r.serializer,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());KE(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new tN(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=ki(mi().mark((function e(){var t,n=this;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=gS.fromPath(t);n.mutations.push(new nN(r,n.precondition(r)))})),e.next=7,function(){var e=ki(mi().mark((function e(t,n){var r,i,a;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=QE(t),i=zN(r.serializer)+"/documents",a={writes:n.map((function(e){return GN(r.serializer,e)}))},e.next=3,r.Io("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw GE();t=fS.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new XE(YE.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(fS.min())?qT.exists(!1):qT.updateTime(t):qT.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(fS.min()))throw new XE(YE.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return qT.updateTime(t)}return qT.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),sL=function(){function e(t,n,r,i,a){ur(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Bc=r.maxAttempts,this.qo=new jA(this.asyncQueue,"transaction_retry")}return lr(e,[{key:"run",value:function(){this.Bc-=1,this.Lc()}},{key:"Lc",value:function(){var e=this;this.qo.No(ki(mi().mark((function t(){var n,r;return mi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new oL(e.datastore),(r=e.qc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Uc(t)}))}))})).catch((function(t){e.Uc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"qc",value:function(e){try{var t=this.updateFunction(e);return!WS(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Uc",value:function(e){var t=this;this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Lc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!sN(t)}return!1}}]),e}(),uL=function(){function e(t,n,r,i){var a=this;ur(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=jE.UNAUTHENTICATED,this.clientId=sS.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=ki(mi().mark((function e(t){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return VE("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return VE("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return lr(e,[{key:"getConfiguration",value:function(){var e=ki(mi().mark((function e(){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new XE(YE.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new JE;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(ki(mi().mark((function n(){var r;return mi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=OO(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function cL(e,t){return lL.apply(this,arguments)}function lL(){return lL=ki(mi().mark((function e(t,n){var r,i;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),VE("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=ki(mi().mark((function e(t){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,ZR(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),lL.apply(this,arguments)}function hL(e,t){return fL.apply(this,arguments)}function fL(){return fL=ki(mi().mark((function e(t,n){var r,i;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,pL(t);case 3:return r=e.sent,VE("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return IO(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return IO(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),fL.apply(this,arguments)}function dL(e){return"FirebaseError"===e.name?e.code===YE.FAILED_PRECONDITION||e.code===YE.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function pL(e){return vL.apply(this,arguments)}function vL(){return vL=ki(mi().mark((function e(t){var n;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return VE("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,cL(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),dL(n=e.t0)){e.next=13;break}throw n;case 13:return WE("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,cL(t,new ZD);case 16:e.next=21;break;case 18:return VE("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,cL(t,new ZD);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])}))),vL.apply(this,arguments)}function mL(e){return gL.apply(this,arguments)}function gL(){return gL=ki(mi().mark((function e(t){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return VE("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,hL(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return VE("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,hL(t,new nL);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)}))),gL.apply(this,arguments)}function yL(e){return pL(e).then((function(e){return e.persistence}))}function bL(e){return pL(e).then((function(e){return e.localStore}))}function kL(e){return mL(e).then((function(e){return e.remoteStore}))}function wL(e){return mL(e).then((function(e){return e.syncEngine}))}function _L(e){return mL(e).then((function(e){return e.datastore}))}function xL(e){return EL.apply(this,arguments)}function EL(){return EL=ki(mi().mark((function e(t){var n,r;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mL(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=rD.bind(null,n.syncEngine),r.onUnlisten=sD.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),EL.apply(this,arguments)}function SL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new JE;return e.asyncQueue.enqueueAndForget(ki(mi().mark((function i(){return mi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new iL({next:function(a){t.enqueueAndForget((function(){return zO(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new XE(YE.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new XE(YE.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new GO(KC(n.path),a,{includeMetadataChanges:!0,Ku:!0});return UO(e,o)},i.next=3,xL(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function IL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new JE;return e.asyncQueue.enqueueAndForget(ki(mi().mark((function i(){return mi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new iL({next:function(n){t.enqueueAndForget((function(){return zO(e,o)})),n.fromCache&&"server"===r.source?i.reject(new XE(YE.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new GO(n,a,{includeMetadataChanges:!0,Ku:!0});return UO(e,o)},i.next=3,xL(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function CL(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var TL=new Map;function NL(e,t,n){if(!n)throw new XE(YE.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function PL(e,t,n,r){if(!0===t&&!0===r)throw new XE(YE.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function RL(e){if(!gS.isDocumentKey(e))throw new XE(YE.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function AL(e){if(gS.isDocumentKey(e))throw new XE(YE.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function OL(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":GE()}function DL(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new XE(YE.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=OL(e);throw new XE(YE.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function LL(e,t){if(t<=0)throw new XE(YE.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var ML=function(){function e(t){var n,r;if(ur(this,e),void 0===t.host){if(void 0!==t.ssl)throw new XE(YE.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new XE(YE.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}PL("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CL(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new XE(YE.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new XE(YE.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new XE(YE.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return lr(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}]),e}(),FL=function(){function e(t,n,r,i){ur(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ML({}),this._settingsFrozen=!1}return lr(e,[{key:"app",get:function(){if(!this._app)throw new XE(YE.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new XE(YE.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ML(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ZE;switch(e.type){case"firstParty":return new rS(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new XE(YE.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=TL.get(e);t&&(VE("ComponentProvider","Removing Datastore"),TL.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function jL(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=DL(e,FL))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&WE("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var s,u;if("string"==typeof i.mockUserToken)s=i.mockUserToken,u=jE.MOCK_USER;else{s=Mr(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new XE(YE.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new jE(c)}e._authCredentials=new eS(new $E(s,u))}}var UL=function(){function e(t,n,r){ur(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return lr(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new zL(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),qL=function(){function e(t,n,r){ur(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return lr(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),zL=function(e){pr(n,e);var t=gr(n);function n(e,r,i){var a;return ur(this,n),(a=t.call(this,e,r,KC(i)))._path=i,a.type="collection",a}return lr(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new UL(this.firestore,null,new gS(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(qL);function VL(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=vi(e),NL("collection","path",t),e instanceof FL){var a=pS.fromString.apply(pS,[t].concat(r));return AL(a),new zL(e,null,a)}if(!(e instanceof UL||e instanceof zL))throw new XE(YE.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(pS.fromString.apply(pS,[t].concat(r)));return AL(o),new zL(e.firestore,null,o)}function BL(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=vi(e),1===arguments.length&&(t=sS.A()),NL("doc","path",t),e instanceof FL){var a=pS.fromString.apply(pS,[t].concat(r));return RL(a),new UL(e,null,new gS(a))}if(!(e instanceof UL||e instanceof zL))throw new XE(YE.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(pS.fromString.apply(pS,[t].concat(r)));return RL(o),new UL(e.firestore,e instanceof zL?e.converter:null,new gS(o))}function WL(e,t){return e=vi(e),t=vi(t),(e instanceof UL||e instanceof zL)&&(t instanceof UL||t instanceof zL)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function HL(e,t){return e=vi(e),t=vi(t),e instanceof qL&&t instanceof qL&&e.firestore===t.firestore&&nT(e._query,t._query)&&e.converter===t.converter}var GL=function(){function e(){var t=this;ur(this,e),this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new jA(this,"async_queue_retry"),this.Xc=function(){var e=MA();e&&VE("AsyncQueue","Visibility state changed to "+e.visibilityState),t.qo.Mo()};var n=MA();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Xc)}return lr(e,[{key:"isShuttingDown",get:function(){return this.jc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Zc(),this.ta(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;var t=MA();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Zc(),this.jc)return new Promise((function(){}));var n=new JE;return this.ta((function(){return t.jc&&t.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Qc.push(e),t.ea()}))}},{key:"ea",value:function(){var e=ki(mi().mark((function e(){var t=this;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Qc.length){e.next=14;break}return e.prev=1,e.next=4,this.Qc[0]();case 4:this.Qc.shift(),this.qo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),MS(e.t0)){e.next=12;break}throw e.t0;case 12:VE("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Qc.length>0&&this.qo.No((function(){return t.ea()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ta",value:function(e){var t=this,n=this.Gc.then((function(){return t.Hc=!0,e().catch((function(e){t.Wc=e,t.Hc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw BE("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Hc=!1,e}))}));return this.Gc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);var i=AO.createAndSchedule(this,e,t,n,(function(e){return r.na(e)}));return this.zc.push(i),i}},{key:"Zc",value:function(){this.Wc&&GE()}},{key:"verifyOperationInProgress",value:function(){}},{key:"sa",value:function(){var e=ki(mi().mark((function e(){var t;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Gc,e.next=3,t;case 3:if(t!==this.Gc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ia",value:function(e){var t,n=hr(this.zc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ra",value:function(e){var t=this;return this.sa().then((function(){t.zc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=hr(t.zc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.sa()}))}},{key:"oa",value:function(e){this.Yc.push(e)}},{key:"na",value:function(e){var t=this.zc.indexOf(e);this.zc.splice(t,1)}}]),e}();function KL(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=hr(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var QL=function(){function e(){ur(this,e),this._progressObserver={},this._taskCompletionResolver=new JE,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return lr(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),YL=function(e){pr(n,e);var t=gr(n);function n(e,r,i,a){var o;return ur(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new GL,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return lr(n,[{key:"_terminate",value:function(){return this._firestoreClient||JL(this),this._firestoreClient.terminate()}}]),n}(FL);function XL(e){return e._firestoreClient||JL(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function JL(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new zI(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,CL(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new uL(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function $L(e,t,n){var r=new JE;return e.asyncQueue.enqueue(ki(mi().mark((function i(){var a;return mi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,cL(e,n);case 3:return i.next=5,hL(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),dL(a=i.t0)){i.next=13;break}throw a;case 13:WE("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function ZL(e){return function(e){return e.asyncQueue.enqueue(ki(mi().mark((function t(){var n,r;return mi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yL(e);case 2:return n=t.sent,t.next=5,kL(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=QE(e);return t.vu.delete(0),HA(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(XL(e=DL(e,YL)))}function eM(e){return function(e){return e.asyncQueue.enqueue(ki(mi().mark((function t(){var n,r;return mi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yL(e);case 2:return n=t.sent,t.next=5,kL(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=ki(mi().mark((function e(t){var n;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=QE(t)).vu.add(0),e.next=4,KA(n);case 4:n.bu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(XL(e=DL(e,YL)))}function tM(e,t){var n=XL(e=DL(e,YL)),r=new QL;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new aL(e,t)}(function(e,t){if(e instanceof Uint8Array)return rL(e,t);if(e instanceof ArrayBuffer)return rL(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?hN().encode(e):e),t)}(n,FA(t));e.asyncQueue.enqueueAndForget(ki(mi().mark((function t(){return mi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=$D,t.next=3,wL(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function nM(e,t){return function(e,t){return e.asyncQueue.enqueue(ki(mi().mark((function n(){return mi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=QE(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.qs.getNamedQuery(e,t)}))},n.next=3,bL(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(XL(e=DL(e,YL)),t).then((function(t){return t?new qL(e,null,t.query):null}))}function rM(e){if(e._initialized||e._terminated)throw new XE(YE.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var iM=function(){function e(t){ur(this,e),this._byteString=t}return lr(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(OI.fromBase64String(t))}catch(t){throw new XE(YE.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(OI.fromUint8Array(t))}}]),e}(),aM=function(){function e(){ur(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new XE(YE.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mS(n)}return lr(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var oM=lr((function e(t){ur(this,e),this._methodName=t})),sM=function(){function e(t,n){if(ur(this,e),!isFinite(t)||t<-90||t>90)throw new XE(YE.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new XE(YE.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return lr(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return uS(this._lat,e._lat)||uS(this._long,e._long)}}]),e}(),uM=/^__.*__$/,cM=function(){function e(t,n,r){ur(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return lr(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new YT(e,this.data,this.fieldMask,t,this.fieldTransforms):new QT(e,this.data,t,this.fieldTransforms)}}]),e}(),lM=function(){function e(t,n,r){ur(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return lr(e,[{key:"toMutation",value:function(e,t){return new YT(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function hM(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw GE()}}var fM=function(){function e(t,n,r,i,a,o){ur(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return lr(e,[{key:"path",get:function(){return this.settings.path}},{key:"ca",get:function(){return this.settings.ca}},{key:"aa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}},{key:"da",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}},{key:"wa",value:function(e){return this.aa({path:void 0,la:!0})}},{key:"_a",value:function(e){return AM(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ua",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.fa(this.path.get(e))}},{key:"fa",value:function(e){if(0===e.length)throw this._a("Document fields must not be empty");if(hM(this.ca)&&uM.test(e))throw this._a('Document fields cannot begin and end with "__"')}}]),e}(),dM=function(){function e(t,n,r){ur(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||FA(t)}return lr(e,[{key:"ya",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new fM({ca:e,methodName:t,ga:n,path:mS.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function pM(e){var t=e._freezeSettings(),n=FA(e._databaseId);return new dM(e._databaseId,!!t.ignoreUndefinedProperties,n)}function vM(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ya(a.merge||a.mergeFields?2:0,t,n,i);TM("Data must be an object, but it was:",o,r);var s,u,c=IM(r,o);if(a.merge)s=new RI(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,h=[],f=hr(a.mergeFields);try{for(f.s();!(l=f.n()).done;){var d=NM(t,l.value,n);if(!o.contains(d))throw new XE(YE.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));OM(h,d)||h.push(d)}}catch(p){f.e(p)}finally{f.f()}s=new RI(h),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new cM(new lC(c),s,u)}var mM=function(e){pr(n,e);var t=gr(n);function n(){return ur(this,n),t.apply(this,arguments)}return lr(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(oM);function gM(e,t,n){return new fM({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var yM=function(e){pr(n,e);var t=gr(n);function n(){return ur(this,n),t.apply(this,arguments)}return lr(n,[{key:"_toFieldTransform",value:function(e){return new jT(e.path,new PT)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(oM),bM=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this,e)).pa=r,i}return lr(n,[{key:"_toFieldTransform",value:function(e){var t=gM(this,e,!0),n=this.pa.map((function(e){return SM(e,t)})),r=new RT(n);return new jT(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(oM),kM=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this,e)).pa=r,i}return lr(n,[{key:"_toFieldTransform",value:function(e){var t=gM(this,e,!0),n=this.pa.map((function(e){return SM(e,t)})),r=new OT(n);return new jT(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(oM),wM=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this,e)).Ia=r,i}return lr(n,[{key:"_toFieldTransform",value:function(e){var t=new LT(e.serializer,ST(e.serializer,this.Ia));return new jT(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(oM);function _M(e,t,n,r){var i=e.ya(1,t,n);TM("Data must be an object, but it was:",i,r);var a=[],o=lC.empty();xI(r,(function(e,r){var s=RM(t,e,n);r=vi(r);var u=i.da(s);if(r instanceof mM)a.push(s);else{var c=SM(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new RI(a);return new lM(o,s,i.fieldTransforms)}function xM(e,t,n,r,i,a){var o=e.ya(1,t,n),s=[NM(t,r,n)],u=[i];if(a.length%2!=0)throw new XE(YE.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(NM(t,a[c])),u.push(a[c+1]);for(var l=[],h=lC.empty(),f=s.length-1;f>=0;--f)if(!OM(l,s[f])){var d=s[f],p=u[f];p=vi(p);var v=o.da(d);if(p instanceof mM)l.push(d);else{var m=SM(p,v);null!=m&&(l.push(d),h.set(d,m))}}var g=new RI(l);return new lM(h,g,o.fieldTransforms)}function EM(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return SM(n,e.ya(r?4:3,t))}function SM(e,t){if(CM(e=vi(e)))return TM("Unsupported field value:",t,e),IM(e,t);if(e instanceof oM)return function(e,t){if(!hM(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=hr(e);try{for(a.s();!(n=a.n()).done;){var o=SM(n.value,t.wa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=vi(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ST(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=hS.fromDate(e);return{timestampValue:RN(t.serializer,n)}}if(e instanceof hS){var r=new hS(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:RN(t.serializer,r)}}if(e instanceof sM)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof iM)return{bytesValue:AN(t.serializer,e._byteString)};if(e instanceof UL){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t._a("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:LN(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(OL(e)))}(e,t)}function IM(e,t){var n={};return EI(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):xI(e,(function(e,r){var i=SM(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function CM(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof hS||e instanceof sM||e instanceof iM||e instanceof UL||e instanceof oM)}function TM(e,t,n){if(!CM(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=OL(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function NM(e,t,n){if((t=vi(t))instanceof aM)return t._internalPath;if("string"==typeof t)return RM(e,t);throw AM("Field path arguments must be of type string or ",e,!1,void 0,n)}var PM=new RegExp("[~\\*/\\[\\]]");function RM(e,t,n){if(t.search(PM)>=0)throw AM("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return yr(aM,yi(t.split(".")))._internalPath}catch(yX){throw AM("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function AM(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new XE(YE.INVALID_ARGUMENT,s+e+u)}function OM(e,t){return e.some((function(e){return e.isEqual(t)}))}var DM=function(){function e(t,n,r,i,a){ur(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return lr(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new UL(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new LM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(MM("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),LM=function(e){pr(n,e);var t=gr(n);function n(){return ur(this,n),t.apply(this,arguments)}return lr(n,[{key:"data",value:function(){return Ja(vr(n.prototype),"data",this).call(this)}}]),n}(DM);function MM(e,t){return"string"==typeof t?RM(e,t):t instanceof aM?t._internalPath:t._delegate._internalPath}function FM(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new XE(YE.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var jM=lr((function e(){ur(this,e)})),UM=function(e){pr(n,e);var t=gr(n);function n(){return ur(this,n),t.apply(this,arguments)}return lr(n)}(jM);function qM(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof jM&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof VM})).length,n=e.filter((function(e){return e instanceof zM})).length;if(t>1||t>0&&n>0)throw new XE(YE.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=hr(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var zM=function(e){pr(n,e);var t=gr(n);function n(e,r,i){var a;return ur(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return lr(n,[{key:"_apply",value:function(e){var t=this._parse(e);return eF(e._query,t),new qL(e.firestore,e.converter,eT(e._query,t))}},{key:"_parse",value:function(e){var t=pM(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new XE(YE.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){ZM(o,a);var u,c=[],l=hr(o);try{for(l.s();!(u=l.n()).done;){var h=u.value;c.push($M(r,e,h))}}catch(f){l.e(f)}finally{l.f()}s={arrayValue:{values:c}}}else s=$M(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||ZM(o,a),s=EM(n,"where",o,"in"===a||"not-in"===a);return bC.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(UM);var VM=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return lr(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:kC.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=hr(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;eF(r,a),r=eT(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new qL(e.firestore,e.converter,eT(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(jM);var BM=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return lr(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new XE(YE.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new XE(YE.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new mC(t,n);return function(e,t){if(null===YC(e)){var n=XC(e);null!==n&&tF(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new qL(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new HC(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(UM);var WM=function(e){pr(n,e);var t=gr(n);function n(e,r,i){var a;return ur(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return lr(n,[{key:"_apply",value:function(e){return new qL(e.firestore,e.converter,tT(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(UM);var HM=function(e){pr(n,e);var t=gr(n);function n(e,r,i){var a;return ur(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return lr(n,[{key:"_apply",value:function(e){var t=JM(e,this.type,this._docOrFields,this._inclusive);return new qL(e.firestore,e.converter,function(e,t){return new HC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(UM);function GM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return HM._create("startAt",t,!0)}function KM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return HM._create("startAfter",t,!1)}var QM=function(e){pr(n,e);var t=gr(n);function n(e,r,i){var a;return ur(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return lr(n,[{key:"_apply",value:function(e){var t=JM(e,this.type,this._docOrFields,this._inclusive);return new qL(e.firestore,e.converter,function(e,t){return new HC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(UM);function YM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return QM._create("endBefore",t,!1)}function XM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return QM._create("endAt",t,!0)}function JM(e,t,n,r){if(n[0]=vi(n[0]),n[0]instanceof DM)return function(e,t,n,r,i){if(!r)throw new XE(YE.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=hr($C(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push($I(t,r.key));else{var c=r.data.field(u.field);if(jI(c))throw new XE(YE.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new XE(YE.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(h){s.e(h)}finally{s.f()}return new dC(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=pM(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new XE(YE.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new XE(YE.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!JC(e)&&-1!==c.indexOf("/"))throw new XE(YE.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(pS.fromString(c));if(!gS.isDocumentKey(l))throw new XE(YE.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var h=new gS(l);s.push($I(t,h))}else{var f=EM(n,r,c);s.push(f)}}return new dC(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function $M(e,t,n){if("string"==typeof(n=vi(n))){if(""===n)throw new XE(YE.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!JC(t)&&-1!==n.indexOf("/"))throw new XE(YE.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(pS.fromString(n));if(!gS.isDocumentKey(r))throw new XE(YE.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return $I(e,new gS(r))}if(n instanceof UL)return $I(e,n._key);throw new XE(YE.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(OL(n),"."))}function ZM(e,t){if(!Array.isArray(e)||0===e.length)throw new XE(YE.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function eF(e,t){if(t.isInequality()){var n=XC(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new XE(YE.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=YC(e);null!==i&&tF(e,r,i)}var a=function(e,t){var n,r=hr(e);try{for(r.s();!(n=r.n()).done;){var i,a=hr(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new XE(YE.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new XE(YE.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function tF(e,t,n){if(!n.isEqual(t))throw new XE(YE.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var nF=function(){function e(){ur(this,e)}return lr(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(HI(e)){case 0:return null;case 1:return e.booleanValue;case 2:return MI(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(FI(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw GE()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return xI(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new sM(MI(e.latitude),MI(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=UI(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(qI(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=LI(e);return new hS(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=pS.fromString(e);KE(aP(n));var r=new VI(n.get(1),n.get(3)),i=new gS(n.popFirst(5));return r.isEqual(t)||BE("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function rF(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var iF=function(e){pr(n,e);var t=gr(n);function n(e){var r;return ur(this,n),(r=t.call(this)).firestore=e,r}return lr(n,[{key:"convertBytes",value:function(e){return new iM(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new UL(this.firestore,null,t)}}]),n}(nF);var aF=function(){function e(t,n){ur(this,e),this.hasPendingWrites=t,this.fromCache=n}return lr(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),oF=function(e){pr(n,e);var t=gr(n);function n(e,r,i,a,o,s){var u;return ur(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return lr(n,[{key:"exists",value:function(){return Ja(vr(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new sF(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(MM("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(DM),sF=function(e){pr(n,e);var t=gr(n);function n(){return ur(this,n),t.apply(this,arguments)}return lr(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ja(vr(n.prototype),"data",this).call(this,e)}}]),n}(oF),uF=function(){function e(t,n,r,i){ur(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new aF(i.hasPendingWrites,i.fromCache),this.query=r}return lr(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new sF(n._firestore,n._userDataWriter,r.key,r,new aF(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new XE(YE.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new sF(e._firestore,e._userDataWriter,t.doc.key,t.doc,new aF(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new sF(e._firestore,e._userDataWriter,t.doc.key,t.doc,new aF(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:cF(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function cF(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return GE()}}function lF(e,t){return e instanceof oF&&t instanceof oF?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof uF&&t instanceof uF&&e._firestore===t._firestore&&HL(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var hF=function(e){pr(n,e);var t=gr(n);function n(e){var r;return ur(this,n),(r=t.call(this)).firestore=e,r}return lr(n,[{key:"convertBytes",value:function(e){return new iM(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new UL(this.firestore,null,t)}}]),n}(nF);function fF(e){e=DL(e,UL);var t=DL(e.firestore,YL),n=XL(t),r=new hF(t);return function(e,t){var n=new JE;return e.asyncQueue.enqueueAndForget(ki(mi().mark((function r(){return mi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ki(mi().mark((function e(t,n,r){var i,a;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=QE(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new XE(YE.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=OO(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,bL(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new oF(t,r,e._key,n,new aF(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function dF(e){e=DL(e,qL);var t=DL(e.firestore,YL),n=XL(t),r=new hF(t);return function(e,t){var n=new JE;return e.asyncQueue.enqueueAndForget(ki(mi().mark((function r(){return mi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ki(mi().mark((function e(t,n,r){var i,a,o,s,u;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,cA(t,n,!0);case 3:i=e.sent,a=new ZO(n,i.ir),o=a.sc(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=OO(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,bL(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new uF(t,r,e,n)}))}function pF(e,t,n){e=DL(e,UL);var r=DL(e.firestore,YL),i=rF(e.converter,t,n);return bF(r,[vM(pM(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,qT.none())])}function vF(e,t,n){e=DL(e,UL);for(var r=DL(e.firestore,YL),i=pM(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return bF(r,[("string"==typeof(t=vi(t))||t instanceof aM?xM(i,"updateDoc",e._key,t,n,o):_M(i,"updateDoc",e._key,t)).toMutation(e._key,qT.exists(!0))])}function mF(e){return bF(DL(e.firestore,YL),[new tN(e._key,qT.none())])}function gF(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=vi(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||KL(n[u])||(s=n[u],u++);var c,l,h,f={includeMetadataChanges:s.includeMetadataChanges};if(KL(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof UL)l=DL(e.firestore,YL),h=KC(e._key.path),c={next:function(t){n[u]&&n[u](kF(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=DL(e,qL);l=DL(p.firestore,YL),h=p._query;var v=new hF(l);c={next:function(e){n[u]&&n[u](new uF(l,v,p,e))},error:n[u+1],complete:n[u+2]},FM(e._query)}return function(e,t,n,r){var i=new iL(r),a=new GO(t,i,n);return e.asyncQueue.enqueueAndForget(ki(mi().mark((function t(){return mi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=UO,t.next=3,xL(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Dc(),e.asyncQueue.enqueueAndForget(ki(mi().mark((function t(){return mi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=zO,t.next=3,xL(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(XL(l),h,f,c)}function yF(e,t){return function(e,t){var n=new iL(t);return e.asyncQueue.enqueueAndForget(ki(mi().mark((function t(){return mi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){QE(e).ku.add(t),t.next()},t.next=3,xL(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Dc(),e.asyncQueue.enqueueAndForget(ki(mi().mark((function t(){return mi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){QE(e).ku.delete(t)},t.next=3,xL(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(XL(e=DL(e,YL)),KL(t)?t:{next:t})}function bF(e,t){return function(e,t){var n=new JE;return e.asyncQueue.enqueueAndForget(ki(mi().mark((function r(){return mi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=cD,r.next=3,wL(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(XL(e),t)}function kF(e,t,n){var r=n.docs.get(t._key),i=new hF(e);return new oF(e,i,t._key,r,new aF(n.hasPendingWrites,n.fromCache),t.converter)}var wF={maxAttempts:5},_F=function(){function e(t,n){ur(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=pM(t)}return lr(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=xF(e,this._firestore),i=rF(r.converter,t,n),a=vM(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,qT.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=xF(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=vi(t))||t instanceof aM?xM(this._dataReader,"WriteBatch.update",i._key,t,n,o):_M(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,qT.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=xF(e,this._firestore);return this._mutations=this._mutations.concat(new tN(t._key,qT.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new XE(YE.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function xF(e,t){if((e=vi(e)).firestore!==t)throw new XE(YE.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var EF=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this,e,r))._firestore=e,i}return lr(n,[{key:"get",value:function(e){var t=this,r=xF(e,this._firestore),i=new hF(this._firestore);return Ja(vr(n.prototype),"get",this).call(this,e).then((function(e){return new oF(t._firestore,i,r._key,e._document,new aF(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){ur(this,e),this._firestore=t,this._transaction=n,this._dataReader=pM(t)}return lr(e,[{key:"get",value:function(e){var t=this,n=xF(e,this._firestore),r=new iF(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return GE();var i=e[0];if(i.isFoundDocument())return new DM(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new DM(t._firestore,r,n._key,null,n.converter);throw GE()}))}},{key:"set",value:function(e,t,n){var r=xF(e,this._firestore),i=rF(r.converter,t,n),a=vM(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=xF(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=vi(t))||t instanceof aM?xM(this._dataReader,"Transaction.update",i._key,t,n,o):_M(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=xF(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function SF(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new bM("arrayUnion",t)}function IF(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new kM("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){UE=e}(ga),la(new wi("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new YL(new tS(e.getProvider("auth-internal")),new aS(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new XE(YE.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new VI(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),xa(FE,"3.13.0",e),xa(FE,"3.13.0","esm2017")}();function CF(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new XE("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function TF(){if("undefined"===typeof Uint8Array)throw new XE("unimplemented","Uint8Arrays are not available in this environment.")}function NF(){if("undefined"==typeof atob)throw new XE("unimplemented","Blobs are unavailable in Firestore in this environment.")}var PF=function(){function e(t){ur(this,e),this._delegate=t}return lr(e,[{key:"toBase64",value:function(){return NF(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return TF(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return NF(),new e(iM.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return TF(),new e(iM.fromUint8Array(t))}}]),e}();function RF(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=hr(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var AF=function(){function e(){ur(this,e)}return lr(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){rM(e=DL(e,YL));var n=XL(e);if(n._uninitializedComponentsProvider)throw new XE(YE.FAILED_PRECONDITION,"SDK cache is already specified.");WE("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new nL;return $L(n,i,new eL(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){rM(e=DL(e,YL));var t=XL(e);if(t._uninitializedComponentsProvider)throw new XE(YE.FAILED_PRECONDITION,"SDK cache is already specified.");WE("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new nL;return $L(t,r,new tL(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new XE(YE.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new JE;return e._queue.enqueueAndForgetEvenWhileRestricted(ki(mi().mark((function n(){return mi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=ki(mi().mark((function e(t){var n;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(OS.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,OS.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(QR(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),OF=function(){function e(t,n,r){var i=this;ur(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof VI||(this._appCompat=t)}return lr(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||WE("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};jL(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return ZL(this._delegate)}},{key:"disableNetwork",value:function(){return eM(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&PL("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new JE;return e.asyncQueue.enqueueAndForget(ki(mi().mark((function n(){return mi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=kD,n.next=3,wL(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(XL(e=DL(e,YL)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return yF(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new XE("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new KF(this,VL(this._delegate,e))}catch(c$){throw UF(c$,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new jF(this,BL(this._delegate,e))}catch(c$){throw UF(c$,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new WF(this,function(e,t){if(e=DL(e,FL),NL("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new XE(YE.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new qL(e,null,function(e){return new HC(pS.emptyPath(),e)}(t))}(this._delegate,e))}catch(c$){throw UF(c$,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=DL(e,YL);var r=Object.assign(Object.assign({},wF),n);return function(e){if(e.maxAttempts<1)throw new XE(YE.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new JE;return e.asyncQueue.enqueueAndForget(ki(mi().mark((function i(){var a;return mi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,_L(e);case 2:a=i.sent,new sL(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(XL(e),(function(n){return t(new EF(e,n))}),r)}(this._delegate,(function(n){return e(new LF(t,n))}))}},{key:"batch",value:function(){var e=this;return XL(this._delegate),new MF(new _F(this._delegate,(function(t){return bF(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return tM(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return nM(this._delegate,e).then((function(e){return e?new WF(t,e):null}))}}]),e}(),DF=function(e){pr(n,e);var t=gr(n);function n(e){var r;return ur(this,n),(r=t.call(this)).firestore=e,r}return lr(n,[{key:"convertBytes",value:function(e){return new PF(new iM(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return jF.forKey(t,this.firestore,null)}}]),n}(nF);var LF=function(){function e(t,n){ur(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new DF(t)}return lr(e,[{key:"get",value:function(e){var t=this,n=QF(e);return this._delegate.get(n).then((function(e){return new VF(t._firestore,new oF(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=QF(e);return n?(CF("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=QF(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=QF(e);return this._delegate.delete(t),this}}]),e}(),MF=function(){function e(t){ur(this,e),this._delegate=t}return lr(e,[{key:"set",value:function(e,t,n){var r=QF(e);return n?(CF("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=QF(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=QF(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),FF=function(){function e(t,n,r){ur(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return lr(e,[{key:"fromFirestore",value:function(e,t){var n=new sF(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new BF(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new DF(t),n),i.set(n,a)),a}}]),e}();FF.INSTANCES=new WeakMap;var jF=function(){function e(t,n){ur(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new DF(t)}return lr(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new KF(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new KF(this.firestore,VL(this._delegate,e))}catch(c$){throw UF(c$,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=vi(e))instanceof UL&&WL(this._delegate,e)}},{key:"set",value:function(e,t){t=CF("DocumentReference.set",t);try{return t?pF(this._delegate,e,t):pF(this._delegate,e)}catch(c$){throw UF(c$,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?vF(this._delegate,e):vF.apply(void 0,[this._delegate,e,t].concat(r))}catch(c$){throw UF(c$,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return mF(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=qF(n),a=zF(n,(function(t){return new VF(e.firestore,new oF(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return gF(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?fF(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=DL(e,UL);var t=DL(e.firestore,YL);return SL(XL(t),e._key,{source:"server"}).then((function(n){return kF(t,e,n)}))}(this._delegate):function(e){e=DL(e,UL);var t=DL(e.firestore,YL);return SL(XL(t),e._key).then((function(n){return kF(t,e,n)}))}(this._delegate),t.then((function(e){return new VF(n.firestore,new oF(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(FF.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new XE("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new UL(n._delegate,r,new gS(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new UL(n._delegate,r,t))}}]),e}();function UF(e,t,n){return e.message=e.message.replace(t,n),e}function qF(e){var t,n=hr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!RF(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function zF(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=RF(e[0])?e[0]:RF(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var VF=function(){function e(t,n){ur(this,e),this._firestore=t,this._delegate=n}return lr(e,[{key:"ref",get:function(){return new jF(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return lF(this._delegate,e._delegate)}}]),e}(),BF=function(e){pr(n,e);var t=gr(n);function n(){return ur(this,n),t.apply(this,arguments)}return lr(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||GE()}(void 0!==t),t}}]),n}(VF),WF=function(){function e(t,n){ur(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new DF(t)}return lr(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,qM(this._delegate,function(e,t,n){var r=t,i=MM("where",e);return zM._create(i,r,n)}(t,n,r)))}catch(c$){throw UF(c$,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,qM(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=MM("orderBy",e);return BM._create(n,t)}(t,n)))}catch(c$){throw UF(c$,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,qM(this._delegate,function(e){return LL("limit",e),WM._create("limit",e,"F")}(t)))}catch(c$){throw UF(c$,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,qM(this._delegate,function(e){return LL("limitToLast",e),WM._create("limitToLast",e,"L")}(t)))}catch(c$){throw UF(c$,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,qM(this._delegate,GM.apply(void 0,arguments)))}catch(c$){throw UF(c$,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,qM(this._delegate,KM.apply(void 0,arguments)))}catch(c$){throw UF(c$,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,qM(this._delegate,YM.apply(void 0,arguments)))}catch(c$){throw UF(c$,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,qM(this._delegate,XM.apply(void 0,arguments)))}catch(c$){throw UF(c$,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return HL(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?dF(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=DL(e,qL);var t=DL(e.firestore,YL),n=XL(t),r=new hF(t);return IL(n,e._query,{source:"server"}).then((function(n){return new uF(t,r,e,n)}))}(this._delegate):function(e){e=DL(e,qL);var t=DL(e.firestore,YL),n=XL(t),r=new hF(t);return FM(e._query),IL(n,e._query).then((function(n){return new uF(t,r,e,n)}))}(this._delegate),t.then((function(e){return new GF(n.firestore,new uF(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=qF(n),a=zF(n,(function(t){return new GF(e.firestore,new uF(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return gF(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(FF.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),HF=function(){function e(t,n){ur(this,e),this._firestore=t,this._delegate=n}return lr(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new BF(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),GF=function(){function e(t,n){ur(this,e),this._firestore=t,this._delegate=n}return lr(e,[{key:"query",get:function(){return new WF(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new BF(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new HF(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new BF(n._firestore,r))}))}},{key:"isEqual",value:function(e){return lF(this._delegate,e._delegate)}}]),e}(),KF=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return lr(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new jF(this.firestore,e):null}},{key:"doc",value:function(e){try{return new jF(this.firestore,void 0===e?BL(this._delegate):BL(this._delegate,e))}catch(c$){throw UF(c$,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=DL(e.firestore,YL),r=BL(e),i=rF(e.converter,t);return bF(n,[vM(pM(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,qT.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new jF(t.firestore,e)}))}},{key:"isEqual",value:function(e){return WL(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(FF.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(WF);function QF(e){return DL(e,UL)}var YF=function(){function e(){ur(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=yr(aM,n)}return lr(e,[{key:"isEqual",value:function(e){return(e=vi(e))instanceof aM&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(mS.keyField().canonicalString())}}]),e}(),XF=function(){function e(t){ur(this,e),this._delegate=t}return lr(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new yM("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new mM("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=SF.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=IF.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new wM("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),JF={Firestore:OF,GeoPoint:sM,Timestamp:hS,Blob:PF,Transaction:LF,WriteBatch:MF,DocumentReference:jF,DocumentSnapshot:VF,Query:WF,QueryDocumentSnapshot:BF,QuerySnapshot:GF,CollectionReference:KF,FieldPath:YF,FieldValue:XF,setLogLevel:function(e){!function(e){qE.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new wi("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},JF)))}(e,(function(e,t){return new OF(e,t,new AF)})),e.registerVersion("@firebase/firestore-compat","0.3.12")}(Ya);Ya.initializeApp({apiKey:"AIzaSyDE-Cl5RxG1byLc4pjoBxD3aXWO3wi43P8",authDomain:"diary-6211f.firebaseapp.com",projectId:"diary-6211f",storageBucket:"diary-6211f.appspot.com",messagingSenderId:"765031385372",appId:"1:765031385372:web:9b72a3164df87c4c9712d9",measurementId:"G-5VWBRJH7V4"});var $F,ZF=Ya.firestore(),ej="firebasestorage.googleapis.com",tj="storageBucket",nj=function(e){pr(n,e);var t=gr(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return ur(this,n),(i=t.call(this,rj(e),"Firebase Storage: ".concat(r," (").concat(rj(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(fr(i),n.prototype),i}return lr(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return rj(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Hr);function rj(e){return"storage/"+e}function ij(){return new nj($F.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function aj(){return new nj($F.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function oj(){return new nj($F.CANCELED,"User canceled the upload/download.")}function sj(){return new nj($F.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function uj(e){return new nj($F.INVALID_ARGUMENT,e)}function cj(){return new nj($F.APP_DELETED,"The Firebase app was deleted.")}function lj(e){return new nj($F.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function hj(e,t){return new nj($F.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function fj(e){throw new nj($F.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}($F||($F={}));var dj,pj=function(){function e(t,n){ur(this,e),this.bucket=t,this.path_=n}return lr(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(c$){return new e(t,"")}if(""===r.path)return r;throw i=t,new nj($F.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===ej?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],h=l.regex.exec(t);if(h){var f=h[l.indices.bucket],d=h[l.indices.path];d||(d=""),r=new e(f,d),l.postModify(r);break}}if(null==r)throw function(e){return new nj($F.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),vj=function(){function e(t){ur(this,e),this.promise_=Promise.reject(t)}return lr(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function mj(e){return"string"===typeof e||e instanceof String}function gj(e){return yj()&&e instanceof Blob}function yj(){return"undefined"!==typeof Blob&&!Ur()}function bj(e,t,n,r){if(r<t)throw uj("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw uj("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function kj(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function wj(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function _j(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(dj||(dj={}));var xj=function(){function e(t,n,r,i,a,o,s,u,c,l,h){var f=this,d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];ur(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=h,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){f.resolve_=e,f.reject_=t,f.start_()}))}return lr(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(c$){i(c$)}else if(null!==a){var s=ij();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?cj():oj());else i(aj())}};this.canceled_?t(0,new Ej(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function f(){a&&clearTimeout(a)}function d(e){if(c)f();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return f(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return f(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),h(a)}}var p=!1;function v(e){p||(p=!0,f(),c||(null!==i?(e||(s=2),clearTimeout(i),h(0)):e||(s=1)))}return h(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new Ej(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===dj.NO_ERROR,a=r.getStatus();if(!n||_j(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===dj.ABORT;t(!1,new Ej(!1,null,o))}else{var s=-1!==e.successCodes_.indexOf(a);t(!0,new Ej(s,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),Ej=lr((function e(t,n,r){ur(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function Sj(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Ij(){for(var e=Sj(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(yj())return new Blob(n);throw new nj($F.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Cj(e){if("undefined"===typeof atob)throw t="base-64",new nj($F.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}var Tj={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Nj=lr((function e(t,n){ur(this,e),this.data=t,this.contentType=n||null}));function Pj(e,t){switch(e){case Tj.RAW:return new Nj(Rj(t));case Tj.BASE64:case Tj.BASE64URL:return new Nj(Aj(e,t));case Tj.DATA_URL:return new Nj(function(e){var t=new Oj(e);return t.base64?Aj(Tj.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(c$){throw hj(Tj.DATA_URL,"Malformed data URL.")}return Rj(t)}(t.rest)}(t),new Oj(t).contentType)}throw ij()}function Rj(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Aj(e,t){switch(e){case Tj.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw hj(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Tj.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw hj(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=Cj(t)}catch(c$){if(c$.message.includes("polyfill"))throw c$;throw hj(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var Oj=lr((function e(t){ur(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw hj(Tj.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){var n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}));var Dj=function(){function e(t,n){ur(this,e);var r=0,i="";gj(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return lr(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(gj(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(yj()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(Ij.apply(null,i))}var a=n.map((function(e){return mj(e)?Pj(Tj.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function Lj(e){var t;try{t=JSON.parse(e)}catch(c$){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Mj(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Fj(e,t){return t}var jj=lr((function e(t,n,r,i){ur(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||Fj})),Uj=null;function qj(){if(Uj)return Uj;var e=[];e.push(new jj("bucket")),e.push(new jj("generation")),e.push(new jj("metageneration")),e.push(new jj("name","fullPath",!0));var t=new jj("name");t.xform=function(e,t){return function(e){return!mj(e)||e.length<2?e:Mj(e)}(t)},e.push(t);var n=new jj("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new jj("timeCreated")),e.push(new jj("updated")),e.push(new jj("md5Hash",null,!0)),e.push(new jj("cacheControl",null,!0)),e.push(new jj("contentDisposition",null,!0)),e.push(new jj("contentEncoding",null,!0)),e.push(new jj("contentLanguage",null,!0)),e.push(new jj("contentType",null,!0)),e.push(new jj("metadata","customMetadata",!0)),Uj=e}function zj(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new pj(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Vj(e,t,n){var r=Lj(t);return null===r?null:zj(e,r,n)}function Bj(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var Wj="prefixes",Hj="items";function Gj(e,t,n){var r=Lj(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Wj]){var i,a=hr(n[Wj]);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),s=e._makeStorageReference(new pj(t,o));r.prefixes.push(s)}}catch(f){a.e(f)}finally{a.f()}}if(n[Hj]){var u,c=hr(n[Hj]);try{for(c.s();!(u=c.n()).done;){var l=u.value,h=e._makeStorageReference(new pj(t,l.name));r.items.push(h)}}catch(f){c.e(f)}finally{c.f()}}return r}(e,t,r)}var Kj=lr((function e(t,n,r,i){ur(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function Qj(e){if(!e)throw ij()}function Yj(e,t){return function(n,r){var i=Vj(e,r,t);return Qj(null!==i),i}}function Xj(e,t){return function(n,r){var i=Vj(e,r,t);return Qj(null!==i),function(e,t,n,r){var i=Lj(t);if(null===i)return null;if(!mj(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return kj("/b/"+o(i)+"/o/"+o(a),n,r)+wj({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function Jj(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new nj($F.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new nj($F.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new nj($F.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new nj($F.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function $j(e){var t=Jj(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new nj($F.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function Zj(e,t,n){var r=kj(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new Kj(r,"GET",Yj(e,n),i);return a.errorHandler=$j(t),a}function eU(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=kj(t.bucketOnlyServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,u=new Kj(o,"GET",function(e,t){return function(n,r){var i=Gj(e,t,r);return Qj(null!==i),i}}(e,t.bucket),s);return u.urlParams=a,u.errorHandler=Jj(t),u}function tU(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function nU(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=tU(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Bj(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=Dj.getBlob(c,r,l);if(null===h)throw sj();var f={name:u.fullPath},d=kj(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new Kj(d,"POST",Yj(e,n),p);return v.urlParams=f,v.headers=o,v.body=h.uploadData(),v.errorHandler=Jj(t),v}var rU=lr((function e(t,n,r,i){ur(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function iU(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(c$){Qj(!1)}return Qj(!!n&&-1!==(t||["active"]).indexOf(n)),n}var aU=262144;function oU(e,t,n,r,i,a,o,s){var u=new rU(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new nj($F.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f=h+l,d={"X-Goog-Upload-Command":0===l?"finalize":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(h,f);if(null===p)throw sj();var v=t.maxUploadRetryTime,m=new Kj(n,"POST",(function(e,n){var i,o=iU(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===o?Yj(t,a)(e,n):null,new rU(s,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=Jj(e),m}var sU={STATE_CHANGED:"state_changed"},uU={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function cU(e){switch(e){case"running":case"pausing":case"canceling":return uU.RUNNING;case"paused":return uU.PAUSED;case"success":return uU.SUCCESS;case"canceled":return uU.CANCELED;default:return uU.ERROR}}var lU=lr((function e(t,n,r){ur(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function hU(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var fU=null,dU=function(){function e(){var t=this;ur(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=dj.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=dj.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=dj.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return lr(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw fj("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw fj("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw fj("cannot .getStatus() before sending");try{return this.xhr_.status}catch(c$){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw fj("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw fj("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),pU=function(e){pr(n,e);var t=gr(n);function n(){return ur(this,n),t.apply(this,arguments)}return lr(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(dU);function vU(){return fU?fU():new pU}var mU=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;ur(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=qj(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){if(r._request=void 0,r._chunkMultiplier=1,e._codeEquals($F.CANCELED))r._needToFetchStatus=!0,r.completeTransitions_();else{var t=r.isExponentialBackoffExpired();if(_j(e.status,[])){if(!t)return r.sleepTime=Math.max(2*r.sleepTime,1e3),r._needToFetchStatus=!0,void r.completeTransitions_();e=aj()}r._error=e,r._transition("error")}},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals($F.CANCELED)?r.completeTransitions_():(r._error=e,r._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return lr(e,[{key:"isExponentialBackoffExpired",value:function(){return this.sleepTime>this.maxSleepTime}},{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){var e=this;"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((function(){e.pendingTimeout=void 0,e._continueUpload()}),this.sleepTime):this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=ir(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=tU(t,r,i),s={name:o.fullPath},u=kj(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=Bj(o,n),h=e.maxUploadRetryTime,f=new Kj(u,"POST",(function(e){var t;iU(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(c$){Qj(!1)}return Qj(mj(t)),t}),h);return f.urlParams=s,f.headers=c,f.body=l,f.errorHandler=Jj(t),f}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,vU,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new Kj(n,"POST",(function(e){var t=iU(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(c$){Qj(!1)}n||Qj(!1);var i=Number(n);return Qj(!isNaN(i)),new rU(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=Jj(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,vU,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=aU*this._chunkMultiplier,n=new rU(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=oU(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(c$){return e._error=c$,void e._transition("error")}var s=e._ref.storage._makeRequest(o,vU,i,a,!1);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){2*(aU*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=Zj(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,vU,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=nU(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,vU,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=oj(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=cU(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new lU(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(cU(this._state)){case uU.SUCCESS:hU(this._resolve.bind(null,this.snapshot))();break;case uU.CANCELED:case uU.ERROR:hU(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(cU(this._state)){case uU.RUNNING:case uU.PAUSED:e.next&&hU(e.next.bind(e,this.snapshot))();break;case uU.SUCCESS:e.complete&&hU(e.complete.bind(e))();break;default:e.error&&hU(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),gU=function(){function e(t,n){ur(this,e),this._service=t,this._location=n instanceof pj?n:pj.makeFromUrl(n,t.host)}return lr(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new pj(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return Mj(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new pj(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw lj(e)}}]),e}();function yU(e,t,n){return bU.apply(this,arguments)}function bU(){return(bU=ki(mi().mark((function e(t,n,r){var i,a,o,s;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,kU(t,o);case 3:if(s=e.sent,(i=n.prefixes).push.apply(i,yi(s.prefixes)),(a=n.items).push.apply(a,yi(s.items)),null==s.nextPageToken){e.next=9;break}return e.next=9,yU(t,n,s.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kU(e,t){null!=t&&"number"===typeof t.maxResults&&bj("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=eU(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,vU)}function wU(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=kj(t.fullServerUrl(),e.host,e._protocol),a=Bj(n,r),o=e.maxOperationRetryTime,s=new Kj(i,"PATCH",Yj(e,r),o);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=a,s.errorHandler=$j(t),s}(e.storage,e._location,t,qj());return e.storage.makeRequestWithTokens(n,vU)}function _U(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=kj(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new Kj(r,"GET",Xj(e,n),i);return a.errorHandler=$j(t),a}(e.storage,e._location,qj());return e.storage.makeRequestWithTokens(t,vU).then((function(e){if(null===e)throw new nj($F.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function xU(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=kj(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new Kj(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=$j(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,vU)}function EU(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new pj(e._location.bucket,n);return new gU(e.storage,r)}function SU(e,t){if(e instanceof TU){var n=e;if(null==n._bucket)throw new nj($F.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+tj+"' property when initializing the app?");var r=new gU(n,n._bucket);return null!=t?SU(r,t):r}return void 0!==t?EU(e,t):e}function IU(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof TU)return new gU(e,t);throw uj("To use ref(service, url), the first argument must be a Storage instance.")}return SU(e,t)}function CU(e,t){var n=null===t||void 0===t?void 0:t[tj];return null==n?null:pj.makeFromBucketSpec(n,e)}var TU=function(){function e(t,n,r,i,a){ur(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=ej,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?pj.makeFromBucketSpec(i,this._host):CU(this._host,this.app.options)}return lr(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=pj.makeFromBucketSpec(this._url,e):this._bucket=CU(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){bj("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){bj("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=ki(mi().mark((function e(){var t,n;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=ki(mi().mark((function e(){var t,n;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new gU(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new vj(cj());var o=function(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=wj(e.urlParams),u=e.url+s,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new xj(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=ki(mi().mark((function e(t,n){var r,i,a,o;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=ir(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),NU="@firebase/storage",PU="0.11.2",RU="storage";function AU(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new mU(e,new Dj(t),n)}(e=vi(e),t,n)}function OU(e){return function(e){e._throwIfRoot("getMetadata");var t=Zj(e.storage,e._location,qj());return e.storage.makeRequestWithTokens(t,vU)}(e=vi(e))}function DU(e){return function(e){var t={prefixes:[],items:[]};return yU(e,t).then((function(){return t}))}(e=vi(e))}function LU(e,t){return IU(e=vi(e),t)}function MU(e,t,n){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Mr(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function FU(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new TU(r,i,a,n,ga)}la(new wi(RU,FU,"PUBLIC").setMultipleInstances(!0)),xa(NU,PU,""),xa(NU,PU,"esm2017");var jU=function(){function e(t,n,r){ur(this,e),this._delegate=t,this.task=n,this.ref=r}return lr(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),UU=function(){function e(t,n){ur(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return lr(e,[{key:"snapshot",get:function(){return new jU(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new jU(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new jU(e,i,i._ref))}:{next:t.next?function(e){return t.next(new jU(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),qU=function(){function e(t,n){ur(this,e),this._delegate=t,this._service=n}return lr(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new zU(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new zU(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),zU=function(){function e(t,n){ur(this,e),this._delegate=t,this.storage=n}return lr(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return EU(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new UU(AU(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tj.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=Pj(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new UU(new mU(this._delegate,new Dj(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return DU(this._delegate).then((function(t){return new qU(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return kU(e=vi(e),t)}(this._delegate,e||void 0).then((function(e){return new qU(e,t.storage)}))}},{key:"getMetadata",value:function(){return OU(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return wU(e=vi(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return _U(vi(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),xU(vi(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw lj(e)}}]),e}(),VU=function(){function e(t,n){ur(this,e),this.app=t,this._delegate=n}return lr(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(BU(e))throw uj("ref() expected a child path but got a URL, use refFromURL instead.");return new zU(LU(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!BU(e))throw uj("refFromURL() expected a full URL but got a child path, use ref() instead.");try{pj.makeFromUrl(e,this._delegate.host)}catch(c$){throw uj("refFromUrl() expected a valid full URL but got an invalid one.")}return new zU(LU(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};MU(this._delegate,e,t,n)}}]),e}();function BU(e){return/^[A-Za-z]+:\/\//.test(e)}function WU(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new VU(r,i)}!function(e){var t={TaskState:uU,TaskEvent:sU,StringFormat:Tj,Storage:VU,Reference:zU};e.INTERNAL.registerComponent(new wi("storage-compat",WU,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.2")}(Ya);Ya.initializeApp({apiKey:"AIzaSyDE-Cl5RxG1byLc4pjoBxD3aXWO3wi43P8",authDomain:"diary-6211f.firebaseapp.com",projectId:"diary-6211f",storageBucket:"diary-6211f.appspot.com",messagingSenderId:"765031385372",appId:"1:765031385372:web:9b72a3164df87c4c9712d9",measurementId:"G-5VWBRJH7V4"}),Ya.storage();var HU="@firebase/database",GU="0.14.4",KU="";function QU(e){KU=e}var YU=function(){function e(t){ur(this,e),this.domStorage_=t,this.prefix_="firebase:"}return lr(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Yr(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Qr(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),XU=function(){function e(){ur(this,e),this.cache_={},this.isInMemoryStorage=!0}return lr(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Jr(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),JU=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new YU(t)}}catch(c$){}return new XU},$U=JU("localStorage"),ZU=JU("sessionStorage"),eq=new Ai("@firebase/database"),tq=function(){var e=1;return function(){return e++}}(),nq=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,xr(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new oi;n.update(t);var r=n.digest();return Ir.encodeByteArray(r)},rq=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?Yr(r):r,t+=" "}return t},iq=null,aq=!0,oq=function(e,t){xr(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(eq.logLevel=Si.VERBOSE,iq=eq.log.bind(eq),t&&ZU.set("logging_enabled",!0)):"function"===typeof e?iq=e:(iq=null,ZU.remove("logging_enabled"))},sq=function(){if(!0===aq&&(aq=!1,null===iq&&!0===ZU.get("logging_enabled")&&oq(!0)),iq){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=rq.apply(null,t);iq(r)}},uq=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];sq.apply(void 0,[e].concat(n))}},cq=function(){var e="FIREBASE INTERNAL ERROR: "+rq.apply(void 0,arguments);eq.error(e)},lq=function(){var e="FIREBASE FATAL ERROR: ".concat(rq.apply(void 0,arguments));throw eq.error(e),new Error(e)},hq=function(){var e="FIREBASE WARNING: "+rq.apply(void 0,arguments);eq.warn(e)},fq=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},dq="[MIN_NAME]",pq="[MAX_NAME]",vq=function(e,t){if(e===t)return 0;if(e===dq||t===pq)return-1;if(t===dq||e===pq)return 1;var n=xq(e),r=xq(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},mq=function(e,t){return e===t?0:e<t?-1:1},gq=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Yr(t))},yq=function e(t){if("object"!==typeof t||null===t)return Yr(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Yr(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},bq=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function kq(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var wq=function(e){xr(!fq(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var _q=new RegExp("^-?(0*)\\d{1,10}$"),xq=function(e){if(_q.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Eq=function(e){try{e()}catch(c$){setTimeout((function(){var t=c$.stack||"";throw hq("Exception was thrown by user callback.",t),c$}),Math.floor(0))}},Sq=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},Iq=function(){function e(t,n){var r=this;ur(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return lr(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){hq('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),Cq=function(){function e(t,n,r){var i=this;ur(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return lr(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(sq("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',hq(e)}}]),e}(),Tq=function(){function e(t){ur(this,e),this.accessToken=t}return lr(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();Tq.OWNER="owner";var Nq="5",Pq=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Rq="ac",Aq="websocket",Oq="long_polling",Dq=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];ur(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=$U.get("host:"+t)||this._host}return lr(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&$U.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function Lq(e,t,n){var r;if(xr("string"===typeof t,"typeof type must == string"),xr("object"===typeof n,"typeof params must == object"),t===Aq)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Oq)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return kq(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var Mq=function(){function e(){ur(this,e),this.counters_={}}return lr(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Jr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return Rr(void 0,this.counters_)}}]),e}(),Fq={},jq={};function Uq(e){var t=e.toString();return Fq[t]||(Fq[t]=new Mq),Fq[t]}var qq=function(){function e(t){ur(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return lr(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&Eq((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),1;n.currentResponseNum++};this.pendingResponses[this.currentResponseNum]&&!r(););}}]),e}(),zq="start",Vq=function(){function e(t,n,r,i,a,o,s){var u=this;ur(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=uq(t),this.stats_=Uq(n),this.urlFn=function(e){return u.appCheckToken&&(e[Rq]=u.appCheckToken),Lq(n,Oq,e)}}return lr(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new qq(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Br()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Bq((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===zq)n.id=a,n.password=o;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[zq]="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=Nq,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e[Rq]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&Pq.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Yr(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Tr(t),r=bq(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Br()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Yr(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Br()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),Bq=function(){function e(t,n,r,i){if(ur(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Br())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=tq(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(c$){sq("frame writing exception"),c$.stack&&sq(c$.stack),sq(c$)}}}return lr(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Br()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){sq("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(c$){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||sq("No IE domain setting required")}catch(c$){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),Wq=null;"undefined"!==typeof MozWebSocket?Wq=MozWebSocket:"undefined"!==typeof WebSocket&&(Wq=WebSocket);var Hq=function(){function e(t,n,r,i,a,o,s){ur(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=uq(this.connId),this.stats_=Uq(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return lr(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$U.set("previous_websocket_failure",!0);try{var r;if(Br()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(Nq,"/").concat(KU,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/notebook",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDE-Cl5RxG1byLc4pjoBxD3aXWO3wi43P8",REACT_APP_FIREBASE_AUTH_DOMAIN:"diary-6211f.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"diary-6211f",REACT_APP_FIREBASE_STORAGE_BUCKET:"diary-6211f.appspot.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"765031385372",REACT_APP_FIREBASE_APP_ID:"1:765031385372:web:9b72a3164df87c4c9712d9",REACT_APP_FIREBASE_MEASUMENT_ID:"G-5VWBRJH7V4"},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new Wq(this.connURL,[],r)}catch(c$){this.log_("Error instantiating WebSocket.");var s=c$.message||c$.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){$U.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Qr(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(xr(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Yr(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=bq(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(c$){this.log_("Exception thrown from WebSocket.send():",c$.message||c$.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=Nq,!Br()&&"undefined"!==typeof location&&location.hostname&&Pq.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a[Rq]=r),i&&(a.p=i),Lq(e,Aq,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Wq&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return $U.isInMemoryStorage||!0===$U.get("previous_websocket_failure")}}]),e}();Hq.responsesRequiredToBeHealthy=2,Hq.healthyTimeout=3e4;var Gq=function(){function e(t){ur(this,e),this.initTransports_(t)}return lr(e,[{key:"initTransports_",value:function(t){var n=Hq&&Hq.isAvailable(),r=n&&!Hq.previouslyFailed();if(t.webSocketOnly&&(n||hq("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Hq];else{var i,a=this.transports_=[],o=hr(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[Vq,Hq]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();Gq.globalTransportInitialized_=!1;var Kq=function(){function e(t,n,r,i,a,o,s,u,c,l){ur(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=uq("c:"+this.id+":"),this.transportManager_=new Gq(n),this.log_("Connection created"),this.start_()}return lr(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Sq((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=gq("t",e),n=gq("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=gq("t",e),n=gq("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=gq("t",e);if("d"in e){var n=e.d;if("h"===t){var r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?cq("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):cq("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Nq!==n&&hq("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Sq((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Sq((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($U.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),Qq=function(){function e(){ur(this,e)}return lr(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),Yq=function(){function e(t){ur(this,e),this.allowedEvents_=t,this.listeners_={},xr(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return lr(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=yi(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){xr(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),Xq=function(e){pr(n,e);var t=gr(n);function n(){var e;return ur(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||jr()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return lr(n,[{key:"getInitialEvent",value:function(e){return xr("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(Yq),Jq=32,$q=768,Zq=function(){function e(t,n){if(ur(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return lr(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function ez(){return new Zq("")}function tz(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function nz(e){return e.pieces_.length-e.pieceNum_}function rz(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Zq(e.pieces_,t)}function iz(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function az(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function oz(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Zq(t,0)}function sz(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Zq)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new Zq(n,0)}function uz(e){return e.pieceNum_>=e.pieces_.length}function cz(e,t){var n=tz(e),r=tz(t);if(null===n)return t;if(n===r)return cz(rz(e),rz(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function lz(e,t){for(var n=az(e,0),r=az(t,0),i=0;i<n.length&&i<r.length;i++){var a=vq(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function hz(e,t){if(nz(e)!==nz(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function fz(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(nz(e)>nz(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var dz=lr((function e(t,n){ur(this,e),this.errorPrefix_=n,this.parts_=az(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=pi(this.parts_[r]);pz(this)}));function pz(e){if(e.byteLength_>$q)throw new Error(e.errorPrefix_+"has a key path longer than "+$q+" bytes ("+e.byteLength_+").");if(e.parts_.length>Jq)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Jq+") or object contains a cycle "+vz(e))}function vz(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var mz=function(e){pr(n,e);var t=gr(n);function n(){var e,r,i;return ur(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return lr(n,[{key:"getInitialEvent",value:function(e){return xr("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(Yq),gz=1e3,yz=function(e){pr(n,e);var t=gr(n);function n(e,r,i,a,o,s,u,c){var l;if(ur(this,n),(l=t.call(this)).repoInfo_=e,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=o,l.authTokenProvider_=s,l.appCheckTokenProvider_=u,l.authOverride_=c,l.id=n.nextPersistentConnectionId_++,l.log_=uq("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=gz,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Br())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return mz.getInstance().on("visible",l.onVisible_,fr(l)),-1===e.host.indexOf("fblocal")&&Xq.getInstance().on("online",l.onOnline_,fr(l)),l}return lr(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Yr(i)),xr(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new Lr,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),xr(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),xr(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=Xr(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=Xr(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),xr(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Yr(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):cq("Unrecognized action received from server: "+Yr(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;xr(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=gz,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=gz,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=gz),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=ki(mi().mark((function e(){var t,r,i,a,o,s,u,c,l,h,f,d,p,v,m=this;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,u=null,c=function(){u?u.close():(s=!0,i())},l=function(e){xr(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:c,sendRequest:l},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);case 19:f=e.sent,d=ir(f,2),p=d[0],v=d[1],s?sq("getToken() completed but was canceled"):(sq("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=v&&v.token,u=new Kq(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){hq(e+" ("+m.repoInfo_.toString()+")"),m.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&hq(e.t0),c());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){sq("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){sq("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Zr(this.interruptReasons_)&&(this.reconnectDelay_=gz,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return yq(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new Zq(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){sq("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){sq("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=hr(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=hr(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Br()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+KU.replace(/\./g,"-")]=1,jr()?e["framework.cordova"]=1:zr()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=Xq.getInstance().currentlyOnline();return Zr(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Jr(e,"w")){var n=$r(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();hq("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(Qq);yz.nextPersistentConnectionId_=0,yz.nextConnectionId_=0;var bz,kz=function(){function e(t,n){ur(this,e),this.name=t,this.node=n}return lr(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),wz=function(){function e(){ur(this,e)}return lr(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new kz(dq,e),r=new kz(dq,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return kz.MIN}}]),e}(),_z=function(e){pr(n,e);var t=gr(n);function n(){return ur(this,n),t.apply(this,arguments)}return lr(n,[{key:"compare",value:function(e,t){return vq(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw Er("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return kz.MIN}},{key:"maxPost",value:function(){return new kz(pq,bz)}},{key:"makePost",value:function(e,t){return xr("string"===typeof e,"KeyIndex indexValue must always be a string."),new kz(e,bz)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return bz},set:function(e){bz=e}}]),n}(wz),xz=new _z,Ez=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;ur(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return lr(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),Sz=function(){function e(t,n,r,i,a){ur(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Tz.EMPTY_NODE,this.right=null!=a?a:Tz.EMPTY_NODE}return lr(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return Tz.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Tz.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();Sz.RED=!0,Sz.BLACK=!1;var Iz,Cz=function(){function e(){ur(this,e)}return lr(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Sz(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),Tz=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;ur(this,e),this.comparator_=t,this.root_=n}return lr(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Sz.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Sz.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new Ez(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new Ez(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new Ez(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new Ez(this.root_,null,this.comparator_,!0,e)}}]),e}();function Nz(e,t){return vq(e.name,t.name)}function Pz(e,t){return vq(e,t)}Tz.EMPTY_NODE=new Cz;var Rz,Az,Oz,Dz=function(e){return"number"===typeof e?"number:"+wq(e):"string:"+e},Lz=function(e){if(e.isLeafNode()){var t=e.val();xr("string"===typeof t||"number"===typeof t||"object"===typeof t&&Jr(t,".sv"),"Priority must be a string or number.")}else xr(e===Iz||e.isEmpty(),"priority of unexpected type.");xr(e===Iz||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Mz=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;ur(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,xr(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Lz(this.priorityNode_)}return lr(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return uz(t)?this:".priority"===tz(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=tz(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(xr(".priority"!==r||1===nz(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(rz(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Dz(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?wq(this.value_):this.value_,this.lazyHash_=nq(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(xr(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return xr(i>=0,"Unknown leaf type: "+n),xr(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return Rz},set:function(e){Rz=e}}]),e}();Mz.VALUE_TYPE_ORDER=["object","boolean","number","string"];var Fz,jz,Uz=function(e){pr(n,e);var t=gr(n);function n(){return ur(this,n),t.apply(this,arguments)}return lr(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?vq(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return kz.MIN}},{key:"maxPost",value:function(){return new kz(pq,new Mz("[PRIORITY-POST]",Oz))}},{key:"makePost",value:function(e,t){var n=Az(e);return new kz(t,new Mz("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(wz),qz=new Uz,zz=Math.log(2),Vz=function(){function e(t){ur(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/zz,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return lr(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),Bz=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new Sz(o,a.node,Sz.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return a=e[u],o=n?n(a):a,new Sz(o,a.node,Sz.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var c=i(a+1,s),l=e[a],h=n?n(l):l;u(new Sz(h,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?s(h,Sz.BLACK):(s(h,Sz.BLACK),s(h,Sz.RED))}return a}(new Vz(e.length));return new Tz(r||t,a)},Wz={},Hz=function(){function e(t,n){ur(this,e),this.indexes_=t,this.indexSet_=n}return lr(e,[{key:"get",value:function(e){var t=$r(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Tz?t:null}},{key:"hasIndex",value:function(e){return Jr(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){xr(t!==xz,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(kz.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?Bz(i,t.getCompare()):Wz;var u=t.toString(),c=Object.assign({},this.indexSet_);c[u]=t;var l=Object.assign({},this.indexes_);return l[u]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(ei(this.indexes_,(function(e,i){var a=$r(r.indexSet_,i);if(xr(a,"Missing index implementation for "+i),e===Wz){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(kz.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),Bz(o,a.getCompare())}return Wz}var c=n.get(t.name),l=e;return c&&(l=l.remove(new kz(t.name,c))),l.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(ei(this.indexes_,(function(e){if(e===Wz)return e;var r=n.get(t.name);return r?e.remove(new kz(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return xr(Wz&&qz,"ChildrenNode.ts has not been loaded"),Fz=Fz||new e({".priority":Wz},{".priority":qz})}}]),e}(),Gz=function(){function e(t,n,r){ur(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Lz(this.priorityNode_),this.children_.isEmpty()&&xr(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return lr(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||jz}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?jz:t}},{key:"getChild",value:function(e){var t=tz(e);return null===t?this:this.getImmediateChild(t).getChild(rz(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(xr(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new kz(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?jz:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=tz(e);if(null===n)return t;xr(".priority"!==tz(e)||1===nz(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(rz(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(qz,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Dz(this.getPriority().val())+":"),this.forEachChild(qz,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":nq(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new kz(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new kz(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new kz(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,kz.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,kz.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Kz?-1:0}},{key:"withIndex",value:function(t){if(t===xz||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===xz||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(qz),r=t.getIterator(qz),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===xz?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return jz||(jz=new e(new Tz(Pz),null,Hz.Default))}}]),e}();Gz.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var Kz=new(function(e){pr(n,e);var t=gr(n);function n(){return ur(this,n),t.call(this,new Tz(Pz),Gz.EMPTY_NODE,Hz.Default)}return lr(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return Gz.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(Gz));Object.defineProperties(kz,{MIN:{value:new kz(dq,Gz.EMPTY_NODE)},MAX:{value:new kz(pq,Kz)}}),_z.__EMPTY_NODE=Gz.EMPTY_NODE,Mz.__childrenNodeConstructor=Gz,Iz=Kz,function(e){Oz=e}(Kz);var Qz=!0;function Yz(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Gz.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),xr(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new Mz(e,Yz(t));if(e instanceof Array||!Qz){var n=Gz.EMPTY_NODE;return kq(e,(function(t,r){if(Jr(e,t)&&"."!==t.substring(0,1)){var i=Yz(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(Yz(t))}var r=[],i=!1;if(kq(e,(function(e,t){if("."!==e.substring(0,1)){var n=Yz(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new kz(e,n)))}})),0===r.length)return Gz.EMPTY_NODE;var a=Bz(r,Nz,(function(e){return e.name}),Pz);if(i){var o=Bz(r,qz.getCompare());return new Gz(a,Yz(t),new Hz({".priority":o},{".priority":qz}))}return new Gz(a,Yz(t),Hz.Default)}!function(e){Az=e}(Yz);var Xz=function(e){pr(n,e);var t=gr(n);function n(e){var r;return ur(this,n),(r=t.call(this)).indexPath_=e,xr(!uz(e)&&".priority"!==tz(e),"Can't create PathIndex with empty path or .priority key"),r}return lr(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?vq(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=Yz(e),r=Gz.EMPTY_NODE.updateChild(this.indexPath_,n);return new kz(t,r)}},{key:"maxPost",value:function(){var e=Gz.EMPTY_NODE.updateChild(this.indexPath_,Kz);return new kz(pq,e)}},{key:"toString",value:function(){return az(this.indexPath_,0).join("/")}}]),n}(wz),Jz=function(e){pr(n,e);var t=gr(n);function n(){return ur(this,n),t.apply(this,arguments)}return lr(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?vq(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return kz.MIN}},{key:"maxPost",value:function(){return kz.MAX}},{key:"makePost",value:function(e,t){var n=Yz(e);return new kz(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(wz),$z=new Jz;function Zz(e){return{type:"value",snapshotNode:e}}function eV(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function tV(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function nV(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var rV=function(){function e(t){ur(this,e),this.index_=t}return lr(e,[{key:"updateChild",value:function(e,t,n,r,i,a){xr(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(tV(t,o)):xr(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(eV(t,n)):a.trackChildChange(nV(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(qz,(function(e,r){t.hasChild(e)||n.trackChildChange(tV(e,r))})),t.isLeafNode()||t.forEachChild(qz,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(nV(t,r,i))}else n.trackChildChange(eV(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?Gz.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),iV=function(){function e(t){ur(this,e),this.indexedFilter_=new rV(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return lr(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){var t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new kz(t,n))||(n=Gz.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=Gz.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(Gz.EMPTY_NODE);var i=this;return t.forEachChild(qz,(function(e,t){i.matches(new kz(e,t))||(r=r.updateImmediateChild(e,Gz.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),aV=function(){function e(t){var n=this;ur(this,e),this.withinDirectionalStart=function(e){return n.reverse_?n.withinEndPost(e):n.withinStartPost(e)},this.withinDirectionalEnd=function(e){return n.reverse_?n.withinStartPost(e):n.withinEndPost(e)},this.withinStartPost=function(e){var t=n.index_.compare(n.rangedFilter_.getStartPost(),e);return n.startIsInclusive_?t<=0:t<0},this.withinEndPost=function(e){var t=n.index_.compare(e,n.rangedFilter_.getEndPost());return n.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new iV(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return lr(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new kz(t,n))||(n=Gz.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=Gz.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=Gz.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(this.withinDirectionalStart(o)){if(!this.withinDirectionalEnd(o))break;r=r.updateImmediateChild(o.name,o.node),a++}}}else{var s;r=(r=t.withIndex(this.index_)).updatePriority(Gz.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);for(var u=0;s.hasNext();){var c=s.getNext();u<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?u++:r=r.updateImmediateChild(c.name,Gz.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var s=e;xr(s.numChildren()===this.limit_,"");var u=new kz(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var h=s.getImmediateChild(t),f=r.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name===t||s.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var d=null==f?1:a(f,u);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(nV(t,n,h)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(tV(t,h));var p=s.updateImmediateChild(t,Gz.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(eV(f.name,f.node)),p.updateImmediateChild(f.name,f.node)):p}return n.isEmpty()?e:l&&a(c,u)>=0?(null!=i&&(i.trackChildChange(tV(c.name,c.node)),i.trackChildChange(eV(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,Gz.EMPTY_NODE)):e}}]),e}(),oV=function(){function e(){ur(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=qz}return lr(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return xr(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return xr(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:dq}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return xr(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return xr(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:pq}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return xr(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===qz}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function sV(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function uV(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function cV(e,t){var n=e.copy();return n.index_=t,n}function lV(e){var t,n={};if(e.isDefault())return n;if(e.index_===qz?t="$priority":e.index_===$z?t="$value":e.index_===xz?t="$key":(xr(e.index_ instanceof Xz,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Yr(t),e.startSet_){var r=e.startAfterSet_?"startAfter":"startAt";n[r]=Yr(e.indexStartValue_),e.startNameSet_&&(n[r]+=","+Yr(e.indexStartName_))}if(e.endSet_){var i=e.endBeforeSet_?"endBefore":"endAt";n[i]=Yr(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+Yr(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function hV(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==qz&&(t.i=e.index_.toString()),t}var fV=function(e){pr(n,e);var t=gr(n);function n(e,r,i,a){var o;return ur(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=uq("p:rest:"),o.listens_={},o}return lr(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var c=lV(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),$r(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=lV(e._queryParams),r=e._path.toString(),i=new Lr;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=ir(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var u=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+ri(n);t.log_("Sending REST request for "+u);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(r&&4===c.readyState){t.log_("REST Response for "+u+" received. status:",c.status,"response:",c.responseText);var e=null;if(c.status>=200&&c.status<300){try{e=Qr(c.responseText)}catch(c$){hq("Failed to parse JSON response for "+u+": "+c.responseText)}r(null,e)}else 401!==c.status&&404!==c.status&&hq("Got unsuccessful REST response for "+u+" Status: "+c.status),r(c.status);r=null}},c.open("GET",u,!0),c.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(xr(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(Qq),dV=function(){function e(){ur(this,e),this.rootNode_=Gz.EMPTY_NODE}return lr(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function pV(){return{value:null,children:new Map}}function vV(e,t,n){if(uz(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=tz(t);e.children.has(r)||e.children.set(r,pV()),vV(e.children.get(r),t=rz(t),n)}}function mV(e,t){if(uz(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(qz,(function(t,n){vV(e,new Zq(t),n)})),mV(e,t)}if(e.children.size>0){var r=tz(t);if(t=rz(t),e.children.has(r))mV(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function gV(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){gV(r,new Zq(t.toString()+"/"+e),n)}))}var yV,bV=function(){function e(t){ur(this,e),this.collection_=t,this.last_=null}return lr(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&kq(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),kV=function(){function e(t,n){ur(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new bV(t);var r=1e4+2e4*Math.random();Sq(this.reportStats_.bind(this),Math.floor(r))}return lr(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;kq(t,(function(t,i){i>0&&Jr(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),Sq(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function wV(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(yV||(yV={}));var _V,xV=function(){function e(t,n,r){ur(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=yV.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return lr(e,[{key:"operationForChild",value:function(t){if(uz(this.path)){if(null!=this.affectedTree.value)return xr(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Zq(t));return new e(ez(),n,this.revert)}return xr(tz(this.path)===t,"operationForChild called for unrelated child."),new e(rz(this.path),this.affectedTree,this.revert)}}]),e}(),EV=function(){function e(t,n){ur(this,e),this.source=t,this.path=n,this.type=yV.LISTEN_COMPLETE}return lr(e,[{key:"operationForChild",value:function(t){return uz(this.path)?new e(this.source,ez()):new e(this.source,rz(this.path))}}]),e}(),SV=function(){function e(t,n,r){ur(this,e),this.source=t,this.path=n,this.snap=r,this.type=yV.OVERWRITE}return lr(e,[{key:"operationForChild",value:function(t){return uz(this.path)?new e(this.source,ez(),this.snap.getImmediateChild(t)):new e(this.source,rz(this.path),this.snap)}}]),e}(),IV=function(){function e(t,n,r){ur(this,e),this.source=t,this.path=n,this.children=r,this.type=yV.MERGE}return lr(e,[{key:"operationForChild",value:function(t){if(uz(this.path)){var n=this.children.subtree(new Zq(t));return n.isEmpty()?null:n.value?new SV(this.source,ez(),n.value):new e(this.source,ez(),n)}return xr(tz(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,rz(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),CV=function(){function e(t,n,r){ur(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return lr(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(uz(e))return this.isFullyInitialized()&&!this.filtered_;var t=tz(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),TV=lr((function e(t){ur(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function NV(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Er("Should only compare child_ events.");var r=new kz(t.childName,t.snapshotNode),i=new kz(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function PV(e,t){return{eventCache:e,serverCache:t}}function RV(e,t,n,r){return PV(new CV(t,n,r),e.serverCache)}function AV(e,t,n,r){return PV(e.eventCache,new CV(t,n,r))}function OV(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function DV(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var LV=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(_V||(_V=new Tz(mq)),_V);ur(this,e),this.value=t,this.children=n}return lr(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:ez(),value:this.value};if(uz(e))return null;var n=tz(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(rz(e),t);return null!=i?{path:sz(new Zq(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(uz(t))return this;var n=tz(t),r=this.children.get(n);return null!==r?r.subtree(rz(t)):new e(null)}},{key:"set",value:function(t,n){if(uz(t))return new e(n,this.children);var r=tz(t),i=(this.children.get(r)||new e(null)).set(rz(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(uz(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=tz(t),r=this.children.get(n);if(r){var i,a=r.remove(rz(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(uz(e))return this.value;var t=tz(e),n=this.children.get(t);return n?n.get(rz(e)):null}},{key:"setTree",value:function(t,n){if(uz(t))return n;var r,i=tz(t),a=(this.children.get(i)||new e(null)).setTree(rz(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(ez(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(sz(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,ez(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(uz(e))return null;var i=tz(e),a=this.children.get(i);return a?a.findOnPath_(rz(e),sz(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,ez(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(uz(t))return this;this.value&&r(n,this.value);var i=tz(t),a=this.children.get(i);return a?a.foreachOnPath_(rz(t),sz(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(ez(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(sz(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return kq(t,(function(e,t){n=n.set(new Zq(e),t)})),n}}]),e}(),MV=function(){function e(t){ur(this,e),this.writeTree_=t}return lr(e,null,[{key:"empty",value:function(){return new e(new LV(null))}}]),e}();function FV(e,t,n){if(uz(t))return new MV(new LV(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=cz(i,t);return a=a.updateChild(o,n),new MV(e.writeTree_.set(i,a))}var s=new LV(n),u=e.writeTree_.setTree(t,s);return new MV(u)}function jV(e,t,n){var r=e;return kq(n,(function(e,n){r=FV(r,sz(t,e),n)})),r}function UV(e,t){if(uz(t))return MV.empty();var n=e.writeTree_.setTree(t,new LV(null));return new MV(n)}function qV(e,t){return null!=zV(e,t)}function zV(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(cz(n.path,t)):null}function VV(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(qz,(function(e,n){t.push(new kz(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new kz(e,n.value))})),t}function BV(e,t){if(uz(t))return e;var n=zV(e,t);return new MV(null!=n?new LV(n):e.writeTree_.subtree(t))}function WV(e){return e.writeTree_.isEmpty()}function HV(e,t){return GV(ez(),e.writeTree_,t)}function GV(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(xr(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=GV(sz(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(sz(e,".priority"),r)),n}function KV(e,t){return oB(t,e)}function QV(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));xr(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&YV(s,r.path)?i=!1:fz(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=JV(e.allWrites,XV,ez()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=UV(e.visibleWrites,r.path):kq(r.children,(function(t){e.visibleWrites=UV(e.visibleWrites,sz(r.path,t))}));return!0}return!1}function YV(e,t){if(e.snap)return fz(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&fz(sz(e.path,n),t))return!0;return!1}function XV(e){return e.visible}function JV(e,t,n){for(var r=MV.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)fz(n,o)?r=FV(r,s=cz(n,o),a.snap):fz(o,n)&&(s=cz(o,n),r=FV(r,ez(),a.snap.getChild(s)));else{if(!a.children)throw Er("WriteRecord should have .snap or .children");if(fz(n,o))r=jV(r,s=cz(n,o),a.children);else if(fz(o,n))if(uz(s=cz(o,n)))r=jV(r,ez(),a.children);else{var u=$r(a.children,tz(s));if(u){var c=u.getChild(rz(s));r=FV(r,ez(),c)}}}}}return r}function $V(e,t,n,r,i){if(r||i){var a=BV(e.visibleWrites,t);if(!i&&WV(a))return n;if(i||null!=n||qV(a,ez())){return HV(JV(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(fz(e.path,t)||fz(t,e.path))}),t),n||Gz.EMPTY_NODE)}return null}var o=zV(e.visibleWrites,t);if(null!=o)return o;var s=BV(e.visibleWrites,t);return WV(s)?n:null!=n||qV(s,ez())?HV(s,n||Gz.EMPTY_NODE):null}function ZV(e,t,n,r){return $V(e.writeTree,e.treePath,t,n,r)}function eB(e,t){return function(e,t,n){var r=Gz.EMPTY_NODE,i=zV(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(qz,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=BV(e.visibleWrites,t);return n.forEachChild(qz,(function(e,t){var n=HV(BV(a,new Zq(e)),t);r=r.updateImmediateChild(e,n)})),VV(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return VV(BV(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function tB(e,t,n,r){return function(e,t,n,r,i){xr(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=sz(t,n);if(qV(e.visibleWrites,a))return null;var o=BV(e.visibleWrites,a);return WV(o)?i.getChild(n):HV(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function nB(e,t){return function(e,t){return zV(e.visibleWrites,t)}(e.writeTree,sz(e.treePath,t))}function rB(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=BV(e.visibleWrites,t),c=zV(u,ez());if(null!=c)s=c;else{if(null==n)return[];s=HV(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=o.getCompare(),f=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=f.getNext();d&&l.length<i;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function iB(e,t,n){return function(e,t,n,r){var i=sz(t,n),a=zV(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?HV(BV(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function aB(e,t){return oB(sz(e.treePath,t),e.writeTree)}function oB(e,t){return{treePath:e,writeTree:t}}var sB=function(){function e(){ur(this,e),this.changeMap=new Map}return lr(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;xr("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),xr(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,nV(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,tV(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,eV(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Er("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,nV(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),uB=new(function(){function e(){ur(this,e)}return lr(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),cB=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;ur(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return lr(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new CV(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return iB(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:DV(this.viewCache_),i=rB(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function lB(e,t,n,r,i){var a,o,s=new sB;if(n.type===yV.OVERWRITE){var u=n;u.source.fromUser?a=dB(e,t,u.path,u.snap,r,i,s):(xr(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!uz(u.path),a=fB(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===yV.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var c=sz(n,r);pB(t,tz(c))&&(s=dB(e,s,c,u,i,a,o))})),r.foreach((function(r,u){var c=sz(n,r);pB(t,tz(c))||(s=dB(e,s,c,u,i,a,o))})),s}(e,t,c.path,c.children,r,i,s):(xr(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=mB(e,t,c.path,c.children,r,i,o,s))}else if(n.type===yV.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=nB(r,n))return t;var s,u=new cB(r,t,i),c=t.eventCache.getNode();if(uz(n)||".priority"===tz(n)){var l;if(t.serverCache.isFullyInitialized())l=ZV(r,DV(t));else{var h=t.serverCache.getNode();xr(h instanceof Gz,"serverChildren would be complete if leaf node"),l=eB(r,h)}s=e.filter.updateFullNode(c,l,a)}else{var f=tz(n),d=iB(r,f,t.serverCache);null==d&&t.serverCache.isCompleteForChild(f)&&(d=c.getImmediateChild(f)),(s=null!=d?e.filter.updateChild(c,f,d,rz(n),u,a):t.eventCache.getNode().hasChild(f)?e.filter.updateChild(c,f,Gz.EMPTY_NODE,rz(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=ZV(r,DV(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=nB(r,ez()),RV(t,s,o,e.filter.filtersNodes())}(e,t,l.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=nB(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(uz(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return fB(e,t,n,u.getNode().getChild(n),i,a,s,o);if(uz(n)){var c=new LV(null);return u.getNode().forEachChild(xz,(function(e,t){c=c.set(new Zq(e),t)})),mB(e,t,n,c,i,a,s,o)}return t}var l=new LV(null);return r.foreach((function(e,t){var r=sz(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),mB(e,t,n,l,i,a,s,o)}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==yV.LISTEN_COMPLETE)throw Er("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=AV(t,a.getNode(),a.isFullyInitialized()||uz(n),a.isFiltered());return hB(e,o,n,r,uB,i)}(e,t,n.path,r,s)}var h=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=OV(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(Zz(OV(t)))}}(t,a,h),{viewCache:a,changes:h}}function hB(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=nB(r,n))return t;if(uz(n))if(xr(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=DV(t),l=eB(r,c instanceof Gz?c:Gz.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var h=ZV(r,DV(t));o=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var f=tz(n);if(".priority"===f){xr(1===nz(n),"Can't have a priority with additional path components");var d=u.getNode(),p=tB(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,m=rz(n);if(u.isCompleteForChild(f)){s=t.serverCache.getNode();var g=tB(r,n,u.getNode(),s);v=null!=g?u.getNode().getImmediateChild(f).updateChild(m,g):u.getNode().getImmediateChild(f)}else v=iB(r,f,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),f,v,m,i,a):u.getNode()}}return RV(t,o,u.isFullyInitialized()||uz(n),e.filter.filtersNodes())}function fB(e,t,n,r,i,a,o,s){var u,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(uz(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=tz(n);if(!c.isCompleteForPath(n)&&nz(n)>1)return t;var d=rz(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,uB,null)}var v=AV(t,u,c.isFullyInitialized()||uz(n),l.filtersNodes());return hB(e,v,n,i,new cB(i,v,a),s)}function dB(e,t,n,r,i,a,o){var s,u,c=t.eventCache,l=new cB(i,t,a);if(uz(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=RV(t,u,!0,e.filter.filtersNodes());else{var h=tz(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=RV(t,u,c.isFullyInitialized(),c.isFiltered());else{var f,d=rz(n),p=c.getNode().getImmediateChild(h);if(uz(d))f=r;else{var v=l.getCompleteChild(h);f=null!=v?".priority"===iz(d)&&v.getChild(oz(d)).isEmpty()?v:v.updateChild(d,r):Gz.EMPTY_NODE}if(p.equals(f))s=t;else s=RV(t,e.filter.updateChild(c.getNode(),h,f,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function pB(e,t){return e.eventCache.isCompleteForChild(t)}function vB(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function mB(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=uz(n)?r:new LV(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=vB(0,t.serverCache.getNode().getImmediateChild(n),r);c=fB(e,c,new Zq(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!l.hasChild(n)&&!u){var h=vB(0,t.serverCache.getNode().getImmediateChild(n),r);c=fB(e,c,new Zq(n),h,i,a,o,s)}})),c}var gB,yB=function(){function e(t,n){ur(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new rV(i.getIndex()),o=(r=i).loadsAllData()?new rV(r.getIndex()):r.hasLimit()?new aV(r):new iV(r);this.processor_=function(e){return{filter:e}}(o);var s=n.serverCache,u=n.eventCache,c=a.updateFullNode(Gz.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(Gz.EMPTY_NODE,u.getNode(),null),h=new CV(c,s.isFullyInitialized(),a.filtersNodes()),f=new CV(l,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=PV(f,h),this.eventGenerator_=new TV(this.query_)}return lr(e,[{key:"query",get:function(){return this.query_}}]),e}();function bB(e,t){var n=DV(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!uz(t)&&!n.getImmediateChild(tz(t)).isEmpty())?n.getChild(t):null}function kB(e){return 0===e.eventRegistrations_.length}function wB(e,t,n){var r=[];if(n){xr(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(s)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function _B(e,t,n,r){t.type===yV.MERGE&&null!==t.source.queryId&&(xr(DV(e.viewCache_),"We should always have a full cache before handling merges"),xr(OV(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=lB(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,xr(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),xr(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),xr(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,xB(e,s.changes,s.viewCache.eventCache.getNode(),null)}function xB(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),NV(e,i,"child_removed",t,r,n),NV(e,i,"child_added",t,r,n),NV(e,i,"child_moved",a,r,n),NV(e,i,"child_changed",t,r,n),NV(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var EB,SB=lr((function e(){ur(this,e),this.views=new Map}));function IB(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return xr(null!=a,"SyncTree gave us an op for an invalid query."),_B(a,t,n,r)}var o,s=[],u=hr(e.views.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s=s.concat(_B(c,t,n,r))}}catch(l){u.e(l)}finally{u.f()}return s}function CB(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var s=ZV(n,i?r:null),u=!1;s?u=!0:r instanceof Gz?(s=eB(n,r),u=!1):(s=Gz.EMPTY_NODE,u=!1);var c=PV(new CV(s,u,!1),new CV(r,i,!1));return new yB(t,c)}return o}function TB(e,t,n,r,i,a){var o=CB(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(qz,(function(e,t){r.push(eV(e,t))})),n.isFullyInitialized()&&r.push(Zz(n.getNode())),xB(e,r,n.getNode(),t)}(o,n)}function NB(e,t,n,r){var i=t._queryIdentifier,a=[],o=[],s=DB(e);if("default"===i){var u,c=hr(e.views.entries());try{for(c.s();!(u=c.n()).done;){var l=ir(u.value,2),h=l[0],f=l[1];o=o.concat(wB(f,n,r)),kB(f)&&(e.views.delete(h),f.query._queryParams.loadsAllData()||a.push(f.query))}}catch(p){c.e(p)}finally{c.f()}}else{var d=e.views.get(i);d&&(o=o.concat(wB(d,n,r)),kB(d)&&(e.views.delete(i),d.query._queryParams.loadsAllData()||a.push(d.query)))}return s&&!DB(e)&&a.push(new(xr(gB,"Reference.ts has not been loaded"),gB)(t._repo,t._path)),{removed:a,events:o}}function PB(e){var t,n=[],r=hr(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function RB(e,t){var n,r=null,i=hr(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||bB(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function AB(e,t){if(t._queryParams.loadsAllData())return LB(e);var n=t._queryIdentifier;return e.views.get(n)}function OB(e,t){return null!=AB(e,t)}function DB(e){return null!=LB(e)}function LB(e){var t,n=hr(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var MB=1,FB=lr((function e(t){ur(this,e),this.listenProvider_=t,this.syncPointTree_=new LV(null),this.pendingWriteTree_={visibleWrites:MV.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function jB(e,t,n,r,i){return function(e,t,n,r,i){xr(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=FV(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?KB(e,new SV({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function UB(e,t,n,r){!function(e,t,n,r){xr(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=jV(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=LV.fromObject(n);return KB(e,new IV({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function qB(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(QV(e.pendingWriteTree_,t)){var i=new LV(null);return null!=r.snap?i=i.set(ez(),!0):kq(r.children,(function(e){i=i.set(new Zq(e),!0)})),KB(e,new xV(r.path,i,n))}return[]}function zB(e,t,n){return KB(e,new SV({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function VB(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t._path,o=e.syncPointTree_.get(a),s=[];if(o&&("default"===t._queryIdentifier||OB(o,t))){var u=NB(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(a));var c=u.removed;if(s=u.events,!i){var l=-1!==c.findIndex((function(e){return e._queryParams.loadsAllData()})),h=e.syncPointTree_.findOnPath(a,(function(e,t){return DB(t)}));if(l&&!h){var f=e.syncPointTree_.subtree(a);if(!f.isEmpty())for(var d=function(e){return e.fold((function(e,t,n){if(t&&DB(t))return[LB(t)];var r=[];return t&&(r=PB(t)),kq(n,(function(e,t){r=r.concat(t)})),r}))}(f),p=0;p<d.length;++p){var v=d[p],m=v.query,g=XB(e,v);e.listenProvider_.startListening(nW(m),JB(e,m),g.hashFn,g.onComplete)}}if(!h&&c.length>0&&!r)if(l){e.listenProvider_.stopListening(nW(t),null)}else c.forEach((function(t){var n=e.queryToTagMap.get($B(t));e.listenProvider_.stopListening(nW(t),n)}))}!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=$B(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}(e,c)}return s}function BB(e,t,n,r){var i=ZB(e,r);if(null!=i){var a=eW(i),o=a.path,s=a.queryId,u=cz(o,t);return tW(e,o,new SV(wV(s),u,n))}return[]}function WB(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t._path,a=null,o=!1;e.syncPointTree_.foreachOnPath(i,(function(e,t){var n=cz(e,i);a=a||RB(t,n),o=o||DB(t)}));var s,u=e.syncPointTree_.get(i);(u?(o=o||DB(u),a=a||RB(u,ez())):(u=new SB,e.syncPointTree_=e.syncPointTree_.set(i,u)),null!=a)?s=!0:(s=!1,a=Gz.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((function(e,t){var n=RB(t,ez());n&&(a=a.updateImmediateChild(e,n))})));var c=OB(u,t);if(!c&&!t._queryParams.loadsAllData()){var l=$B(t);xr(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=MB++;e.queryToTagMap.set(l,h),e.tagToQueryMap.set(h,l)}var f=TB(u,t,n,KV(e.pendingWriteTree_,i),a,s);if(!c&&!o&&!r){var d=AB(u,t);f=f.concat(function(e,t,n){var r=t._path,i=JB(e,t),a=XB(e,n),o=e.listenProvider_.startListening(nW(t),i,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(r);if(i)xr(!DB(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!uz(e)&&t&&DB(t))return[LB(t).query];var r=[];return t&&(r=r.concat(PB(t).map((function(e){return e.query})))),kq(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<u.length;++c){var l=u[c];e.listenProvider_.stopListening(nW(l),JB(e,l))}return o}(e,t,d))}return f}function HB(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=RB(n,cz(e,t));if(r)return r}));return $V(r,t,i,n,!0)}function GB(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=cz(e,n);r=r||RB(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||RB(i,ez()):(i=new SB,e.syncPointTree_=e.syncPointTree_.set(n,i));var a=null!=r,o=a?new CV(r,!0,!1):null;return function(e){return OV(e.viewCache_)}(CB(i,t,KV(e.pendingWriteTree_,t._path),a?o.getNode():Gz.EMPTY_NODE,a))}function KB(e,t){return QB(t,e.syncPointTree_,null,KV(e.pendingWriteTree_,ez()))}function QB(e,t,n,r){if(uz(e.path))return YB(e,t,n,r);var i=t.get(ez());null==n&&null!=i&&(n=RB(i,ez()));var a=[],o=tz(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var c=n?n.getImmediateChild(o):null,l=aB(r,o);a=a.concat(QB(s,u,c,l))}return i&&(a=a.concat(IB(i,e,r,n))),a}function YB(e,t,n,r){var i=t.get(ez());null==n&&null!=i&&(n=RB(i,ez()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=aB(r,t),u=e.operationForChild(t);u&&(a=a.concat(YB(u,i,o,s)))})),i&&(a=a.concat(IB(i,e,r,n))),a}function XB(e,t){var n=t.query,r=JB(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Gz.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=ZB(e,n);if(r){var i=eW(r),a=i.path,o=i.queryId,s=cz(a,t);return tW(e,a,new EV(wV(o),s))}return[]}(e,n._path,r):function(e,t){return KB(e,new EV({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return VB(e,n,null,i)}}}function JB(e,t){var n=$B(t);return e.queryToTagMap.get(n)}function $B(e){return e._path.toString()+"$"+e._queryIdentifier}function ZB(e,t){return e.tagToQueryMap.get(t)}function eW(e){var t=e.indexOf("$");return xr(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Zq(e.substr(0,t))}}function tW(e,t,n){var r=e.syncPointTree_.get(t);return xr(r,"Missing sync point for query tag that we're tracking"),IB(r,n,KV(e.pendingWriteTree_,t),null)}function nW(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(xr(EB,"Reference.ts has not been loaded"),EB)(e._repo,e._path):e}var rW=function(){function e(t){ur(this,e),this.node_=t}return lr(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),iW=function(){function e(t,n){ur(this,e),this.syncTree_=t,this.path_=n}return lr(e,[{key:"getImmediateChild",value:function(t){var n=sz(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return HB(this.syncTree_,this.path_)}}]),e}(),aW=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},oW=function(e,t,n){return e&&"object"===typeof e?(xr(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?sW(e[".sv"],t,n):"object"===typeof e[".sv"]?uW(e[".sv"],t):void xr(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},sW=function(e,t,n){if("timestamp"===e)return n.timestamp;xr(!1,"Unexpected server value: "+e)},uW=function(e,t,n){e.hasOwnProperty("increment")||xr(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&xr(!1,"Unexpected increment value: "+r);var i=t.node();if(xr(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},cW=function(e,t,n,r){return hW(t,new iW(n,e),r)},lW=function(e,t,n){return hW(e,new rW(t),n)};function hW(e,t,n){var r,i=e.getPriority().val(),a=oW(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=oW(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new Mz(s,Yz(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new Mz(a))),u.forEachChild(qz,(function(e,i){var a=hW(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var fW=lr((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};ur(this,e),this.name=t,this.parent=n,this.node=r}));function dW(e,t){for(var n=t instanceof Zq?t:new Zq(t),r=e,i=tz(n);null!==i;){var a=$r(r.node.children,i)||{children:{},childCount:0};r=new fW(i,r,a),i=tz(n=rz(n))}return r}function pW(e){return e.node.value}function vW(e,t){e.node.value=t,kW(e)}function mW(e){return e.node.childCount>0}function gW(e,t){kq(e.node.children,(function(n,r){t(new fW(n,e,r))}))}function yW(e,t,n,r){n&&!r&&t(e),gW(e,(function(e){yW(e,t,!0,r)})),n&&r&&t(e)}function bW(e){return new Zq(null===e.parent?e.name:bW(e.parent)+"/"+e.name)}function kW(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===pW(e)&&!mW(e)}(n),i=Jr(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,kW(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,kW(e))}(e.parent,e.name,e)}var wW=/[\[\].#$\/\u0000-\u001F\u007F]/,_W=/[\[\].#$\u0000-\u001F\u007F]/,xW=10485760,EW=function(e){return"string"===typeof e&&0!==e.length&&!wW.test(e)},SW=function(e){return"string"===typeof e&&0!==e.length&&!_W.test(e)},IW=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!fq(e)||e&&"object"===typeof e&&Jr(e,".sv")},CW=function(e,t,n,r){r&&void 0===t||TW(hi(e,"value"),t,n)},TW=function e(t,n,r){var i=r instanceof Zq?new dz(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+vz(i));if("function"===typeof n)throw new Error(t+"contains a function "+vz(i)+" with contents = "+n.toString());if(fq(n))throw new Error(t+"contains "+n.toString()+" "+vz(i));if("string"===typeof n&&n.length>xW/3&&pi(n)>xW)throw new Error(t+"contains a string greater than "+xW+" utf8 bytes "+vz(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(kq(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!EW(n)))throw new Error(t+" contains an invalid key ("+n+") "+vz(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=pi(t),pz(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=pi(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+vz(i)+" in addition to actual children.")}},NW=function(e,t,n,r){if(!r||void 0!==t){var i=hi(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];kq(t,(function(e,t){var r=new Zq(e);if(TW(i,t,sz(n,r)),".priority"===iz(r)&&!IW(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=az(r=t[n]),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!EW(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(lz);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&fz(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(i,a)}},PW=function(e,t,n){if(!n||void 0!==t){if(fq(t))throw new Error(hi(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!IW(t))throw new Error(hi(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},RW=function(e,t,n,r){if((!r||void 0!==n)&&!EW(n))throw new Error(hi(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},AW=function(e,t,n,r){if((!r||void 0!==n)&&!SW(n))throw new Error(hi(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},OW=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),AW(e,t,n,r)},DW=function(e,t){if(".info"===tz(t))throw new Error(e+" failed = Can't modify data under /.info/")},LW=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!EW(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),SW(e)}(n))throw new Error(hi(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},MW=lr((function e(){ur(this,e),this.eventLists_=[],this.recursionDepth_=0}));function FW(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||hz(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function jW(e,t,n){FW(e,n),qW(e,(function(e){return hz(e,t)}))}function UW(e,t,n){FW(e,n),qW(e,(function(e){return fz(e,t)||fz(t,e)}))}function qW(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(zW(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function zW(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();iq&&sq("event: "+n.toString()),Eq(r)}}}var VW="repo_interrupt",BW=25,WW=function(){function e(t,n,r,i){ur(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new MW,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=pV(),this.transactionQueueTree_=new fW,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return lr(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function HW(e,t,n){if(e.stats_=Uq(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new fV(e.repoInfo_,(function(t,n,r,i){QW(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return YW(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Yr(n)}catch(c$){throw new Error("Invalid authOverride provided: "+c$)}}e.persistentConnection_=new yz(e.repoInfo_,t,(function(t,n,r,i){QW(e,t,n,r,i)}),(function(t){YW(e,t)}),(function(t){!function(e,t){kq(t,(function(t,n){XW(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return jq[n]||(jq[n]=t()),jq[n]}(e.repoInfo_,(function(){return new kV(e.stats_,e.server_)})),e.infoData_=new dV,e.infoSyncTree_=new FB({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=zB(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),XW(e,"connected",!1),e.serverSyncTree_=new FB({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);UW(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function GW(e){var t=e.infoData_.getNode(new Zq(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function KW(e){return aW({timestamp:GW(e)})}function QW(e,t,n,r,i){e.dataUpdateCount++;var a=new Zq(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=ei(n,(function(e){return Yz(e)}));o=function(e,t,n,r){var i=ZB(e,r);if(i){var a=eW(i),o=a.path,s=a.queryId,u=cz(o,t),c=LV.fromObject(n);return tW(e,o,new IV(wV(s),u,c))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=Yz(n);o=BB(e.serverSyncTree_,a,u,i)}else if(r){var c=ei(n,(function(e){return Yz(e)}));o=function(e,t,n){var r=LV.fromObject(n);return KB(e,new IV({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=Yz(n);o=zB(e.serverSyncTree_,a,l)}var h=a;o.length>0&&(h=sH(e,a)),UW(e.eventQueue_,h,o)}function YW(e,t){XW(e,"connected",t),!1===t&&function(e){rH(e,"onDisconnectEvents");var t=KW(e),n=pV();gV(e.onDisconnect_,ez(),(function(r,i){var a=cW(r,i,e.serverSyncTree_,t);vV(n,r,a)}));var r=[];gV(n,ez(),(function(t,n){r=r.concat(zB(e.serverSyncTree_,t,n));var i=fH(e,t);sH(e,i)})),e.onDisconnect_=pV(),UW(e.eventQueue_,ez(),r)}(e)}function XW(e,t,n){var r=new Zq("/.info/"+t),i=Yz(n);e.infoData_.updateSnapshot(r,i);var a=zB(e.infoSyncTree_,r,i);UW(e.eventQueue_,r,a)}function JW(e){return e.nextWriteId_++}function $W(e,t,n,r,i){rH(e,"set",{path:t.toString(),value:n,priority:r});var a=KW(e),o=Yz(n,r),s=HB(e.serverSyncTree_,t),u=lW(o,s,a),c=JW(e),l=jB(e.serverSyncTree_,t,u,c,!0);FW(e.eventQueue_,l),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||hq("set at "+t+" failed: "+n);var o=qB(e.serverSyncTree_,c,!a);UW(e.eventQueue_,t,o),iH(e,i,n,r)}));var h=fH(e,t);sH(e,h),UW(e.eventQueue_,h,[])}function ZW(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&mV(e.onDisconnect_,t),iH(e,n,r,i)}))}function eH(e,t,n,r){var i=Yz(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,a){"ok"===n&&vV(e.onDisconnect_,t,i),iH(e,r,n,a)}))}function tH(e,t,n){var r;r=".info"===tz(t._path)?VB(e.infoSyncTree_,t,n):VB(e.serverSyncTree_,t,n),jW(e.eventQueue_,t._path,r)}function nH(e){e.persistentConnection_&&e.persistentConnection_.interrupt(VW)}function rH(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];sq.apply(void 0,[t].concat(r))}function iH(e,t,n,r){t&&Eq((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function aH(e,t,n){return HB(e.serverSyncTree_,t,n)||Gz.EMPTY_NODE}function oH(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||hH(e,t),pW(t)){var n=cH(e,t);xr(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=aH(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];xr(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=cz(t,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var l=a.val(!0),h=t;e.server_.put(h.toString(),l,(function(r){rH(e,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(qB(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);hH(e,dW(e.transactionQueueTree_,t)),oH(e,e.transactionQueueTree_),UW(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)Eq(a[u])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{hq("transaction at "+h.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}sH(e,t)}}),o)}(e,bW(t),n)}else mW(t)&&gW(t,(function(t){oH(e,t)}))}function sH(e,t){var n=uH(e,t),r=bW(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u,c=t[a],l=cz(n,c.path),h=!1;if(xr(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)h=!0,s=c.abortReason,i=i.concat(qB(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=BW)h=!0,s="maxretry",i=i.concat(qB(e.serverSyncTree_,c.currentWriteId,!0));else{var f=aH(e,c.path,o);c.currentInputSnapshot=f;var d=t[a].update(f.val());if(void 0!==d){TW("transaction failed: Data returned ",d,c.path);var p=Yz(d);"object"===typeof d&&null!=d&&Jr(d,".priority")||(p=p.updatePriority(f.getPriority()));var v=c.currentWriteId,m=KW(e),g=lW(p,f,m);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=g,c.currentWriteId=JW(e),o.splice(o.indexOf(v),1),i=(i=i.concat(jB(e.serverSyncTree_,c.path,g,c.currentWriteId,c.applyLocally))).concat(qB(e.serverSyncTree_,v,!0))}else h=!0,s="nodata",i=i.concat(qB(e.serverSyncTree_,c.currentWriteId,!0))}UW(e.eventQueue_,n,i),i=[],h&&(t[a].status=2,u=t[a].unwatcher,setTimeout(u,Math.floor(0)),t[a].onComplete&&("nodata"===s?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(s),!1,null)}))))},u=0;u<t.length;u++)s(u);hH(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)Eq(r[c]);oH(e,e.transactionQueueTree_)}(e,cH(e,n),r),r}function uH(e,t){var n,r=e.transactionQueueTree_;for(n=tz(t);null!==n&&void 0===pW(r);)r=dW(r,n),n=tz(t=rz(t));return r}function cH(e,t){var n=[];return lH(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function lH(e,t,n){var r=pW(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);gW(t,(function(t){lH(e,t,n)}))}function hH(e,t){var n=pW(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,vW(t,n.length>0?n:void 0)}gW(t,(function(t){hH(e,t)}))}function fH(e,t){var n=bW(uH(e,t)),r=dW(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){dH(e,t)})),dH(e,r),yW(r,(function(t){dH(e,t)})),n}function dH(e,t){var n=pW(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(xr(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(xr(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(qB(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?vW(t,void 0):n.length=a+1,UW(e.eventQueue_,bW(t),i);for(var s=0;s<r.length;s++)Eq(r[s])}}var pH=function(e,t){var n=vH(e),r=n.namespace;"firebase.com"===n.domain&&lq(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||lq("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&hq("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Dq(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Zq(n.pathString)}},vH=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(l,h)),l<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(c$){}t+="/"+i}return t}(e.substring(l,h)));var f=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=hr(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):hq("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,h)));(c=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in f&&(a=f.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},mH="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",gH=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=mH.charAt(n%64),n=Math.floor(n/64);xr(0===n,"Cannot push at time == 0");var o=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=mH.charAt(t[r]);return xr(20===o.length,"nextPushId: Length should be 20."),o}}(),yH=function(){function e(t,n,r,i){ur(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return lr(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+Yr(this.snapshot.exportVal())}}]),e}(),bH=function(){function e(t,n,r){ur(this,e),this.eventRegistration=t,this.error=n,this.path=r}return lr(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),kH=function(){function e(t,n){ur(this,e),this.snapshotCallback=t,this.cancelCallback=n}return lr(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return xr(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),wH=function(){function e(t,n){ur(this,e),this._repo=t,this._path=n}return lr(e,[{key:"cancel",value:function(){var e=new Lr;return ZW(this._repo,this._path,e.wrapCallback((function(){}))),e.promise}},{key:"remove",value:function(){DW("OnDisconnect.remove",this._path);var e=new Lr;return eH(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise}},{key:"set",value:function(e){DW("OnDisconnect.set",this._path),CW("OnDisconnect.set",e,this._path,!1);var t=new Lr;return eH(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}},{key:"setWithPriority",value:function(e,t){DW("OnDisconnect.setWithPriority",this._path),CW("OnDisconnect.setWithPriority",e,this._path,!1),PW("OnDisconnect.setWithPriority",t,!1);var n=new Lr;return function(e,t,n,r,i){var a=Yz(n,r);e.server_.onDisconnectPut(t.toString(),a.val(!0),(function(n,r){"ok"===n&&vV(e.onDisconnect_,t,a),iH(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise}},{key:"update",value:function(e){DW("OnDisconnect.update",this._path),NW("OnDisconnect.update",e,this._path,!1);var t=new Lr;return function(e,t,n,r){if(Zr(n))return sq("onDisconnect().update() called with empty data.  Don't do anything."),void iH(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,a){"ok"===i&&kq(n,(function(n,r){var i=Yz(r);vV(e.onDisconnect_,sz(t,n),i)})),iH(0,r,i,a)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}}]),e}(),_H=function(){function e(t,n,r,i){ur(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return lr(e,[{key:"key",get:function(){return uz(this._path)?null:iz(this._path)}},{key:"ref",get:function(){return new IH(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=hV(this._queryParams),t=yq(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return hV(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=vi(t))instanceof e))return!1;var n=this._repo===t._repo,r=hz(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();function xH(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function EH(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===xz){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==dq)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==pq)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===qz){if(null!=t&&!IW(t)||null!=n&&!IW(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(xr(e.getIndex()instanceof Xz||e.getIndex()===$z,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function SH(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var IH=function(e){pr(n,e);var t=gr(n);function n(e,r){return ur(this,n),t.call(this,e,r,new oV,!1)}return lr(n,[{key:"parent",get:function(){var e=oz(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(_H),CH=function(){function e(t,n,r){ur(this,e),this._node=t,this.ref=n,this._index=r}return lr(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new Zq(t),r=PH(this.ref,t);return new e(this._node.getChild(n),r,qz)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,PH(n.ref,r),qz))}))}},{key:"hasChild",value:function(e){var t=new Zq(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function TH(e,t){return(e=vi(e))._checkNotDeleted("ref"),void 0!==t?PH(e._root,t):e._root}function NH(e,t){(e=vi(e))._checkNotDeleted("refFromURL");var n=pH(t,e._repo.repoInfo_.nodeAdmin);LW("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||lq("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),TH(e,n.path.toString())}function PH(e,t){return null===tz((e=vi(e))._path)?OW("child","path",t,!1):AW("child","path",t,!1),new IH(e._repo,sz(e._path,t))}function RH(e,t){e=vi(e),DW("set",e._path),CW("set",t,e._path,!1);var n=new Lr;return $W(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function AH(e,t){NW("update",t,e._path,!1);var n=new Lr;return function(e,t,n,r){rH(e,"update",{path:t.toString(),value:n});var i=!0,a=KW(e),o={};if(kq(n,(function(n,r){i=!1,o[n]=cW(sz(t,n),Yz(r),e.serverSyncTree_,a)})),i)sq("update() called with empty data.  Don't do anything."),iH(0,r,"ok",void 0);else{var s=JW(e),u=UB(e.serverSyncTree_,t,o,s);FW(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var a="ok"===n;a||hq("update at "+t+" failed: "+n);var o=qB(e.serverSyncTree_,s,!a),u=o.length>0?sH(e,t):t;UW(e.eventQueue_,u,o),iH(0,r,n,i)})),kq(n,(function(n){var r=fH(e,sz(t,n));sH(e,r)})),UW(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function OH(e){e=vi(e);var t=new kH((function(){})),n=new DH(t);return function(e,t,n){var r=GB(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((function(r){var i,a=Yz(r).withIndex(t._queryParams.getIndex());if(WB(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())i=zB(e.serverSyncTree_,t._path,a);else{var o=JB(e.serverSyncTree_,t);i=BB(e.serverSyncTree_,t._path,a,o)}return UW(e.eventQueue_,t._path,i),VB(e.serverSyncTree_,t,n,null,!0),a}),(function(n){return rH(e,"get for query "+Yr(t)+" failed: "+n),Promise.reject(new Error(n))}))}(e._repo,e,n).then((function(t){return new CH(t,new IH(e._repo,e._path),e._queryParams.getIndex())}))}var DH=function(){function e(t){ur(this,e),this.callbackContext=t}return lr(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new yH("value",this,new CH(e.snapshotNode,new IH(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new bH(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),LH=function(){function e(t,n){ur(this,e),this.eventType=t,this.callbackContext=n}return lr(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new bH(this,e,t):null}},{key:"createEvent",value:function(e,t){xr(null!=e.childName,"Child events should have a childName.");var n=PH(new IH(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new yH(e.type,this,new CH(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function MH(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,s=function(t,n){tH(e._repo,e,c),o(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new kH(n,a||void 0),c="value"===t?new DH(u):new LH(t,u);return function(e,t,n){var r;r=".info"===tz(t._path)?WB(e.infoSyncTree_,t,n):WB(e.serverSyncTree_,t,n),jW(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return tH(e._repo,e,c)}}function FH(e,t,n,r){return MH(e,"value",t,n,r)}function jH(e,t,n,r){return MH(e,"child_added",t,n,r)}function UH(e,t,n,r){return MH(e,"child_changed",t,n,r)}function qH(e,t,n,r){return MH(e,"child_moved",t,n,r)}function zH(e,t,n,r){return MH(e,"child_removed",t,n,r)}function VH(e,t,n){var r=null,i=n?new kH(n):null;"value"===t?r=new DH(i):t&&(r=new LH(t,i)),tH(e._repo,e,r)}var BH=lr((function e(){ur(this,e)})),WH=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this))._value=e,i._key=r,i}return lr(n,[{key:"_apply",value:function(e){CW("endAt",this._value,e._path,!0);var t=uV(e._queryParams,this._value,this._key);if(SH(t),EH(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new _H(e._repo,e._path,t,e._orderByCalled)}}]),n}(BH);var HH=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this))._value=e,i._key=r,i}return lr(n,[{key:"_apply",value:function(e){CW("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return(r=e.index_===xz||n?uV(e,t,n):uV(e,t,dq)).endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(SH(t),EH(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new _H(e._repo,e._path,t,e._orderByCalled)}}]),n}(BH);var GH=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this))._value=e,i._key=r,i}return lr(n,[{key:"_apply",value:function(e){CW("startAt",this._value,e._path,!0);var t=sV(e._queryParams,this._value,this._key);if(SH(t),EH(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new _H(e._repo,e._path,t,e._orderByCalled)}}]),n}(BH);var KH=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this))._value=e,i._key=r,i}return lr(n,[{key:"_apply",value:function(e){CW("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;return(r=e.index_===xz||n?sV(e,t,n):sV(e,t,pq)).startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(SH(t),EH(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new _H(e._repo,e._path,t,e._orderByCalled)}}]),n}(BH);var QH=function(e){pr(n,e);var t=gr(n);function n(e){var r;return ur(this,n),(r=t.call(this))._limit=e,r}return lr(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new _H(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(BH);var YH=function(e){pr(n,e);var t=gr(n);function n(e){var r;return ur(this,n),(r=t.call(this))._limit=e,r}return lr(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new _H(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(BH);var XH=function(e){pr(n,e);var t=gr(n);function n(e){var r;return ur(this,n),(r=t.call(this))._path=e,r}return lr(n,[{key:"_apply",value:function(e){xH(e,"orderByChild");var t=new Zq(this._path);if(uz(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new Xz(t),r=cV(e._queryParams,n);return EH(r),new _H(e._repo,e._path,r,!0)}}]),n}(BH);var JH=function(e){pr(n,e);var t=gr(n);function n(){return ur(this,n),t.apply(this,arguments)}return lr(n,[{key:"_apply",value:function(e){xH(e,"orderByKey");var t=cV(e._queryParams,xz);return EH(t),new _H(e._repo,e._path,t,!0)}}]),n}(BH);var $H=function(e){pr(n,e);var t=gr(n);function n(){return ur(this,n),t.apply(this,arguments)}return lr(n,[{key:"_apply",value:function(e){xH(e,"orderByPriority");var t=cV(e._queryParams,qz);return EH(t),new _H(e._repo,e._path,t,!0)}}]),n}(BH);var ZH=function(e){pr(n,e);var t=gr(n);function n(){return ur(this,n),t.apply(this,arguments)}return lr(n,[{key:"_apply",value:function(e){xH(e,"orderByValue");var t=cV(e._queryParams,$z);return EH(t),new _H(e._repo,e._path,t,!0)}}]),n}(BH);var eG=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this))._value=e,i._key=r,i}return lr(n,[{key:"_apply",value:function(e){if(CW("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new WH(this._value,this._key)._apply(new GH(this._value,this._key)._apply(e))}}]),n}(BH);function tG(e){for(var t=vi(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=r;a<o.length;a++){t=o[a]._apply(t)}return t}!function(e){xr(!gB,"__referenceConstructor has already been defined"),gB=e}(IH),function(e){xr(!EB,"__referenceConstructor has already been defined"),EB=e}(IH);var nG="FIREBASE_DATABASE_EMULATOR_HOST",rG={},iG=!1;function aG(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||lq("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),sq("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=pH(a,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"/notebook",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDE-Cl5RxG1byLc4pjoBxD3aXWO3wi43P8",REACT_APP_FIREBASE_AUTH_DOMAIN:"diary-6211f.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"diary-6211f",REACT_APP_FIREBASE_STORAGE_BUCKET:"diary-6211f.appspot.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"765031385372",REACT_APP_FIREBASE_APP_ID:"1:765031385372:web:9b72a3164df87c4c9712d9",REACT_APP_FIREBASE_MEASUMENT_ID:"G-5VWBRJH7V4"}[nG]),c?(o=!0,a="http://".concat(c,"?ns=").concat(u.namespace),u=(s=pH(a,i)).repoInfo):o=!s.repoInfo.secure;var l=i&&o?new Tq(Tq.OWNER):new Cq(e.name,e.options,t);LW("Invalid Firebase Database URL",s),uz(s.path)||lq("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=rG[t.name];i||(i={},rG[t.name]=i);var a=i[e.toURLString()];a&&lq("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new WW(e,iG,n,r),i[e.toURLString()]=a,a}(u,e,l,new Iq(e.name,n));return new oG(h,e)}var oG=function(){function e(t,n){ur(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return lr(e,[{key:"_repo",get:function(){return this._instanceStarted||(HW(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new IH(this._repo,ez())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=rG[t];n&&n[e.key]===e||lq("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),nH(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&lq("Cannot call "+e+" on a deleted database.")}}]),e}();function sG(){Gq.IS_TRANSPORT_INITIALIZED&&hq("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function uG(){sG(),Vq.forceDisallow()}function cG(){sG(),Hq.forceDisallow(),Vq.forceAllow()}function lG(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=vi(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&lq("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&lq('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Tq(Tq.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:Mr(r.mockUserToken,e.app.options.projectId);a=new Tq(o)}!function(e,t,n,r){e.repoInfo_=new Dq("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,a)}function hG(e){var t;(e=vi(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(VW)}function fG(e,t){oq(e,t)}var dG={".sv":"timestamp"};var pG=function(){function e(t,n){ur(this,e),this.committed=t,this.snapshot=n}return lr(e,[{key:"toJSON",value:function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}();function vG(e,t,n){var r;if(e=vi(e),DW("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new Lr,o=FH(e,(function(){}));return function(e,t,n,r,i,a){rH(e,"transaction on "+t);var o={path:t,update:n,onComplete:r,status:null,order:tq(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=aH(e,t,void 0);o.currentInputSnapshot=s;var u=o.update(s.val());if(void 0===u)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{TW("transaction failed: Data returned ",u,o.path),o.status=0;var c,l=dW(e.transactionQueueTree_,t),h=pW(l)||[];h.push(o),vW(l,h),"object"===typeof u&&null!==u&&Jr(u,".priority")?(c=$r(u,".priority"),xr(IW(c),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):c=(HB(e.serverSyncTree_,t)||Gz.EMPTY_NODE).getPriority().val();var f=KW(e),d=Yz(u,c),p=lW(d,s,f);o.currentOutputSnapshotRaw=d,o.currentOutputSnapshotResolved=p,o.currentWriteId=JW(e);var v=jB(e.serverSyncTree_,t,p,o.currentWriteId,o.applyLocally);UW(e.eventQueue_,t,v),oH(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new CH(r,new IH(e._repo,e._path),qz),a.resolve(new pG(n,i)))}),o,i),a.promise}yz.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},yz.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){QU(ga),la(new wi("database",(function(e,t){var n=t.instanceIdentifier;return aG(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),xa(HU,GU,e),xa(HU,GU,"esm2017")}();var mG=new Ai("@firebase/database-compat"),gG=function(e){var t="FIREBASE WARNING: "+e;mG.warn(t)},yG=function(){function e(t){ur(this,e),this._delegate=t}return lr(e,[{key:"cancel",value:function(e){li("OnDisconnect.cancel",0,1,arguments.length),fi("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"remove",value:function(e){li("OnDisconnect.remove",0,1,arguments.length),fi("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"set",value:function(e,t){li("OnDisconnect.set",1,2,arguments.length),fi("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"setWithPriority",value:function(e,t,n){li("OnDisconnect.setWithPriority",2,3,arguments.length),fi("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"update",value:function(e,t){if(li("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,gG("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}fi("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}}]),e}(),bG=function(){function e(t,n){ur(this,e),this.committed=t,this.snapshot=n}return lr(e,[{key:"toJSON",value:function(){return li("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}(),kG=function(){function e(t,n){ur(this,e),this._database=t,this._delegate=n}return lr(e,[{key:"val",value:function(){return li("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}},{key:"exportVal",value:function(){return li("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}},{key:"toJSON",value:function(){return li("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"exists",value:function(){return li("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}},{key:"child",value:function(t){return li("DataSnapshot.child",0,1,arguments.length),t=String(t),AW("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}},{key:"hasChild",value:function(e){return li("DataSnapshot.hasChild",1,1,arguments.length),AW("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}},{key:"getPriority",value:function(){return li("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}},{key:"forEach",value:function(t){var n=this;return li("DataSnapshot.forEach",1,1,arguments.length),fi("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))}},{key:"hasChildren",value:function(){return li("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}},{key:"key",get:function(){return this._delegate.key}},{key:"numChildren",value:function(){return li("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}},{key:"getRef",value:function(){return li("DataSnapshot.ref",0,0,arguments.length),new _G(this._database,this._delegate.ref)}},{key:"ref",get:function(){return this.getRef()}}]),e}(),wG=function(){function e(t,n){ur(this,e),this.database=t,this._delegate=n}return lr(e,[{key:"on",value:function(t,n,r,i){var a,o=this;li("Query.on",2,4,arguments.length),fi("Query.on","callback",n,!1);var s=e.getCancelAndContextArgs_("Query.on",r,i),u=function(e,t){n.call(s.context,new kG(o.database,e),t)};u.userCallback=n,u.context=s.context;var c=null===(a=s.cancel)||void 0===a?void 0:a.bind(s.context);switch(t){case"value":return FH(this._delegate,u,c),n;case"child_added":return jH(this._delegate,u,c),n;case"child_removed":return zH(this._delegate,u,c),n;case"child_changed":return UH(this._delegate,u,c),n;case"child_moved":return qH(this._delegate,u,c),n;default:throw new Error(hi("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}},{key:"off",value:function(e,t,n){if(li("Query.off",0,3,arguments.length),function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(hi(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",e,!0),fi("Query.off","callback",t,!0),di("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,VH(this._delegate,e,r)}else VH(this._delegate,e)}},{key:"get",value:function(){var e=this;return OH(this._delegate).then((function(t){return new kG(e.database,t)}))}},{key:"once",value:function(t,n,r,i){var a=this;li("Query.once",1,4,arguments.length),fi("Query.once","callback",n,!0);var o=e.getCancelAndContextArgs_("Query.once",r,i),s=new Lr,u=function(e,t){var r=new kG(a.database,e);n&&n.call(o.context,r,t),s.resolve(r)};u.userCallback=n,u.context=o.context;var c=function(e){o.cancel&&o.cancel.call(o.context,e),s.reject(e)};switch(t){case"value":FH(this._delegate,u,c,{onlyOnce:!0});break;case"child_added":jH(this._delegate,u,c,{onlyOnce:!0});break;case"child_removed":zH(this._delegate,u,c,{onlyOnce:!0});break;case"child_changed":UH(this._delegate,u,c,{onlyOnce:!0});break;case"child_moved":qH(this._delegate,u,c,{onlyOnce:!0});break;default:throw new Error(hi("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}},{key:"limitToFirst",value:function(t){return li("Query.limitToFirst",1,1,arguments.length),new e(this.database,tG(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new QH(e)}(t)))}},{key:"limitToLast",value:function(t){return li("Query.limitToLast",1,1,arguments.length),new e(this.database,tG(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new YH(e)}(t)))}},{key:"orderByChild",value:function(t){return li("Query.orderByChild",1,1,arguments.length),new e(this.database,tG(this._delegate,function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return AW("orderByChild","path",e,!1),new XH(e)}(t)))}},{key:"orderByKey",value:function(){return li("Query.orderByKey",0,0,arguments.length),new e(this.database,tG(this._delegate,new JH))}},{key:"orderByPriority",value:function(){return li("Query.orderByPriority",0,0,arguments.length),new e(this.database,tG(this._delegate,new $H))}},{key:"orderByValue",value:function(){return li("Query.orderByValue",0,0,arguments.length),new e(this.database,tG(this._delegate,new ZH))}},{key:"startAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return li("Query.startAt",0,2,arguments.length),new e(this.database,tG(this._delegate,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return RW("startAt","key",t,!0),new GH(e,t)}(t,n)))}},{key:"startAfter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return li("Query.startAfter",0,2,arguments.length),new e(this.database,tG(this._delegate,function(e,t){return RW("startAfter","key",t,!0),new KH(e,t)}(t,n)))}},{key:"endAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return li("Query.endAt",0,2,arguments.length),new e(this.database,tG(this._delegate,function(e,t){return RW("endAt","key",t,!0),new WH(e,t)}(t,n)))}},{key:"endBefore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return li("Query.endBefore",0,2,arguments.length),new e(this.database,tG(this._delegate,function(e,t){return RW("endBefore","key",t,!0),new HH(e,t)}(t,n)))}},{key:"equalTo",value:function(t,n){return li("Query.equalTo",1,2,arguments.length),new e(this.database,tG(this._delegate,function(e,t){return RW("equalTo","key",t,!0),new eG(e,t)}(t,n)))}},{key:"toString",value:function(){return li("Query.toString",0,0,arguments.length),this._delegate.toString()}},{key:"toJSON",value:function(){return li("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"isEqual",value:function(t){if(li("Query.isEqual",1,1,arguments.length),!(t instanceof e)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}return this._delegate.isEqual(t._delegate)}},{key:"ref",get:function(){return new _G(this.database,new IH(this._delegate._repo,this._delegate._path))}}],[{key:"getCancelAndContextArgs_",value:function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,fi(e,"cancel",r.cancel,!0),r.context=n,di(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(hi(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}}]),e}(),_G=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this,e,new _H(r._repo,r._path,new oV,!1))).database=e,i._delegate=r,i}return lr(n,[{key:"getKey",value:function(){return li("Reference.key",0,0,arguments.length),this._delegate.key}},{key:"child",value:function(e){return li("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new n(this.database,PH(this._delegate,e))}},{key:"getParent",value:function(){li("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new n(this.database,e):null}},{key:"getRoot",value:function(){return li("Reference.root",0,0,arguments.length),new n(this.database,this._delegate.root)}},{key:"set",value:function(e,t){li("Reference.set",1,2,arguments.length),fi("Reference.set","onComplete",t,!0);var n=RH(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"update",value:function(e,t){if(li("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,gG("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}DW("Reference.update",this._delegate._path),fi("Reference.update","onComplete",t,!0);var i=AH(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}},{key:"setWithPriority",value:function(e,t,n){li("Reference.setWithPriority",2,3,arguments.length),fi("Reference.setWithPriority","onComplete",n,!0);var r=function(e,t,n){if(DW("setWithPriority",e._path),CW("setWithPriority",t,e._path,!1),PW("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new Lr;return $W(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"remove",value:function(e){li("Reference.remove",0,1,arguments.length),fi("Reference.remove","onComplete",e,!0);var t,n=(t=this._delegate,DW("remove",t._path),RH(t,null));return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n}},{key:"transaction",value:function(e,t,n){var r=this;li("Reference.transaction",1,3,arguments.length),fi("Reference.transaction","transactionUpdate",e,!1),fi("Reference.transaction","onComplete",t,!0),function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(hi(e,t)+"must be a boolean.")}("Reference.transaction","applyLocally",n,!0);var i=vG(this._delegate,e,{applyLocally:n}).then((function(e){return new bG(e.committed,new kG(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i}},{key:"setPriority",value:function(e,t){li("Reference.setPriority",1,2,arguments.length),fi("Reference.setPriority","onComplete",t,!0);var n=function(e,t){e=vi(e),DW("setPriority",e._path),PW("setPriority",t,!1);var n=new Lr;return $W(e._repo,sz(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"push",value:function(e,t){var r=this;li("Reference.push",0,2,arguments.length),fi("Reference.push","onComplete",t,!0);var i=function(e,t){e=vi(e),DW("push",e._path),CW("push",t,e._path,!0);var n,r=GW(e._repo),i=gH(r),a=PH(e,i),o=PH(e,i);return n=null!=t?RH(o,t).then((function(){return o})):Promise.resolve(o),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}(this._delegate,e),a=i.then((function(e){return new n(r.database,e)}));t&&a.then((function(){return t(null)}),(function(e){return t(e)}));var o=new n(this.database,i);return o.then=a.then.bind(a),o.catch=a.catch.bind(a,void 0),o}},{key:"onDisconnect",value:function(){return DW("Reference.onDisconnect",this._delegate._path),new yG(new wH(this._delegate._repo,this._delegate._path))}},{key:"key",get:function(){return this.getKey()}},{key:"parent",get:function(){return this.getParent()}},{key:"root",get:function(){return this.getRoot()}}]),n}(wG),xG=function(){function e(t,n){var r=this;ur(this,e),this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()},forceWebSockets:uG,forceLongPolling:cG}}return lr(e,[{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};lG(this._delegate,e,t,n)}},{key:"ref",value:function(e){if(li("database.ref",0,1,arguments.length),e instanceof _G){var t=NH(this._delegate,e.toString());return new _G(this,t)}var n=TH(this._delegate,e);return new _G(this,n)}},{key:"refFromURL",value:function(e){li("database.refFromURL",1,1,arguments.length);var t=NH(this._delegate,e);return new _G(this,t)}},{key:"goOffline",value:function(){return li("database.goOffline",0,0,arguments.length),function(e){(e=vi(e))._checkNotDeleted("goOffline"),nH(e._repo)}(this._delegate)}},{key:"goOnline",value:function(){return li("database.goOnline",0,0,arguments.length),hG(this._delegate)}}]),e}();xG.ServerValue={TIMESTAMP:dG,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}};var EG=Object.freeze({__proto__:null,initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,a=e.namespace,o=e.nodeAdmin,s=void 0!==o&&o;QU(r);var u=new xi("auth-internal",new Ii("database-standalone"));return u.setComponent(new wi("auth-internal",(function(){return i}),"PRIVATE")),{instance:new xG(aG(t,u,void 0,n,s),t),namespace:a}}}),SG=xG.ServerValue;!function(e){e.INTERNAL.registerComponent(new wi("database-compat",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new xG(i,r)}),"PUBLIC").setServiceProps({Reference:_G,Query:wG,Database:xG,DataSnapshot:kG,enableLogging:fG,INTERNAL:EG,ServerValue:SG}).setMultipleInstances(!0)),e.registerVersion("@firebase/database-compat","0.3.4")}(Ya);Ya.initializeApp({apiKey:"AIzaSyDE-Cl5RxG1byLc4pjoBxD3aXWO3wi43P8",authDomain:"diary-6211f.firebaseapp.com",projectId:"diary-6211f",storageBucket:"diary-6211f.appspot.com",messagingSenderId:"765031385372",appId:"1:765031385372:web:9b72a3164df87c4c9712d9",measurementId:"G-5VWBRJH7V4"});var IG=Ya.database();function CG(e,t){if(null==e)return{};var n,r,i=sg(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var TG=n(694),NG=n.n(TG),PG=["xxl","xl","lg","md","sm","xs"],RG=t.createContext({prefixes:{},breakpoints:PG,minBreakpoint:"xs"});RG.Consumer,RG.Provider;function AG(e,n){var r=(0,t.useContext)(RG).prefixes;return e||r[n]||n}var OG=["className","bsPrefix","as"],DG=t.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,i=e.as,a=void 0===i?"div":i,o=CG(e,OG);return r=AG(r,"card-body"),(0,sp.jsx)(a,Di({ref:t,className:NG()(n,r)},o))}));DG.displayName="CardBody";var LG=DG,MG=["className","bsPrefix","as"],FG=t.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,i=e.as,a=void 0===i?"div":i,o=CG(e,MG);return r=AG(r,"card-footer"),(0,sp.jsx)(a,Di({ref:t,className:NG()(n,r)},o))}));FG.displayName="CardFooter";var jG=FG,UG=t.createContext(null);UG.displayName="CardHeaderContext";var qG=UG,zG=["bsPrefix","className","as"],VG=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.as,o=void 0===a?"div":a,s=CG(e,zG),u=AG(r,"card-header"),c=(0,t.useMemo)((function(){return{cardHeaderBsPrefix:u}}),[u]);return(0,sp.jsx)(qG.Provider,{value:c,children:(0,sp.jsx)(o,Di(Di({ref:n},s),{},{className:NG()(i,u)}))})}));VG.displayName="CardHeader";var BG=VG,WG=["bsPrefix","className","variant","as"],HG=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.variant,a=e.as,o=void 0===a?"img":a,s=CG(e,WG),u=AG(n,"card-img");return(0,sp.jsx)(o,Di({ref:t,className:NG()(i?"".concat(u,"-").concat(i):u,r)},s))}));HG.displayName="CardImg";var GG=HG,KG=["className","bsPrefix","as"],QG=t.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,i=e.as,a=void 0===i?"div":i,o=CG(e,KG);return r=AG(r,"card-img-overlay"),(0,sp.jsx)(a,Di({ref:t,className:NG()(n,r)},o))}));QG.displayName="CardImgOverlay";var YG=QG,XG=["className","bsPrefix","as"],JG=t.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,i=e.as,a=void 0===i?"a":i,o=CG(e,XG);return r=AG(r,"card-link"),(0,sp.jsx)(a,Di({ref:t,className:NG()(n,r)},o))}));JG.displayName="CardLink";var $G=JG,ZG=function(e){return t.forwardRef((function(t,n){return(0,sp.jsx)("div",Di(Di({},t),{},{ref:n,className:NG()(t.className,e)}))}))},eK=["className","bsPrefix","as"],tK=ZG("h6"),nK=t.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,i=e.as,a=void 0===i?tK:i,o=CG(e,eK);return r=AG(r,"card-subtitle"),(0,sp.jsx)(a,Di({ref:t,className:NG()(n,r)},o))}));nK.displayName="CardSubtitle";var rK=nK,iK=["className","bsPrefix","as"],aK=t.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,i=e.as,a=void 0===i?"p":i,o=CG(e,iK);return r=AG(r,"card-text"),(0,sp.jsx)(a,Di({ref:t,className:NG()(n,r)},o))}));aK.displayName="CardText";var oK=aK,sK=["className","bsPrefix","as"],uK=ZG("h5"),cK=t.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,i=e.as,a=void 0===i?uK:i,o=CG(e,sK);return r=AG(r,"card-title"),(0,sp.jsx)(a,Di({ref:t,className:NG()(n,r)},o))}));cK.displayName="CardTitle";var lK=cK,hK=["bsPrefix","className","bg","text","border","body","children","as"],fK=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.bg,a=e.text,o=e.border,s=e.body,u=void 0!==s&&s,c=e.children,l=e.as,h=void 0===l?"div":l,f=CG(e,hK),d=AG(n,"card");return(0,sp.jsx)(h,Di(Di({ref:t},f),{},{className:NG()(r,d,i&&"bg-".concat(i),a&&"text-".concat(a),o&&"border-".concat(o)),children:u?(0,sp.jsx)(LG,{children:c}):c}))}));fK.displayName="Card";var dK=Object.assign(fK,{Img:GG,Title:lK,Subtitle:rK,Body:LG,Link:$G,Text:oK,Header:BG,Footer:jG,ImgOverlay:YG});n(176);function pK(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function vK(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function mK(e,n){return Object.keys(n).reduce((function(r,i){var a,s=r,u=s[pK(i)],c=s[i],l=sg(s,[pK(i),i].map(vK)),h=n[i],f=function(e,n,r){var i=(0,t.useRef)(void 0!==e),a=(0,t.useState)(n),o=a[0],s=a[1],u=void 0!==e,c=i.current;return i.current=u,!u&&c&&o!==n&&s(n),[u?e:o,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),s(e)}),[r])]}(c,u,e[h]),d=f[0],p=f[1];return o({},l,((a={})[i]=d,a[h]=p,a))}),e)}function gK(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function yK(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function bK(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}gK.__suppressDeprecationWarning=!0,yK.__suppressDeprecationWarning=!0,bK.__suppressDeprecationWarning=!0;var kK=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n};function wK(e){var n=kK(e);return(0,t.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var _K=["className","bsPrefix","as"],xK=ZG("h4");xK.displayName="DivStyledAsH4";var EK=t.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,i=e.as,a=void 0===i?xK:i,o=CG(e,_K);return r=AG(r,"alert-heading"),(0,sp.jsx)(a,Di({ref:t,className:NG()(n,r)},o))}));EK.displayName="AlertHeading";var SK=EK;"undefined"!==typeof n.g&&n.g.navigator&&n.g.navigator.product,new WeakMap;var IK=["as","disabled"];function CK(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.role,s=e.onClick,u=e.tabIndex,c=void 0===u?0:u,l=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var h={tagName:t};if("button"===t)return[{type:l||"button",disabled:n},h];var f=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==s||s(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:n?void 0:c,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:f,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),f(e))}},h]}var TK=t.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,IK),a=ir(CK(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],s=a[1].tagName;return(0,sp.jsx)(s,Object.assign({},i,o,{ref:t}))}));TK.displayName="Button";var NK=["onKeyDown"];var PK=t.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,NK),a=ir(CK(Object.assign({tagName:"a"},i)),1)[0],o=wK((function(e){a.onKeyDown(e),null==r||r(e)}));return(n=i.href)&&"#"!==n.trim()&&"button"!==i.role?(0,sp.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,sp.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:o}))}));PK.displayName="Anchor";var RK=PK,AK=["className","bsPrefix","as"],OK=t.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,i=e.as,a=void 0===i?RK:i,o=CG(e,AK);return r=AG(r,"alert-link"),(0,sp.jsx)(a,Di({ref:t,className:NG()(n,r)},o))}));OK.displayName="AlertLink";var DK=OK,LK=!1,MK=t.createContext(null),FK="unmounted",jK="exited",UK="entering",qK="entered",zK="exiting",VK=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=jK,r.appearStatus=UK):i=qK:i=t.unmountOnExit||t.mountOnEnter?FK:jK,r.state={status:i},r.nextCallback=null,r}mm(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===FK?{status:jK}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==UK&&n!==qK&&(t=UK):n!==UK&&n!==qK||(t=zK)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===UK){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===jK&&this.setState({status:FK})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,a=this.props.nodeRef?[r]:[i.findDOMNode(this),r],o=a[0],s=a[1],u=this.getTimeouts(),c=r?u.appear:u.enter;!e&&!n||LK?this.safeSetState({status:qK},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:UK},(function(){t.props.onEntering(o,s),t.onTransitionEnd(c,(function(){t.safeSetState({status:qK},(function(){t.props.onEntered(o,s)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:i.findDOMNode(this);t&&!LK?(this.props.onExit(r),this.safeSetState({status:zK},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:jK},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:jK},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=a[0],s=a[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===FK)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,sg(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(MK.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},n}(t.Component);function BK(){}VK.contextType=MK,VK.propTypes={},VK.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:BK,onEntering:BK,onEntered:BK,onExit:BK,onExiting:BK,onExited:BK},VK.UNMOUNTED=FK,VK.EXITED=jK,VK.ENTERING=UK,VK.ENTERED=qK,VK.EXITING=zK;var WK=VK;function HK(e){var t=function(e){return e&&e.ownerDocument||document}(e);return t&&t.defaultView||window}var GK=/([A-Z])/g;var KK=/^ms-/;function QK(e){return function(e){return e.replace(GK,"-$1").toLowerCase()}(e).replace(KK,"-ms-")}var YK=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var XK=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(QK(t))||function(e,t){return HK(e).getComputedStyle(e,t)}(e).getPropertyValue(QK(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!YK.test(e))}(i)?n+=QK(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(QK(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n},JK=!("undefined"===typeof window||!window.document||!window.document.createElement),$K=!1,ZK=!1;try{var eQ={get passive(){return $K=!0},get once(){return ZK=$K=!0}};JK&&(window.addEventListener("test",eQ,eQ),window.removeEventListener("test",eQ,!0))}catch(c$){}var tQ=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!ZK){var i=r.once,a=r.capture,o=n;!ZK&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,$K?r:a)}e.addEventListener(t,n,r)};var nQ=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var rQ=function(e,t,n,r){return tQ(e,t,n,r),function(){nQ(e,t,n,r)}};function iQ(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=rQ(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function aQ(e,t,n,r){null==n&&(n=function(e){var t=XK(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=iQ(e,n,r),a=rQ(e,"transitionend",t);return function(){i(),a()}}function oQ(e,t){var n=XK(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function sQ(e,t){var n=oQ(e,"transitionDuration"),r=oQ(e,"transitionDelay"),i=aQ(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var uQ=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var cQ=function(e,n){return(0,t.useMemo)((function(){return function(e,t){var n=uQ(e),r=uQ(t);return function(e){n&&n(e),r&&r(e)}}(e,n)}),[e,n])};var lQ,hQ=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],fQ=t.forwardRef((function(e,n){var r=e.onEnter,a=e.onEntering,o=e.onEntered,s=e.onExit,u=e.onExiting,c=e.onExited,l=e.addEndListener,h=e.children,f=e.childRef,d=CG(e,hQ),p=(0,t.useRef)(null),v=cQ(p,f),m=function(e){var t;v((t=e)&&"setState"in t?i.findDOMNode(t):null!=t?t:null)},g=function(e){return function(t){e&&p.current&&e(p.current,t)}},y=(0,t.useCallback)(g(r),[r]),b=(0,t.useCallback)(g(a),[a]),k=(0,t.useCallback)(g(o),[o]),w=(0,t.useCallback)(g(s),[s]),_=(0,t.useCallback)(g(u),[u]),x=(0,t.useCallback)(g(c),[c]),E=(0,t.useCallback)(g(l),[l]);return(0,sp.jsx)(WK,Di(Di({ref:n},d),{},{onEnter:y,onEntered:k,onEntering:b,onExit:w,onExited:x,onExiting:_,addEndListener:E,nodeRef:p,children:"function"===typeof h?function(e,t){return h(e,Di(Di({},t),{},{ref:m}))}:t.cloneElement(h,{ref:m})}))})),dQ=fQ,pQ=["className","children","transitionClasses","onEnter"],vQ=(sr(lQ={},UK,"show"),sr(lQ,qK,"show"),lQ),mQ=t.forwardRef((function(e,n){var r=e.className,i=e.children,a=e.transitionClasses,o=void 0===a?{}:a,s=e.onEnter,u=Di({in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},CG(e,pQ)),c=(0,t.useCallback)((function(e,t){!function(e){e.offsetHeight}(e),null==s||s(e,t)}),[s]);return(0,sp.jsx)(dQ,Di(Di({ref:n,addEndListener:sQ},u),{},{onEnter:c,childRef:i.ref,children:function(e,n){return t.cloneElement(i,Di(Di({},n),{},{className:NG()("fade",r,i.props.className,vQ[e],o[e])}))}}))}));mQ.displayName="Fade";var gQ=mQ,yQ=n(7),bQ=n.n(yQ),kQ=["className","variant","aria-label"],wQ={"aria-label":bQ().string,onClick:bQ().func,variant:bQ().oneOf(["white"])},_Q=t.forwardRef((function(e,t){var n=e.className,r=e.variant,i=e["aria-label"],a=void 0===i?"Close":i,o=CG(e,kQ);return(0,sp.jsx)("button",Di({ref:t,type:"button",className:NG()("btn-close",r&&"btn-close-".concat(r),n),"aria-label":a},o))}));_Q.displayName="CloseButton",_Q.propTypes=wQ;var xQ=_Q,EQ=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],SQ=t.forwardRef((function(e,t){var n=mK(e,{show:"onClose"}),r=n.bsPrefix,i=n.show,a=void 0===i||i,o=n.closeLabel,s=void 0===o?"Close alert":o,u=n.closeVariant,c=n.className,l=n.children,h=n.variant,f=void 0===h?"primary":h,d=n.onClose,p=n.dismissible,v=n.transition,m=void 0===v?gQ:v,g=CG(n,EQ),y=AG(r,"alert"),b=wK((function(e){d&&d(!1,e)})),k=!0===m?gQ:m,w=(0,sp.jsxs)("div",Di(Di({role:"alert"},k?void 0:g),{},{ref:t,className:NG()(c,y,f&&"".concat(y,"-").concat(f),p&&"".concat(y,"-dismissible")),children:[p&&(0,sp.jsx)(xQ,{onClick:b,"aria-label":s,variant:u}),l]}));return k?(0,sp.jsx)(k,Di(Di({unmountOnExit:!0},g),{},{ref:void 0,in:a,children:w})):a?w:null}));SQ.displayName="Alert";var IQ=Object.assign(SQ,{Link:DK,Heading:SK}),CQ=["as","className","type","tooltip"],TQ={type:bQ().string,tooltip:bQ().bool,as:bQ().elementType},NQ=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.className,a=e.type,o=void 0===a?"valid":a,s=e.tooltip,u=void 0!==s&&s,c=CG(e,CQ);return(0,sp.jsx)(r,Di(Di({},c),{},{ref:t,className:NG()(i,"".concat(o,"-").concat(u?"tooltip":"feedback"))}))}));NQ.displayName="Feedback",NQ.propTypes=TQ;var PQ=NQ,RQ=t.createContext({}),AQ=["id","bsPrefix","className","type","isValid","isInvalid","as"],OQ=t.forwardRef((function(e,n){var r=e.id,i=e.bsPrefix,a=e.className,o=e.type,s=void 0===o?"checkbox":o,u=e.isValid,c=void 0!==u&&u,l=e.isInvalid,h=void 0!==l&&l,f=e.as,d=void 0===f?"input":f,p=CG(e,AQ),v=(0,t.useContext)(RQ).controlId;return i=AG(i,"form-check-input"),(0,sp.jsx)(d,Di(Di({},p),{},{ref:n,type:s,id:r||v,className:NG()(a,i,c&&"is-valid",h&&"is-invalid")}))}));OQ.displayName="FormCheckInput";var DQ=OQ,LQ=["bsPrefix","className","htmlFor"],MQ=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.htmlFor,o=CG(e,LQ),s=(0,t.useContext)(RQ).controlId;return r=AG(r,"form-check-label"),(0,sp.jsx)("label",Di(Di({},o),{},{ref:n,htmlFor:a||s,className:NG()(i,r)}))}));MQ.displayName="FormCheckLabel";var FQ=MQ;var jQ=["id","bsPrefix","bsSwitchPrefix","inline","reverse","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],UQ=t.forwardRef((function(e,n){var r=e.id,i=e.bsPrefix,a=e.bsSwitchPrefix,o=e.inline,s=void 0!==o&&o,u=e.reverse,c=void 0!==u&&u,l=e.disabled,h=void 0!==l&&l,f=e.isValid,d=void 0!==f&&f,p=e.isInvalid,v=void 0!==p&&p,m=e.feedbackTooltip,g=void 0!==m&&m,y=e.feedback,b=e.feedbackType,k=e.className,w=e.style,_=e.title,x=void 0===_?"":_,E=e.type,S=void 0===E?"checkbox":E,I=e.label,C=e.children,T=e.as,N=void 0===T?"input":T,P=CG(e,jQ);i=AG(i,"form-check"),a=AG(a,"form-switch");var R=(0,t.useContext)(RQ).controlId,A=(0,t.useMemo)((function(){return{controlId:r||R}}),[R,r]),O=!C&&null!=I&&!1!==I||function(e,n){return t.Children.toArray(e).some((function(e){return t.isValidElement(e)&&e.type===n}))}(C,FQ),D=(0,sp.jsx)(DQ,Di(Di({},P),{},{type:"switch"===S?"checkbox":S,ref:n,isValid:d,isInvalid:v,disabled:h,as:N}));return(0,sp.jsx)(RQ.Provider,{value:A,children:(0,sp.jsx)("div",{style:w,className:NG()(k,O&&i,s&&"".concat(i,"-inline"),c&&"".concat(i,"-reverse"),"switch"===S&&a),children:C||(0,sp.jsxs)(sp.Fragment,{children:[D,O&&(0,sp.jsx)(FQ,{title:x,children:I}),y&&(0,sp.jsx)(PQ,{type:b,tooltip:g,children:y})]})})})}));UQ.displayName="FormCheck";var qQ=Object.assign(UQ,{Input:DQ,Label:FQ}),zQ=(n(391),["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"]),VQ=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.type,a=e.size,o=e.htmlSize,s=e.id,u=e.className,c=e.isValid,l=void 0!==c&&c,h=e.isInvalid,f=void 0!==h&&h,d=e.plaintext,p=e.readOnly,v=e.as,m=void 0===v?"input":v,g=CG(e,zQ),y=(0,t.useContext)(RQ).controlId;return r=AG(r,"form-control"),(0,sp.jsx)(m,Di(Di({},g),{},{type:i,size:o,ref:n,readOnly:p,id:s||y,className:NG()(u,d?"".concat(r,"-plaintext"):r,a&&"".concat(r,"-").concat(a),"color"===i&&"".concat(r,"-color"),l&&"is-valid",f&&"is-invalid")}))}));VQ.displayName="FormControl";var BQ=Object.assign(VQ,{Feedback:PQ}),WQ=["className","bsPrefix","as"],HQ=t.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,i=e.as,a=void 0===i?"div":i,o=CG(e,WQ);return r=AG(r,"form-floating"),(0,sp.jsx)(a,Di({ref:t,className:NG()(n,r)},o))}));HQ.displayName="FormFloating";var GQ=HQ,KQ=["controlId","as"],QQ=t.forwardRef((function(e,n){var r=e.controlId,i=e.as,a=void 0===i?"div":i,o=CG(e,KQ),s=(0,t.useMemo)((function(){return{controlId:r}}),[r]);return(0,sp.jsx)(RQ.Provider,{value:s,children:(0,sp.jsx)(a,Di(Di({},o),{},{ref:n}))})}));QQ.displayName="FormGroup";var YQ=QQ,XQ=["as","bsPrefix","className"],JQ=["className"];function $Q(e){var n=e.as,r=e.bsPrefix,i=e.className,a=CG(e,XQ);r=AG(r,"col");var o=(0,t.useContext)(RG).breakpoints,s=(0,t.useContext)(RG).minBreakpoint,u=[],c=[];return o.forEach((function(e){var t,n,i,o=a[e];delete a[e],"object"===typeof o&&null!=o?(t=o.span,n=o.offset,i=o.order):t=o;var l=e!==s?"-".concat(e):"";t&&u.push(!0===t?"".concat(r).concat(l):"".concat(r).concat(l,"-").concat(t)),null!=i&&c.push("order".concat(l,"-").concat(i)),null!=n&&c.push("offset".concat(l,"-").concat(n))})),[Di(Di({},a),{},{className:NG().apply(void 0,[i].concat(u,c))}),{as:n,bsPrefix:r,spans:u}]}var ZQ=t.forwardRef((function(e,t){var n=ir($Q(e),2),r=n[0],i=r.className,a=CG(r,JQ),o=n[1],s=o.as,u=void 0===s?"div":s,c=o.bsPrefix,l=o.spans;return(0,sp.jsx)(u,Di(Di({},a),{},{ref:t,className:NG()(i,!l.length&&c)}))}));ZQ.displayName="Col";var eY=ZQ,tY=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],nY=t.forwardRef((function(e,n){var r=e.as,i=void 0===r?"label":r,a=e.bsPrefix,o=e.column,s=void 0!==o&&o,u=e.visuallyHidden,c=void 0!==u&&u,l=e.className,h=e.htmlFor,f=CG(e,tY),d=(0,t.useContext)(RQ).controlId;a=AG(a,"form-label");var p="col-form-label";"string"===typeof s&&(p="".concat(p," ").concat(p,"-").concat(s));var v=NG()(l,a,c&&"visually-hidden",s&&p);return h=h||d,s?(0,sp.jsx)(eY,Di({ref:n,as:"label",className:v,htmlFor:h},f)):(0,sp.jsx)(i,Di({ref:n,className:v,htmlFor:h},f))}));nY.displayName="FormLabel";var rY=nY,iY=["bsPrefix","className","id"],aY=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.id,o=CG(e,iY),s=(0,t.useContext)(RQ).controlId;return r=AG(r,"form-range"),(0,sp.jsx)("input",Di(Di({},o),{},{type:"range",ref:n,className:NG()(i,r),id:a||s}))}));aY.displayName="FormRange";var oY=aY,sY=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],uY=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.size,a=e.htmlSize,o=e.className,s=e.isValid,u=void 0!==s&&s,c=e.isInvalid,l=void 0!==c&&c,h=e.id,f=CG(e,sY),d=(0,t.useContext)(RQ).controlId;return r=AG(r,"form-select"),(0,sp.jsx)("select",Di(Di({},f),{},{size:a,ref:n,className:NG()(o,r,i&&"".concat(r,"-").concat(i),u&&"is-valid",l&&"is-invalid"),id:h||d}))}));uY.displayName="FormSelect";var cY=uY,lY=["bsPrefix","className","as","muted"],hY=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"small":i,o=e.muted,s=CG(e,lY);return n=AG(n,"form-text"),(0,sp.jsx)(a,Di(Di({},s),{},{ref:t,className:NG()(r,n,o&&"text-muted")}))}));hY.displayName="FormText";var fY=hY,dY=t.forwardRef((function(e,t){return(0,sp.jsx)(qQ,Di(Di({},e),{},{ref:t,type:"switch"}))}));dY.displayName="Switch";var pY=Object.assign(dY,{Input:qQ.Input,Label:qQ.Label}),vY=["bsPrefix","className","children","controlId","label"],mY=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.children,a=e.controlId,o=e.label,s=CG(e,vY);return n=AG(n,"form-floating"),(0,sp.jsxs)(YQ,Di(Di({ref:t,className:NG()(r,n),controlId:a},s),{},{children:[i,(0,sp.jsx)("label",{htmlFor:a,children:o})]}))}));mY.displayName="FloatingLabel";var gY=mY,yY=["className","validated","as"],bY={_ref:bQ().any,validated:bQ().bool,as:bQ().elementType},kY=t.forwardRef((function(e,t){var n=e.className,r=e.validated,i=e.as,a=void 0===i?"form":i,o=CG(e,yY);return(0,sp.jsx)(a,Di(Di({},o),{},{ref:t,className:NG()(n,r&&"was-validated")}))}));kY.displayName="Form",kY.propTypes=bY;var wY=Object.assign(kY,{Group:YQ,Control:BQ,Floating:GQ,Check:qQ,Switch:pY,Label:rY,Text:fY,Range:oY,Select:cY,FloatingLabel:gY}),_Y=["as","bsPrefix","variant","size","active","disabled","className"],xY=t.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=void 0===i?"primary":i,o=e.size,s=e.active,u=void 0!==s&&s,c=e.disabled,l=void 0!==c&&c,h=e.className,f=CG(e,_Y),d=AG(r,"btn"),p=ir(CK(Di({tagName:n,disabled:l},f)),2),v=p[0],m=p[1].tagName;return(0,sp.jsx)(m,Di(Di(Di({},v),f),{},{ref:t,disabled:l,className:NG()(h,d,u&&"active",a&&"".concat(d,"-").concat(a),o&&"".concat(d,"-").concat(o),f.href&&l&&"disabled")}))}));xY.displayName="Button";var EY=xY;function SY(){var e=(0,t.useRef)(),n=cp().resetPassword,r=ir((0,t.useState)(""),2),i=r[0],a=r[1],o=ir((0,t.useState)(""),2),s=o[0],u=o[1],c=ir((0,t.useState)(!1),2),l=c[0],h=c[1],f=av();function d(){return(d=ki(mi().mark((function t(r){return mi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.prev=1,u(""),a(""),h(!0),t.next=7,n(e.current.value);case 7:u("Check your inbox for further instructions"),alert("Val: "+e.current.value),f("/login"),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(1),a("Failed to reset password"),alert("Val: "+e.current.value);case 16:h(!1);case 17:case"end":return t.stop()}}),t,null,[[1,12]])})))).apply(this,arguments)}return(0,sp.jsxs)("div",{children:[(0,sp.jsx)(dK,{children:(0,sp.jsxs)(dK.Body,{children:[(0,sp.jsx)("h2",{className:"text-center mb-4",children:"Password Reset"}),i&&(0,sp.jsx)(IQ,{variant:"danger",children:i}),s&&(0,sp.jsx)(IQ,{variant:"success",children:s}),(0,sp.jsxs)(wY,{onSubmit:function(e){return d.apply(this,arguments)},children:[(0,sp.jsxs)(wY.Group,{id:"email",children:[(0,sp.jsx)(wY.Label,{children:"Email"}),(0,sp.jsx)(wY.Control,{type:"email",ref:e,required:!0})]}),(0,sp.jsx)(EY,{disabled:l,className:"w-100",type:"submit",children:"Reset Password"})]}),(0,sp.jsxs)("div",{className:"w-100 text-center mt-3",children:["No need to change password?",(0,sp.jsx)(Lv,{to:"/",element:(0,sp.jsx)(n$,{}),children:"Login"})]})]})}),(0,sp.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",(0,sp.jsx)(Lv,{to:"/signup",element:(0,sp.jsx)(r$,{}),children:"Sign Up"})]})]})}var IY=function(){var e=(0,t.useRef)(window.innerWidth),n=(0,t.useRef)(window.innerHeight),r=ir((0,t.useState)("10%"),2),i=r[0],a=r[1],o=ir((0,t.useState)("10%"),2),s=(o[0],o[1]),u=ir((0,t.useState)("100%"),2),c=u[0],l=u[1],h=ir((0,t.useState)("0px"),2),f=(h[0],h[1]),d=ir((0,t.useState)("0px"),2),p=d[0],v=d[1],m=ir((0,t.useState)("big"),2),g=m[0],y=m[1];return(0,t.useEffect)((function(){if(n.current>e.current){l("100%"),f("0%"),v("0%"),a("5%"),s("5%"),y("large");var t=document.getElementById("stayConnectedId");t.getAttribute("hidden");t.setAttribute("hidden","hidden")}else l("67%")})),(0,sp.jsx)("center",{children:(0,sp.jsx)("div",{className:"ui vertical footer segment form-page",style:{width:c,paddingRight:p},children:(0,sp.jsxs)("div",{className:"ui container",style:{marginLeft:"0px"},children:[(0,sp.jsx)("div",{id:"stayConnectedId",children:(0,sp.jsx)("h1",{id:"connect",className:"ui header",children:"Stay Connected"})}),(0,sp.jsxs)("div",{id:"links",children:[(0,sp.jsx)("a",{href:"https://www.linkedin.com/in/emmanuel-kofi-agyapong-783807bb/",id:"linkedinIcon",children:(0,sp.jsx)("button",{className:"ui circular linkedin icon button","data-tooltip":"Checkout my LinkedIn.","data-position":"top center",style:{marginRight:i},children:(0,sp.jsx)("i",{className:g+" linkedin icon"})})}),(0,sp.jsx)("a",{href:"https://github.com/TheWizard91",id:"githubIcon",children:(0,sp.jsx)("button",{className:"ui circular yellow github icon button","data-tooltip":"Checkout my Github repos.","data-position":"top center",style:{marginRight:i,marginLeft:i},children:(0,sp.jsx)("i",{className:g+" github alternate icon"})})}),(0,sp.jsx)("a",{href:"https://github.com/TheWizard91",id:"emailIcon",children:(0,sp.jsx)("button",{className:"ui circular green envelop icon button","data-tooltip":"Send me an email.","data-position":"top center",style:{marginLeft:i},children:(0,sp.jsx)("i",{className:g+" envelope icon"})})})]})]})})})};function CY(e){var n=e.children,r=e.className,i=e.clearing,a=e.content,s=e.fitted,c=e.hidden,l=e.horizontal,f=e.inverted,d=e.section,p=e.vertical,v=u("ui",h(i,"clearing"),h(s,"fitted"),h(c,"hidden"),h(l,"horizontal"),h(f,"inverted"),h(d,"section"),h(p,"vertical"),"divider",r),m=y(CY,e),g=b(CY,e);return t.createElement(g,o({},m,{className:v}),Wn(n)?a:n)}CY.handledProps=["as","children","className","clearing","content","fitted","hidden","horizontal","inverted","section","vertical"],CY.propTypes={};var TY=CY,NY=function(e,t){return"number"===typeof e||"string"===typeof e?e:e[t]},PY=([].concat(Ot(c),Ot(c).map(Number),Pm(c)),["browse","browse right","drop","fade","fade up","fade down","fade left","fade right","fly up","fly down","fly left","fly right","horizontal flip","vertical flip","scale","slide up","slide down","slide left","slide right","swing up","swing down","swing left","swing right","zoom"]),RY=([].concat(PY,["jiggle","flash","shake","pulse","tada","bounce","glow"]),Qv([].concat(["american sign language interpreting","assistive listening systems","audio description","blind","braille","closed captioning","closed captioning outline","deaf","low vision","phone volume","question circle","question circle outline","sign language","tty","universal access","wheelchair"],["angle double down","angle double left","angle double right","angle double up","angle down","angle left","angle right","angle up","arrow alternate circle down","arrow alternate circle down outline","arrow alternate circle left","arrow alternate circle left outline","arrow alternate circle right","arrow alternate circle right outline","arrow alternate circle up","arrow alternate circle up outline","arrow circle down","arrow circle left","arrow circle right","arrow circle up","arrow down","arrow left","arrow right","arrow up","arrows alternate","arrows alternate horizontal","arrows alternate vertical","caret down","caret left","caret right","caret square down","caret square down outline","caret square left","caret square left outline","caret square right","caret square right outline","caret square up","caret square up outline","caret up","cart arrow down","chart line","chevron circle down","chevron circle left","chevron circle right","chevron circle up","chevron down","chevron left","chevron right","chevron up","cloud download","cloud upload","download","exchange","expand arrows alternate","external alternate","external square alternate","hand point down","hand point down outline","hand point left","hand point left outline","hand point right","hand point right outline","hand point up","hand point up outline","hand pointer","hand pointer outline","history","level down alternate","level up alternate","location arrow","long arrow alternate down","long arrow alternate left","long arrow alternate right","long arrow alternate up","mouse pointer","play","random","recycle","redo","redo alternate","reply","reply all","retweet","share","share square","share square outline","sign-in","sign-out","sign-in alternate","sign-out alternate","sort","sort alphabet down","sort alphabet up","sort amount down","sort amount up","sort down","sort numeric down","sort numeric up","sort up","sync","sync alternate","text height","text width","undo","undo alternate","upload","zoom-in","zoom-out"],["audio description","backward","circle","circle outline","closed captioning","closed captioning outline","compress","eject","expand","expand arrows alternate","fast backward","fast forward","file audio","file audio outline","file video","file video outline","film","forward","headphones","microphone","microphone slash","music","pause","pause circle","pause circle outline","phone volume","play","play circle","play circle outline","podcast","random","redo","redo alternate","rss","rss square","step backward","step forward","stop","stop circle","stop circle outline","sync","sync alternate","undo","undo alternate","video","volume down","volume off","volume up"],["address book","address book outline","address card","address card outline","archive","balance scale","birthday cake","book","briefcase","building","building outline","bullhorn","bullseye","calculator","calendar","calendar outline","calendar alternate","calendar alternate outline","certificate","chart area","chart bar","chart bar outline","chart line","chart pie","clipboard","clipboard outline","coffee","columns","compass","compass outline","copy","copy outline","copyright","copyright outline","cut","edit","edit outline","envelope","envelope outline","envelope open","envelope open outline","envelope square","eraser","fax","file","file outline","file alternate","file alternate outline","folder","folder outline","folder open","folder open outline","globe","industry","paperclip","paste","pen square","pencil alternate","percent","phone","phone square","phone volume","registered","registered outline","save","save outline","sitemap","sticky note","sticky note outline","suitcase","table","tag","tags","tasks","thumbtack","trademark"],["chess","chess bishop","chess board","chess king","chess knight","chess pawn","chess queen","chess rook","square full"],["archive","barcode","bath","bug","code","code branch","coffee","file","file outline","file alternate","file alternate outline","file code","file code outline","filter","fire extinguisher","folder","folder outline","folder open","folder open outline","keyboard","keyboard outline","microchip","qrcode","shield alternate","sitemap","terminal","user secret","window close","window close outline","window maximize","window maximize outline","window minimize","window minimize outline","window restore","window restore outline"],["address book","address book outline","address card","address card outline","american sign language interpreting","assistive listening systems","at","bell","bell outline","bell slash","bell slash outline","bullhorn","comment","comment outline","comment alternate","comment alternate outline","comments","comments outline","envelope","envelope outline","envelope open","envelope open outline","envelope square","fax","inbox","language","microphone","microphone slash","mobile","mobile alternate","paper plane","paper plane outline","phone","phone square","phone volume","rss","rss square","tty","wifi"],["desktop","download","hdd","hdd outline","headphones","keyboard","keyboard outline","laptop","microchip","mobile","mobile alternate","plug","power off","print","save","save outline","server","tablet","tablet alternate","tv","upload"],["dollar sign","euro sign","lira sign","money bill alternate","money bill alternate outline","pound sign","ruble sign","rupee sign","shekel sign","won sign","yen sign"],["bell","bell outline","bell slash","bell slash outline","calendar","calendar outline","calendar alternate","calendar alternate outline","calendar check","calendar check outline","calendar minus","calendar minus outline","calendar plus","calendar plus outline","calendar times","calendar times outline","clock","clock outline","hourglass","hourglass outline","hourglass end","hourglass half","hourglass start","stopwatch"],["adjust","clone","clone outline","copy","copy outline","crop","crosshairs","cut","edit","edit outline","eraser","eye","eye dropper","eye slash","eye slash outline","object group","object group outline","object ungroup","object ungroup outline","paint brush","paste","pencil alternate","save","save outline","tint"],["align center","align justify","align left","align right","bold","clipboard","clipboard outline","clone","clone outline","columns","copy","copy outline","cut","edit","edit outline","eraser","file","file outline","file alternate","file alternate outline","font","heading","i cursor","indent","italic","linkify","list","list alternate","list alternate outline","list ol","list ul","outdent","paper plane","paper plane outline","paperclip","paragraph","paste","pencil alternate","print","quote left","quote right","redo","redo alternate","reply","reply all","share","strikethrough","subscript","superscript","sync","sync alternate","table","tasks","text height","text width","th","th large","th list","trash","trash alternate","trash alternate outline","underline","undo","undo alternate","unlink"],["archive","clone","clone outline","copy","copy outline","cut","file","file outline","file alternate","file alternate outline","file archive","file archive outline","file audio","file audio outline","file code","file code outline","file excel","file excel outline","file image","file image outline","file pdf","file pdf outline","file powerpoint","file powerpoint outline","file video","file video outline","file word","file word outline","folder","folder outline","folder open","folder open outline","paste","save","save outline","sticky note","sticky note outline"],["genderless","mars","mars double","mars stroke","mars stroke horizontal","mars stroke vertical","mercury","neuter","transgender","transgender alternate","venus","venus double","venus mars"],["hand lizard","hand lizard outline","hand paper","hand paper outline","hand peace","hand peace outline","hand point down","hand point down outline","hand point left","hand point left outline","hand point right","hand point right outline","hand point up","hand point up outline","hand pointer","hand pointer outline","hand rock","hand rock outline","hand scissors","hand scissors outline","hand spock","hand spock outline","handshake","handshake outline","thumbs down","thumbs down outline","thumbs up","thumbs up outline"],["ambulance","h square","heart","heart outline","heartbeat","hospital","hospital outline","medkit","plus square","plus square outline","stethoscope","user md","wheelchair"],["adjust","bolt","camera","camera retro","clone","clone outline","compress","expand","eye","eye dropper","eye slash","eye slash outline","file image","file image outline","film","id badge","id badge outline","id card","id card outline","image","image outline","images","images outline","sliders horizontal","tint"],["ban","barcode","bars","beer","bell","bell outline","bell slash","bell slash outline","bug","bullhorn","bullseye","calculator","calendar","calendar outline","calendar alternate","calendar alternate outline","calendar check","calendar check outline","calendar minus","calendar minus outline","calendar plus","calendar plus outline","calendar times","calendar times outline","certificate","check","check circle","check circle outline","check square","check square outline","circle","circle outline","clipboard","clipboard outline","clone","clone outline","cloud","cloud download","cloud upload","coffee","cog","cogs","copy","copy outline","cut","database","dot circle","dot circle outline","download","edit","edit outline","ellipsis horizontal","ellipsis vertical","envelope","envelope outline","envelope open","envelope open outline","eraser","exclamation","exclamation circle","exclamation triangle","external alternate","external square alternate","eye","eye slash","eye slash outline","file","file outline","file alternate","file alternate outline","filter","flag","flag outline","flag checkered","folder","folder outline","folder open","folder open outline","frown","frown outline","hashtag","heart","heart outline","history","home","i cursor","info","info circle","language","magic","meh","meh outline","microphone","microphone slash","minus","minus circle","minus square","minus square outline","paste","pencil alternate","plus","plus circle","plus square","plus square outline","qrcode","question","question circle","question circle outline","quote left","quote right","redo","redo alternate","reply","reply all","rss","rss square","save","save outline","search","search minus","search plus","share","share alternate","share alternate square","share square","share square outline","shield alternate","sign-in","sign-out","signal","sitemap","sliders horizontal","smile","smile outline","sort","sort alphabet down","sort alphabet up","sort amount down","sort amount up","sort down","sort numeric down","sort numeric up","sort up","star","star outline","star half","star half outline","sync","sync alternate","thumbs down","thumbs down outline","thumbs up","thumbs up outline","times","times circle","times circle outline","toggle off","toggle on","trash","trash alternate","trash alternate outline","trophy","undo","undo alternate","upload","user","user outline","user circle","user circle outline","wifi"],["box","boxes","clipboard check","clipboard list","dolly","dolly flatbed","pallet","shipping fast","truck","warehouse"],["ambulance","anchor","balance scale","bath","bed","beer","bell","bell outline","bell slash","bell slash outline","bicycle","binoculars","birthday cake","blind","bomb","book","bookmark","bookmark outline","briefcase","building","building outline","car","coffee","crosshairs","dollar sign","eye","eye slash","eye slash outline","fighter jet","fire","fire extinguisher","flag","flag outline","flag checkered","flask","gamepad","gavel","gift","glass martini","globe","graduation cap","h square","heart","heart outline","heartbeat","home","hospital","hospital outline","image","image outline","images","images outline","industry","info","info circle","key","leaf","lemon","lemon outline","life ring","life ring outline","lightbulb","lightbulb outline","location arrow","low vision","magnet","male","map","map outline","map marker","map marker alternate","map pin","map signs","medkit","money bill alternate","money bill alternate outline","motorcycle","music","newspaper","newspaper outline","paw","phone","phone square","phone volume","plane","plug","plus","plus square","plus square outline","print","recycle","road","rocket","search","search minus","search plus","ship","shopping bag","shopping basket","shopping cart","shower","street view","subway","suitcase","tag","tags","taxi","thumbtack","ticket alternate","tint","train","tree","trophy","truck","tty","umbrella","university","utensil spoon","utensils","wheelchair","wifi","wrench"],["ambulance","band aid","dna","first aid","heart","heart outline","heartbeat","hospital","hospital outline","hospital symbol","pills","plus","stethoscope","syringe","thermometer","user md","weight"],["ambulance","anchor","archive","balance scale","bath","bed","beer","bell","bell outline","bicycle","binoculars","birthday cake","bomb","book","bookmark","bookmark outline","briefcase","bug","building","building outline","bullhorn","bullseye","bus","calculator","calendar","calendar outline","calendar alternate","calendar alternate outline","camera","camera retro","car","clipboard","clipboard outline","cloud","coffee","cog","cogs","compass","compass outline","copy","copy outline","cube","cubes","cut","envelope","envelope outline","envelope open","envelope open outline","eraser","eye","eye dropper","fax","fighter jet","file","file outline","file alternate","file alternate outline","film","fire","fire extinguisher","flag","flag outline","flag checkered","flask","futbol","futbol outline","gamepad","gavel","gem","gem outline","gift","glass martini","globe","graduation cap","hdd","hdd outline","headphones","heart","heart outline","home","hospital","hospital outline","hourglass","hourglass outline","image","image outline","images","images outline","industry","key","keyboard","keyboard outline","laptop","leaf","lemon","lemon outline","life ring","life ring outline","lightbulb","lightbulb outline","lock","lock open","magic","magnet","map","map outline","map marker","map marker alternate","map pin","map signs","medkit","microchip","microphone","mobile","mobile alternate","money bill alternate","money bill alternate outline","moon","moon outline","motorcycle","newspaper","newspaper outline","paint brush","paper plane","paper plane outline","paperclip","paste","paw","pencil alternate","phone","plane","plug","print","puzzle piece","road","rocket","save","save outline","search","shield alternate","shopping bag","shopping basket","shopping cart","shower","snowflake","snowflake outline","space shuttle","star","star outline","sticky note","sticky note outline","stopwatch","subway","suitcase","sun","sun outline","tablet","tablet alternate","tachometer alternate","tag","tags","taxi","thumbtack","ticket alternate","train","trash","trash alternate","trash alternate outline","tree","trophy","truck","tv","umbrella","university","unlock","unlock alternate","utensil spoon","utensils","wheelchair","wrench"],["bell","bell outline","bookmark","bookmark outline","bullhorn","camera","camera retro","cart arrow down","cart plus","certificate","credit card","credit card outline","gem","gem outline","gift","handshake","handshake outline","heart","heart outline","key","shopping bag","shopping basket","shopping cart","star","star outline","tag","tags","thumbs down","thumbs down outline","thumbs up","thumbs up outline","trophy"],["bookmark","bookmark outline","calendar","calendar outline","certificate","circle","circle outline","cloud","comment","comment outline","file","file outline","folder","folder outline","heart","heart outline","map marker","play","square","square outline","star","star outline"],["asterisk","certificate","circle notch","cog","compass","compass outline","crosshairs","life ring","life ring outline","snowflake","snowflake outline","spinner","sun","sun outline","sync"],["baseball ball","basketball ball","bowling ball","football ball","futbol","futbol outline","golf ball","hockey puck","quidditch","table tennis","volleyball ball"],["ban","battery empty","battery full","battery half","battery quarter","battery three quarters","bell","bell outline","bell slash","bell slash outline","calendar","calendar outline","calendar alternate","calendar alternate outline","calendar check","calendar check outline","calendar minus","calendar minus outline","calendar plus","calendar plus outline","calendar times","calendar times outline","cart arrow down","cart plus","exclamation","exclamation circle","exclamation triangle","eye","eye slash","eye slash outline","file","file outline","file alternate","file alternate outline","folder","folder outline","folder open","folder open outline","info","info circle","lock","lock open","minus","minus circle","minus square","minus square outline","plus","plus circle","plus square","plus square outline","question","question circle","question circle outline","shield alternate","shopping cart","sign in alternate","sign out alternate","thermometer empty","thermometer full","thermometer half","thermometer quarter","thermometer three quarters","thumbs down","thumbs down outline","thumbs up","thumbs up outline","toggle off","toggle on","unlock","unlock alternate"],["address book","address book outline","address card","address card outline","bed","blind","child","female","frown","frown outline","id badge","id badge outline","id card","id card outline","male","meh","meh outline","power off","smile","smile outline","street view","user","user outline","user circle","user circle outline","user md","user plus","user secret","user times","users","wheelchair"],["ambulance","bicycle","bus","car","fighter jet","motorcycle","paper plane","paper plane outline","plane","rocket","ship","shopping cart","space shuttle","subway","taxi","train","truck","wheelchair"],["archive","book","bookmark","bookmark outline","edit","edit outline","envelope","envelope outline","envelope open","envelope open outline","eraser","file","file outline","file alternate","file alternate outline","folder","folder outline","folder open","folder open outline","keyboard","keyboard outline","newspaper","newspaper outline","paper plane","paper plane outline","paperclip","paragraph","pen square","pencil alternate","quote left","quote right","sticky note","sticky note outline","thumbtack"],["500px","accessible","accusoft","adn","adversal","affiliatetheme","algolia","amazon","amazon pay","amilia","android","angellist","angrycreative","angular","app store","app store ios","apper","apple","apple pay","asymmetrik","audible","autoprefixer","avianex","aviato","aws","bandcamp","behance","behance square","bimobject","bitbucket","bitcoin","bity","black tie","blackberry","blogger","blogger b","bluetooth","bluetooth b","btc","buromobelexperte","buysellads","cc amazon pay","cc amex","cc apple pay","cc diners club","cc discover","cc jcb","cc mastercard","cc paypal","cc stripe","cc visa","centercode","chrome","cloudscale","cloudsmith","cloudversify","codepen","codiepie","connectdevelop","contao","cpanel","creative commons","css3","css3 alternate","cuttlefish","d and d","dashcube","delicious","deploydog","deskpro","deviantart","digg","digital ocean","discord","discourse","dochub","docker","draft2digital","dribbble","dribbble square","dropbox","drupal","dyalog","earlybirds","edge","elementor","ember","empire","envira","erlang","ethereum","etsy","expeditedssl","facebook","facebook f","facebook messenger","facebook square","firefox","first order","firstdraft","flickr","flipboard","fly","font awesome","font awesome alternate","font awesome flag","fonticons","fonticons fi","fort awesome","fort awesome alternate","forumbee","foursquare","free code camp","freebsd","get pocket","gg","gg circle","git","git square","github","github alternate","github square","gitkraken","gitlab","gitter","glide","glide g","gofore","goodreads","goodreads g","google","google drive","google play","google plus","google plus g","google plus square","google wallet","gratipay","grav","gripfire","grunt","gulp","hacker news","hacker news square","hips","hire a helper","hooli","hotjar","houzz","html5","hubspot","imdb","instagram","internet explorer","ioxhost","itunes","itunes note","jenkins","joget","joomla","js","js square","jsfiddle","keycdn","kickstarter","kickstarter k","korvue","laravel","lastfm","lastfm square","leanpub","less","linechat","linkedin","linkedin alternate","linode","linux","lyft","magento","maxcdn","medapps","medium","medium m","medrt","meetup","microsoft","mix","mixcloud","mizuni","modx","monero","napster","nintendo switch","node","node js","npm","ns8","nutritionix","odnoklassniki","odnoklassniki square","opencart","openid","opera","optin monster","osi","page4","pagelines","palfed","patreon","paypal","periscope","phabricator","phoenix framework","php","pied piper","pied piper alternate","pied piper pp","pinterest","pinterest p","pinterest square","playstation","product hunt","pushed","python","qq","quinscape","quora","ravelry","react","rebel","redriver","reddit","reddit alien","reddit square","rendact","renren","replyd","resolving","rocketchat","rockrms","safari","sass","schlix","scribd","searchengin","sellcast","sellsy","servicestack","shirtsinbulk","simplybuilt","sistrix","skyatlas","skype","slack","slack hash","slideshare","snapchat","snapchat ghost","snapchat square","soundcloud","speakap","spotify","stack exchange","stack overflow","staylinked","steam","steam square","steam symbol","sticker mule","strava","stripe","stripe s","studiovinari","stumbleupon","stumbleupon circle","superpowers","supple","telegram","telegram plane","tencent weibo","themeisle","trello","tripadvisor","tumblr","tumblr square","twitch","twitter","twitter square","typo3","uber","uikit","uniregistry","untappd","usb","ussunnah","vaadin","viacoin","viadeo","viadeo square","viber","vimeo","vimeo square","vimeo v","vine","vk","vnv","vuejs","wechat","weibo","weixin","whatsapp","whatsapp square","whmcs","wikipedia w","windows","wordpress","wordpress simple","wpbeginner","wpexplorer","wpforms","xbox","xing","xing square","y combinator","yahoo","yandex","yandex international","yelp","yoast","youtube","youtube square"]))),AY=Qv([].concat(RY,["chess rock","ordered list","unordered list","user doctor","shield","puzzle","add circle","add square","add to calendar","add to cart","add user","add","alarm mute","alarm","ald","als","announcement","area chart","area graph","arrow down cart","asexual","asl interpreting","asl","assistive listening devices","attach","attention","balance","bar","bathtub","battery four","battery high","battery low","battery one","battery three","battery two","battery zero","birthday","block layout","bluetooth alternative","broken chain","browser","call square","call","cancel","cart","cc","chain","chat","checked calendar","checkmark","circle notched","close","cny","cocktail","commenting","computer","configure","content","deafness","delete calendar","delete","detective","discussions","doctor","dollar","dont","drivers license","dropdown","emergency","envira gallery","erase","eur","euro","eyedropper","factory","favorite","feed","female homosexual","file text","file text outline","find","first aid","fork","game","gay","gbp","google plus circle","google plus official","grab","graduation","grid layout","group","h","hand victory","handicap","hard of hearing","header","help circle","help","heterosexual","hide","hotel","hourglass four","hourglass full","hourglass one","hourglass three","hourglass two","idea","ils","in cart","inr","intergender","intersex","jpy","krw","lab","law","legal","lesbian","lightning","like","line graph","linkedin square","linkify","lira","list layout","magnify","mail forward","mail outline","mail square","mail","male homosexual","man","marker","mars alternate","mars horizontal","mars vertical","microsoft edge","military","ms edge","mute","new pied piper","non binary transgender","numbered list","options","other gender horizontal","other gender vertical","other gender","payment","paypal card","pencil square","photo","picture","pie chart","pie graph","pied piper hat","pin","plus cart","point","pointing down","pointing left","pointing right","pointing up","pound","power cord","power","privacy","r circle","rain","record","refresh","remove circle","remove from calendar","remove user","remove","repeat","rmb","rouble","rub","ruble","rupee","s15","selected radio","send","setting","settings","shekel","sheqel","shipping","shop","shuffle","shutdown","sidebar","signing","signup","sliders","soccer","sort alphabet ascending","sort alphabet descending","sort ascending","sort content ascending","sort content descending","sort descending","sort numeric ascending","sort numeric descending","sound","spy","stripe card","student","talk","target","teletype","television","text cursor","text telephone","theme","thermometer","thumb tack","time","tm","toggle down","toggle left","toggle right","toggle up","translate","travel","treatment","triangle down","triangle left","triangle right","triangle up","try","unhide","unlinkify","unmute","usd","user cancel","user close","user delete","user x","vcard","video camera","video play","volume control phone","wait","warning circle","warning sign","warning","wi-fi","winner","wizard","woman","won","wordpress beginner","wordpress forms","world","write square","x","yen","zip","zoom in","zoom out","zoom","bitbucket square","checkmark box","circle thin","cloud download","cloud upload","compose","conversation","credit card alternative","currency","dashboard","diamond","disk","exchange","external share","external square","external","facebook official","food","hourglass zero","level down","level up","log out","meanpath","money","move","pencil","protect","radio","remove bookmark","resize horizontal","resize vertical","sign in","sign out","spoon","star half empty","star half full","ticket","times rectangle","write","youtube play"])),OY=(Qv([].concat(AY,["left dropdown"])),Object.prototype.hasOwnProperty);var DY=function(e,t){return null!=e&&OY.call(e,t)};var LY=function(e,t){return null!=e&&Pn(e,t,DY)};var MY=function(e,t){var n={};return t=Fn(t,3),Un(e,(function(e,r,i){hy(n,r,t(e,r,i))})),n};var FY=function(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r};var jY=function(e,t,n,r){return qn(e,(function(e,i,a){t(r,e,n(e),a)})),r};var UY=function(e,t){return function(n,r){var i=Ge(n)?FY:jY,a=t?t():{};return i(n,e,Fn(r,2),a)}}((function(e,t,n){hy(e,n,t)})),qY=function(e){return UY(Ub(t.Children.toArray(e),t.isValidElement),"key")},zY=function(e,t,n){return LY(n,e)?n[e]:t[e]},VY=function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var n={},r=function(e,t){var n={},r=[];return Lm(Ot(e),(function(e){LY(t,e)?r.length&&(n[e]=r,r=[]):r.push(e)})),[n,r]}(e,t),i=r[0],a=r[1];return Lm(Ot(t),(function(r){LY(i,r)&&Lm(i[r],(function(r){n[r]=zY(r,e,t)})),n[r]=zY(r,e,t)})),Lm(a,(function(r){n[r]=zY(r,e,t)})),n};function BY(e,n,r){void 0===r&&(r={});var i=e.key,a=r,o=a.animation,s=a.directional,u=a.duration,c=a.transitionOnMount,l=void 0!==c&&c,h=a.visible,f=void 0===h||h;return t.createElement(tX,{animation:o,directional:s,duration:u,key:i,onHide:n,reactKey:i,transitionOnMount:l,visible:f},e)}BY.handledProps=[];var WY=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={handleOnHide:function(e,n){var r=n.reactKey;t.setState((function(e){var t=o({},e.children);return delete t[r],{children:t}}))}},t}return mm(n,e),n.getDerivedStateFromProps=function(e,n){var r=e.animation,i=e.duration,a=e.directional,o=n.children;if("undefined"===typeof o)return{children:MY(qY(e.children),(function(e){return BY(e,n.handleOnHide,{animation:r,duration:i,directional:a})}))};var s=qY(e.children),u=VY(o,s);return Lm(u,(function(e,c){var l=LY(o,c),h=LY(s,c),f=o[c],d=!Tn(f,"props.visible");if(!h||l&&!d)if(h||!l||d){var p=f.props,v=p.visible,m=p.transitionOnMount;u[c]=BY(e,n.handleOnHide,{animation:r,duration:i,directional:a,transitionOnMount:m,visible:v})}else u[c]=t.cloneElement(f,{visible:!1});else u[c]=BY(e,n.handleOnHide,{animation:r,duration:i,directional:a,transitionOnMount:!0})})),{children:u}},n.prototype.render=function(){var e=this.state.children,r=b(n,this.props),i=y(n,this.props);return t.createElement(r,i,Pm(e))},n}(t.Component);WY.handledProps=["animation","as","children","directional","duration"],WY.propTypes={},WY.defaultProps={as:t.Fragment,animation:"fade",duration:500};var HY,GY,KY="INITIAL",QY="ENTERED",YY="ENTERING",XY="EXITED",JY="EXITING",$Y="UNMOUNTED";var ZY=((HY={})[QY]="show",HY[XY]="hide",HY),eX=((GY={})[YY]="show",GY[JY]="hide",GY),tX=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={status:KY},t.handleStart=function(e){var n=t.props.duration,r=ZY[e],i=NY(n,r);t.timeoutId=setTimeout((function(){return t.setState({status:e})}),i)},t.updateStatus=function(e){if(e.status!==t.state.status&&(clearTimeout(t.timeoutId),t.state.nextStatus&&t.handleStart(t.state.nextStatus)),!e.animating&&t.state.animating&&rg(t.props,"onStart",null,o({},t.props,{status:t.state.status})),e.animating&&!t.state.animating){var n=t.state.status===QY?"onShow":"onHide";rg(t.props,"onComplete",null,o({},t.props,{status:t.state.status})),rg(t.props,n,null,o({},t.props,{status:t.state.status}))}},t.computeClasses=function(){var e=t.props,n=e.animation,r=e.directional,i=e.children,a=t.state,o=a.animating,s=a.status,c=Tn(i,"props.className");return(am(r)?Am(PY,n):r)?u(n,c,h(o,"animating"),h(s===YY,"in"),h(s===JY,"out"),h(s===XY,"hidden"),h(s!==XY,"visible"),"transition"):u(n,c,h(o,"animating transition"))},t.computeStyle=function(){var e=t.props,n=e.children,r=e.duration,i=t.state.status,a=Tn(n,"props.style"),s=eX[i];return o({},a,{animationDuration:s&&NY(r,s)+"ms"})},t}mm(n,e),n.getDerivedStateFromProps=function(e,t){var n=function(e){var t=e.mountOnShow,n=e.status,r=e.transitionOnMount,i=e.visible,a=e.unmountOnHide;if(i){if(n===KY)return r?{animating:!0,status:YY,nextStatus:QY}:{animating:!1,status:QY,nextStatus:void 0};if(n===$Y)return{animating:!0,status:YY,nextStatus:QY};if(n===XY||n===JY)return{animating:!0,status:YY,nextStatus:QY};if(n===YY)return{};if(n===QY)return{animating:!1,status:QY,nextStatus:void 0}}if(n===KY)return t||a?{animating:!1,status:$Y,nextStatus:void 0}:{animating:!1,status:XY,nextStatus:void 0};if(n===QY||n===YY)return{animating:!0,status:JY,nextStatus:a?$Y:XY};if(n===JY)return{};if(n===XY)return{animating:!1,status:XY,nextStatus:void 0};if(n===$Y)return{animating:!1,status:$Y,nextStatus:void 0};throw new Error("Transition:computeStatuses(): an unexpected status transition: { visible: "+i+", status: "+n+" }")}({mountOnShow:e.mountOnShow,status:t.status,transitionOnMount:e.transitionOnMount,visible:e.visible,unmountOnHide:e.unmountOnHide});return n};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus({})},r.componentDidUpdate=function(e,t){this.updateStatus(t)},r.componentWillUnmount=function(){clearTimeout(this.timeoutId)},r.render=function(){var e=this.props.children;return this.state.status===$Y?null:(0,t.cloneElement)(e,{className:this.computeClasses(),style:this.computeStyle()})},n}(t.Component);tX.INITIAL=KY,tX.ENTERED=QY,tX.ENTERING=YY,tX.EXITED=XY,tX.EXITING=JY,tX.UNMOUNTED=$Y,tX.Group=WY,tX.handledProps=["animation","children","directional","duration","mountOnShow","onComplete","onHide","onShow","onStart","reactKey","transitionOnMount","unmountOnHide","visible"],tX.propTypes={},tX.defaultProps={animation:"fade",duration:500,visible:!0,mountOnShow:!0,transitionOnMount:!1,unmountOnHide:!1};var nX=function(e){var t=e.onChange,n=e.src;return(0,sp.jsxs)("label",{htmlFor:"photo-upload",className:"custom-file-upload fas",children:[(0,sp.jsx)("div",{className:"img-wrap img-upload",children:(0,sp.jsx)("img",{for:"photo-upload",src:n})}),(0,sp.jsx)("input",{id:"photo-upload",type:"file",onChange:t})]})},rX=function(e){var t=e.onChange,n=e.value;return(0,sp.jsxs)("div",{className:"field",children:[(0,sp.jsx)("label",{htmlFor:"name",children:"name:"}),(0,sp.jsx)("input",{id:"name",type:"text",onChange:t,maxlength:"25",value:n,placeholder:"Alexa",required:!0})]})},iX=function(e){var t=e.onChange,n=e.value;return(0,sp.jsxs)("div",{className:"field",children:[(0,sp.jsx)("label",{htmlFor:"status",children:"status:"}),(0,sp.jsx)("input",{id:"status",type:"text",onChange:t,maxLength:"35",value:n,placeholder:"It's a nice day!",required:!0})]})},aX=function(e){var t=e.onSubmit,n=e.src,r=e.name,i=e.status;return(0,sp.jsx)("div",{className:"cards",children:(0,sp.jsxs)("form",{class:"my_form",onSubmit:t,children:[(0,sp.jsx)("h1",{children:"Profile Card"}),(0,sp.jsx)("label",{className:"custom-file-upload fas",children:(0,sp.jsx)("div",{className:"img-wrap",children:(0,sp.jsx)("img",{for:"photo-upload",src:n})})}),(0,sp.jsx)("div",{className:"name",children:r}),(0,sp.jsx)("div",{className:"status",children:i}),(0,sp.jsx)("button",{class:"my_button",type:"submit",className:"edit",children:"Edit Profile "})]})})},oX=function(e){var t=e.onSubmit,n=e.children;return(0,sp.jsx)("div",{className:"cards",children:(0,sp.jsxs)("form",{class:"my_form",onSubmit:t,children:[(0,sp.jsx)("h1",{children:"Profile Card"}),n,(0,sp.jsx)("button",{class:"my_button",type:"submit",className:"save",children:"Save "})]})})},sX=(t.Component,nX);var uX=function(e){var n=e.post,r=e.time,i=e.post_id,a=e.post_image,o=e.likes,s=e.favorites,u=e.current_user_firstname,c=e.current_user_lastname,l=e.current_user_profile_image,h=e.current_user_id,f=ir((0,t.useState)({postID:[]}),2),d=(f[0],f[1],ir((0,t.useState)({visible:!1}),2)),p=d[0],v=d[1],m=ir((0,t.useState)(),2),g=m[0],y=(m[1],ir((0,t.useState)(),2)),b=y[0],k=(y[1],(0,t.useRef)("https://emmanuelcodes.netlify.app/profile_image.7e798b21.jpg"),ir((0,t.useState)(n),2)),w=k[0],_=k[1],x=ir((0,t.useState)(r),2),E=x[0],S=(x[1],ir((0,t.useState)(o),2)),I=S[0],C=S[1],T=ir((0,t.useState)(s),2),N=T[0],P=T[1],R=ir((0,t.useState)(a),2),A=(R[0],R[1],ir((0,t.useState)(u),2)),O=(A[0],A[1],ir((0,t.useState)(c),2)),D=(O[0],O[1],ir((0,t.useState)(l),2)),L=(D[0],D[1],ir((0,t.useState)(h),2)),M=(L[0],L[1],ir((0,t.useState)(i),2)),F=M[0],j=(M[1],BL(ZF,"posts",i)),U=(0,t.useRef)("#34CCAD"),q=(0,t.useRef)("#000000"),z=(0,t.useRef)("#edf756"),V=(0,t.useRef)("#d0bdf4"),B=(0,t.useRef)("#a28089"),W=(0,t.useRef)("#a0d2eb"),H=(0,t.useRef)("#FFFFF0"),G=ir((0,t.useState)(1),2),K=G[0],Q=G[1],Y=ir((0,t.useState)("#000000"),1)[0],X=ir((0,t.useState)("black"),2),J=X[0],$=X[1],Z=ir((0,t.useState)(1),2),ee=Z[0],te=Z[1],ne=ir((0,t.useState)("black"),2),re=ne[0],ie=ne[1],ae=ir((0,t.useState)(1),2),oe=ae[0],se=ae[1],ue=av(),ce=((0,t.useRef)("https://semantic-ui.com/images/avatar2/small/patrick.png"),function(e,t){var n=t.name;t.value;switch(n){case"delete":!function(){le.apply(this,arguments)}();break;case"likes":fe();break;case"start":he();break;case"user":de()}});function le(){return(le=ki(mi().mark((function e(){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("delete button is clicked!"),e.next=3,mF(j);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var he=function(){se(oe+1),oe%2===1?(ie(U.current),P(N+1),vF(j,{favorites:1},{merge:!0}).then((function(){return console.log("favorites updated")}))):(ie(q.current),P(N-1),vF(j,{favorites:0},{merge:!0}).then((function(){return console.log("favorites updated")})))},fe=function(){te(ee+1),ee%2===1?($(U.current),C(I+1),vF(j,{likes:1},{merge:!0}).then((function(){return console.log("likes updated")}))):($(q.current),C(I-1),vF(j,{likes:0},{merge:!0}).then((function(){return console.log("likes updated")})))},de=function(){ue("image-uploader")};return(0,t.useEffect)((function(){v(!1),$(I>0?U.current:q.current),ie(N>0?U.current:q.current)}),[0]),(0,sp.jsx)("div",{children:(0,sp.jsxs)(ny,{className:"ui centered card",id:"livePostCardview",style:{width:"100%",borderRadius:"1em",borderWidth:"medium",borderColor:"red",backgroundColor:"#e5eaf5"},children:[(0,sp.jsxs)("div",{className:"content",children:[(0,sp.jsx)(ly,{name:"delete",value:"del",className:"right floated ui circular times pastel gray icon button","data-tooltip":"Delete.","data-position":"top center",style:{color:Y,backgroundColor:B.current},onClick:ce,children:(0,sp.jsx)("i",{className:"times icon"})}),(0,sp.jsx)(ly,{name:"likes",value:"heart",className:"right floated ui circular pastel gray icon button","data-tooltip":"Like.","data-position":"top center",style:{color:J,backgroundColor:V.current},onClick:ce,children:(0,sp.jsx)("i",{className:"like icon"})}),(0,sp.jsx)(ly,{name:"star",value:"favorites",className:"right floated ui circular pastel gray icon button","data-tooltip":"Favorite.","data-position":"top center",style:{color:re,backgroundColor:z.current},onClick:he,children:(0,sp.jsx)("i",{className:"star icon"})}),(0,sp.jsx)(ly,{name:"user",value:"user_name",className:"left floated ui circular pastel gray icon button",style:{color:H.current,backgroundColor:"black"},onClick:ce,children:(0,sp.jsx)("i",{className:"user icon"})}),(0,sp.jsx)("div",{className:"ui left floated text",style:{width:"fit-content"},children:E}),(0,sp.jsx)("p",{}),(0,sp.jsx)("div",{className:"description",children:w}),(0,sp.jsx)(TY,{iverted:!0,horizontal:!0,color:"#a28089",children:"Edit Post Or Reply"}),(0,sp.jsx)(tX,{visible:p,animation:"scale",duration:500,children:(0,sp.jsx)("textarea",{id:"input-element",className:"ui segment",type:"text",value:g,name:"message",style:{width:"100%"},onChange:function(e){e.preventDefault(),K%2===0&&_(e.target.value),vF(j,{post:e.target.value},{merge:!0}).then((function(){return console.log("post updated")}))},placeholder:"Type anything..."})})]}),(0,sp.jsxs)("div",{children:[(0,sp.jsx)(ly,{className:"ui circular icon button",style:{backgroundColor:W.current,width:"fit-item",color:"#1E90FF",marginBottom:"10px"},value:F,onClick:function(e){e.preventDefault(),v(!p),Q(K+1)},"data-tooltip":"Edit.","data-position":"top center",content:p?"Hide":"Show",children:(0,sp.jsx)("i",{className:"edit icon"})}),(0,sp.jsx)(ly,{className:"ui circular icon button",style:{backgroundColor:W.current,width:"fit-item",color:"#1E90FF",marginBottom:"10px"},value:F,onClick:function(e){e.preventDefault(),console.log("reply"),b%2===0&&_(e.target.value),vF(j,{post:e.target.value},{merge:!0}).then((function(){return console.log("post updated")}))},"data-tooltip":"Reply.","data-position":"top center",content:p?"Hide":"Show",children:(0,sp.jsx)("i",{className:"reply icon"})})]})]})})},cX=n(610);var lX=function(e){var n=e.u_firstname,r=e.u_lastname,i=e.u_profile_image,a=e.u_id,o=ir((e.pass_height,(0,t.useState)("")),2),s=ir((o[0],o[1],(0,t.useState)(!1)),2),u=(s[0],s[1],av(),(0,t.useRef)(null)),c=ir((0,t.useState)(),2),l=(c[0],c[1],ir((0,t.useState)("Date"),2)),h=l[0],f=l[1],d=ir((0,t.useState)("Post goes here"),2),p=(d[0],d[1]),v=ir((0,t.useState)(),2),m=(v[0],v[1]),g=ir((0,t.useState)(),2),y=(g[0],g[1]),b=ir((0,t.useState)(),2),k=(b[0],b[1]),w=ir((0,t.useState)({user_firstname:n}),2),_=w[0],x=w[1],E=ir((0,t.useState)({user_lastname:r}),2),S=E[0],I=E[1],C=ir((0,t.useState)({user_profile_image:i}),2),T=(C[0],C[1]),N=ir((0,t.useState)({user_id:a}),2),P=N[0],R=N[1],A=ir((0,t.useState)({postsDictionary:{}}),2),O=A[0],D=A[1],L=ir((0,t.useState)({postsFromFirebase:[]}),2),M=L[0],F=(L[1],ir((0,t.useState)(),2)),j=(F[0],F[1],(0,cX.v4)()),U=(0,t.useRef)(window.innerWidth),q=(0,t.useRef)(window.innerHeight),z=((0,t.useRef)(),(0,t.useRef)("ui grid"),(0,t.useRef)("row"),(0,t.useRef)("5%")),V=ir((0,t.useState)(),2),B=V[0],W=V[1],H=(0,t.useRef)("ui center aligned icon header"),G=(0,t.useRef)("sticky note outline"),K=ir((0,t.useState)("800px"),2),Q=K[0],Y=(K[1],ir((0,t.useState)(),2)),X=Y[0],J=Y[1],$=ir((0,t.useState)(),2),Z=$[0],ee=$[1],te=(0,t.useRef)("80%"),ne=ir((0,t.useState)(),2),re=ne[0],ie=ne[1],ae=ir((0,t.useState)(),2),oe=ae[0],se=ae[1],ue=ir((0,t.useState)("big"),2),ce=(ue[0],ue[1],ir((0,t.useState)("15px"),2)),le=(ce[0],ce[1],ir((0,t.useState)(),2)),he=le[0],fe=le[1],de=ir((0,t.useState)(),2),pe=de[0],ve=de[1],me=ir((0,t.useState)(),2),ge=(me[0],me[1],ir((0,t.useState)(),2)),ye=(ge[0],ge[1]),be=((0,t.useRef)("palegreen"),(0,t.useRef)("black"),ir((0,t.useState)(),2)),ke=(be[0],be[1],ir((0,t.useState)(),2)),we=(ke[0],ke[1],ir((0,t.useState)(),2)),_e=(we[0],we[1],ir((0,t.useState)(),2)),xe=(_e[0],_e[1],ir((0,t.useState)(),2)),Ee=(xe[0],xe[1],ir((0,t.useState)(),2)),Se=(Ee[0],Ee[1],ir((0,t.useState)(!1),2)),Ie=(Se[0],Se[1],ir((0,t.useState)(!1),2)),Ce=(Ie[0],Ie[1],ir((0,t.useState)(!1),2)),Te=(Ce[0],Ce[1],ir((0,t.useState)(!1),2)),Ne=(Te[0],Te[1],ir((0,t.useState)(!1),2)),Pe=(Ne[0],Ne[1],ir((0,t.useState)(!1),2)),Re=(Pe[0],Pe[1],ir((0,t.useState)(),2)),Ae=Re[0],Oe=Re[1],De=ir((0,t.useState)(),2),Le=De[0],Me=De[1],Fe=ir((0,t.useState)(),2),je=Fe[0],Ue=Fe[1],qe=ir((0,t.useState)(),2),ze=(qe[0],qe[1],ir((0,t.useState)(),2)),Ve=(ze[0],ze[1],(0,t.useRef)("#1E90FF"),(0,t.useRef)("#FFFAFA")),Be=((0,t.useRef)("#F0EFE7"),ir((0,t.useState)(),2)),We=(Be[0],Be[1],ir((0,t.useState)(),2)),He=(We[0],We[1],ir((0,t.useState)(),2));He[0],He[1],(0,t.useEffect)((function(){var e=U.current,t=q.current;console.log("In notes"),console.log("w: "+e+" h: "+t),e<t+50?(ve("inline"),fe("none"),J(1),ee(6),ie(10),se("large"),Oe("90%"),Me("100%"),Ue("20px"),W("400px")):(ve("none"),fe("inline"),se("huge"),J(2),ee(6),ie(10),ye("2.4%"),ye("3.3%"),Oe("90%"),Me("100%"),Ue("20px"),W("500px")),ZF.collection("posts").get().then((function(e){e.forEach((function(e){O[e.id]=e.data()})),console.log("In notes2"),D(O),Object.keys(O).forEach(function(){var e=ki(mi().mark((function e(t,n){var r,i,a,o,s,u,c,l,h,d;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0!==n&&(r=O[t].time,i=O[t].post,a=O[t].post_id,o=O[t].likes,s=O[t].favorites,u=O[t].firstname,c=O[t].lastname,l=O[t].profile_image,h=O[t].user_id,M.postsFromFirebase.push({time:r,post:i,post_id:a,likes:o,favorites:s,firstname:"current_user_firstname",lastname:"current_user_lastname",profile_image_uri:"current_user_profile_image"}),f(r),p(i),k(a),m(o),y(s),x(u),I(c),T(l),R(h),d=ZF.collection("posts"),"",function(){var e=ki(mi().mark((function e(){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.count().get();case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())})).catch((function(e){}))}),[M]);var Ge=function(e){e.preventDefault(),console.log("clicked the send button");var t=u.current.value,a=(new Date).toLocaleDateString("en-us",{weekday:"short",year:"numeric",month:"short",day:"numeric"}),o=j.slice(0,8);ZF.collection("posts").doc(o).set({post:t,time:a,likes:0,favorites:0,post_id:o,firstname:n,lastname:r,profile_image:i,user_id:P}),p(t),f(a),k(o),y(0),m(0),x(_),I(S),R(P),console.log("p"+JSON.stringify(M)),M.postsFromFirebase.push({time:a,post:t,post_id:o,likes:0,favorites:0,firstname:_,lastname:S,user_id:P})},Ke=function(e){e.preventDefault(),console.log("post: "+u.current.value)};window.addEventListener("load",(function(){Qe()}));var Qe=function(){ZF.collection("posts").get().then((function(e){e.forEach((function(e){var t=e.data();console.log(e.id,"=>",t.post)}))})).catch((function(e){console.log("In FetchData: Error getting documents: ",e)}))};return(0,sp.jsxs)(vm,{columns:X,reversed:"mobile",stackable:!0,children:[(0,sp.jsx)("link",{rel:"stylesheet",href:"/home/emmanuel/Desktop/ReactJSProjects/Diary/frontend/src/styles/notebookComponent.css"}),(0,sp.jsxs)(vm.Row,{id:"outerRow",style:{paddingTop:z.current,height:B},stretched:!0,children:[(0,sp.jsxs)(vm.Column,{width:Z,children:[(0,sp.jsx)(Xn,{style:{height:te.current},children:(0,sp.jsxs)("div",{id:"notebook-element",children:[(0,sp.jsx)("h2",{className:"text-center mb-2",children:(0,sp.jsxs)("h3",{className:H.current,children:[(0,sp.jsx)("i",{className:G.current}),"Write what comes to mind!"]})}),(0,sp.jsx)(vm,{children:(0,sp.jsxs)(vm.Row,{columns:2,children:[(0,sp.jsxs)(vm.Column,{width:13,children:[" ",(0,sp.jsx)("textarea",{rows:"10",id:"input-element",className:"ui segment",type:"text",size:"big",ref:u,name:"message",style:{height:Ae,width:Le,borderTopLeftRadius:je,borderTopRightRadius:je,borderBottomLeftRadius:je,borderBottomRightRadius:je},onChange:Ke,placeholder:"Type anything..."})," "]}),(0,sp.jsx)(vm.Column,{width:3,style:{paddingLeft:"0px"},children:(0,sp.jsx)("div",{id:"mobile-button",children:(0,sp.jsxs)(ly,{className:"ui circular plus icon purple button",type:"submit",value:h,onClick:Ge,style:{color:Ve,width:"fit-content",height:"fit-content",marginLeft:"0%",marginTop:"100%",display:pe},"data-tooltip":"Press to send note to save on database.","data-position":"top center",children:[" ",(0,sp.jsx)("i",{className:oe+" plus icon"})]})})})]})})]})}),(0,sp.jsx)("div",{id:"desktop_button",children:(0,sp.jsx)(ly,{className:"ui circular plus icon red button",type:"submit",value:h,onClick:Ge,style:{color:"white",width:"fit-content",height:"fir-content",marginLeft:"0%",display:he},"data-tooltip":"Press to send note to save on database.","data-position":"top center",children:(0,sp.jsx)("i",{className:oe+" plus icon"})})})]}),(0,sp.jsx)(vm.Column,{width:re,style:{height:"100%",overflow:"scroll",maxHeight:Q},children:(0,sp.jsxs)(Xn,{style:{backgroundColor:"#F3FDFE"},children:[" ",M.postsFromFirebase.map((function(e){if(null!=e.post&&null!=e.time)return(0,sp.jsx)("div",{style:{marginTop:"15px"},children:(0,sp.jsx)(uX,{post:e.post,time:e.time,post_id:e.post_id,likes:e.likes,favorites:e.favorites,firstname:e.firstname,lastname:e.lastname,profile_image:e.profile_image})})}))]})})]})]})};function hX(e){var n=e.children,r=e.className,i=e.content,a=u("sub header",r),s=y(hX,e),c=b(hX,e);return t.createElement(c,o({},s,{className:a}),Wn(n)?i:n)}hX.handledProps=["as","children","className","content"],hX.propTypes={},hX.create=sm(hX,(function(e){return{content:e}}));var fX=hX;function dX(e){var n=e.children,r=e.className,i=e.content,a=u("content",r),s=y(dX,e),c=b(dX,e);return t.createElement(c,o({},s,{className:a}),Wn(n)?i:n)}dX.handledProps=["as","children","className","content"],dX.propTypes={};var pX=dX;function vX(e){var n=e.attached,r=e.block,i=e.children,a=e.className,s=e.color,c=e.content,l=e.disabled,p=e.dividing,m=e.floated,g=e.icon,k=e.image,w=e.inverted,_=e.size,x=e.sub,E=e.subheader,S=e.textAlign,I=u("ui",s,_,h(r,"block"),h(l,"disabled"),h(p,"dividing"),f(m,"floated"),h(!0===g,"icon"),h(!0===k,"image"),h(w,"inverted"),h(x,"sub"),d(n,"attached"),v(S),"header",a),C=y(vX,e),T=b(vX,e);if(!Wn(i))return t.createElement(T,o({},C,{className:I}),i);var N=Dg.create(g,{autoGenerateKey:!1}),P=Bg.create(k,{autoGenerateKey:!1}),R=fX.create(E,{autoGenerateKey:!1});return N||P?t.createElement(T,o({},C,{className:I}),N||P,(c||R)&&t.createElement(pX,null,c,R)):t.createElement(T,o({},C,{className:I}),c,R)}vX.handledProps=["as","attached","block","children","className","color","content","disabled","dividing","floated","icon","image","inverted","size","sub","subheader","textAlign"],vX.propTypes={},vX.Content=pX,vX.Subheader=fX;var mX=vX;function gX(){return(gX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function yX(e,t){return(yX=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var bX={"Upload a image":"Suba una imagen","You must edit the image in order to resize it":"Debe editar la imagen para disminuir su tama\xf1o","too large":"muy grande","Open the editor panel":"Abra el panel de edici\xf3n","Download the image":"Descarge la imagen","Control Panel":"Panel de control",Remove:"Quitar",Quality:"Calidad","Max dimensions":"Dimensiones","aspect-ratio":"relaci\xf3n-aspecto","max-width(px)":"max. ancho","max-height(px)":"max. alto",Format:"Formato",Crop:"Recortar","width(px)":"ancho(px)","height(px)":"altura(px)",Save:"Guardar",Contrast:"Contraste",Blur:"Blur",Brightness:"Brillo",Grayscale:"Scala de gris",Saturate:"Saturaci\xf3n",Sepia:"Sepia",Rotate:"Rotar",Undo:"Deshacer"},kX={"Upload a image":"Upload a image","You must edit the image in order to resize it":"You must edit the image in order to resize it","too large":"too large","Open the editor panel":"Open the editor panel","Download the image":"Download the image","Control Panel":"Control Panel",Quality:"Quality","Max dimensions":"Max dimensions","aspect-ratio":"aspect-ratio","max-width(px)":"max-width(px)","max-height(px)":"max-height(px)",Format:"Format",Crop:"Crop","width(px)":"width(px)","height(px)":"height(px)",Remove:"Remove",Save:"Save",Contrast:"Contrast",Blur:"Blur",Brightness:"Brightness",Grayscale:"Grayscale",Saturate:"Saturate",Sepia:"Sepia",Rotate:"Rotate",Undo:"Undo"},wX={"Upload a image":"Charger une image","You must edit the image in order to resize it":"Vous devez \xe9diter l'image pour changer sa taille","too large":"Trop grande","Open the editor panel":"Ouvrir le panneau d'\xe9dition","Download the image":"T\xe9l\xe9charger l'image","Control Panel":"Panneau de commande",Remove:"Supprimer",Quality:"Qualit\xe9","Max dimensions":"Dimensions maximales","aspect-ratio":"rapport de forme","max-width(px)":"largeur max.","max-height(px)":"hauteur max",Format:"Format",Crop:"Recadrer","width(px)":"largeur(px)","height(px)":"hauteur(px)",Save:"Sauvez",Contrast:"Contraste",Blur:"Blur",Brightness:"Luminosit\xe9",Grayscale:"Grayscale",Saturate:"Saturer",Sepia:"Seiche",Undo:"Annuler"},_X={"Upload a image":"Bild hochladen","You must edit the image in order to resize it":"Sie m\xfcssen das Bild bearbeiten, um seine Gr\xf6\xdfe zu \xe4ndern","too large":"zu gro\xdf","Open the editor panel":"Editor-Fenster \xf6ffnen","Download the image":"Bild herunterladen","Control Panel":"Bedienfeld",Quality:"Qualit\xe4t","Max dimensions":"Maximale Gr\xf6\xdfe","aspect-ratio":"Seitenverh\xe4ltnis","max-width(px)":"Max. Breite(px)","max-height(px)":"Max. H\xf6he(px)",Format:"Format",Crop:"Zuschneiden","width(px)":"Breite(px)","height(px)":"H\xf6he(px)",Remove:"Entfernen",Save:"Speichern",Contrast:"Kontrast",Blur:"Blur",Brightness:"Helligkeit",Grayscale:"Graustufen",Saturer:"S\xe4ttigen",Sepia:"Tintenfisch",Undo:"Undo"},xX=function(e,t,n,r){return void 0===t&&(t=!1),new Promise((function(i,a){try{var o=document.createElement("img");o.src=e+"",o.crossOrigin="Anonymous";var s=n.quality/100,u=n.maintainAspectRatio;return o.onload=function(){var e,a=document.createElement("canvas"),c=a.getContext("2d"),l=o.width/o.height,h=n.maxWidth,f=n.maxHeight;null!=r&&r.getDimFromImage&&(h=o.width,f=o.height),u?(a.width=h,a.height=h/l,t&&(a.width=f*l,a.height=f)):(a.width=h,a.height=f),n.basicFilters&&(c.filter=(e=n.basicFilters,Object.keys(e).map((function(t){return["blur"].includes(t)?t+"("+e[t]+"px)":t+"("+e[t]+")"})).join(""))),c.drawImage(o,0,0,a.width,a.height);var d=a.toDataURL("image/"+n.format,s);i({dataUri:d,width:a.width,height:a.height})},Promise.resolve()}catch(e){return Promise.reject(e)}})).then((function(e){return n.maxHeight=e.height,n.maxWidth=e.width,{imageUri:e.dataUri,state:EX(n,e.dataUri)}}))},EX=function(e,t){return e.arrayCopiedImages.length<=25?e.arrayCopiedImages.push({lastImage:t,width:e.maxWidth,height:e.maxHeight,quality:e.quality,format:e.format,originImageSrc:e.originImageSrc,basicFilters:e.basicFilters}):e.arrayCopiedImages[e.arrayCopiedImages.length-1]={lastImage:t,width:e.maxWidth,height:e.maxHeight,quality:e.quality,format:e.format,originImageSrc:e.originImageSrc,basicFilters:e.basicFilters},JSON.parse(JSON.stringify(e))};function SX(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var IX=(0,t.memo)((function(e){var n=e.activeIndex,r=void 0===n?0:n,i=e.children,a=e.backgroundColor,o=void 0===a?"inherit":a,s=e.color,u=void 0===s?"#428CFF":s,c=e.indicatorStyle,l=void 0===c?"bottomLine":c,h=e.onTabChange,f=void 0===h?function(e){}:h,d=e.transitionMs,p=void 0===d?375:d,v=e.borderLine,m=void 0!==v&&v,g=e.fontColor,y=void 0===g?"inherit":g,b=e.lazy,k=void 0!==b&&b,w=(0,t.useState)([]),_=w[0],x=w[1],E=(0,t.useState)(r),S=E[0],I=E[1],C=(0,t.useRef)(null);(0,t.useEffect)((function(){var e=i instanceof Array?i:[i];!function(e){try{e.map((function(e){if(!e.props.name)throw new Error("Inside of TabContainer component only can be rendered TabItem component, and its need a name prop");return!0}))}catch(e){throw new Error("The TabContainer Component must has a TabItem as child component")}}(e);var t=e.map((function(e){return{label:e.props.name,icon:e.props.icon,disabled:e.props.disabled}}));if(r>t.length-1||r<0)throw new Error("Invalid range for activeIndex "+r);x(t)}),[i]),(0,t.useEffect)((function(){var e,t,n=i instanceof Array?i:[i];if(r>n.length-1||r<0)throw new Error("Invalid range for activeIndex "+r);I(null!==(e=n[r])&&void 0!==e&&null!==(t=e.props)&&void 0!==t&&t.disabled?0:r)}),[r]),(0,t.useEffect)((function(){_&&_.length&&f(S)}),[S]);var T=i instanceof Array?i:[i];return t.createElement("div",{ref:C,className:"tab-pp"},t.createElement("div",{className:"header",style:{backgroundColor:o,borderBottom:m?"1px solid #323232":"undet"}},_.map((function(e,n){return t.createElement("button",{onClick:function(){e.disabled||I(n)},key:e.label,style:{color:n!=S||"simple"!==l&&"bottomLine"!==l?y:u,backgroundColor:n==S&&"button"===l?u:"inherit"},className:n==S?"itemlabel "+l+" active":"itemlabel",disabled:e.disabled},e.icon," ",e.label,"bottomLine"===l&&t.createElement("div",{style:{backgroundColor:u}}))}))),t.createElement("div",{className:"body"},T.map((function(e,n){return n<S?t.createElement("div",{style:{transform:"translate3d(-100%, 0px, 0px)",height:"0px",overflow:"hidden",transition:"transform "+p/1e3+"s ease"},key:n,className:"body-content"},!k&&e):n>S?t.createElement("div",{style:{transform:"translate3d(100%, 0px, 0px)",height:"0px",overflow:"hidden",transition:"transform "+p/1e3+"s ease"},key:n,className:"body-content"},!k&&e):t.createElement("div",{style:{visibility:"inherit",overflow:"auto",height:"auto",position:"relative",transition:"transform "+p/1e3+"s ease"},key:n,className:"body-content"},e)}))))})),CX=(0,t.memo)((function(e){return t.createElement("div",{style:{padding:"1rem 0.5rem"}},e.children)})),TX=["onInputChangedEnd","onChangedDelayed","onChangedValue","delayMs"],NX=(0,t.memo)((function(e){var n=e.onInputChangedEnd,r=e.onChangedDelayed,i=e.onChangedValue,a=e.delayMs,o=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}(e,TX),s=(0,t.useState)(e.value),u=s[0],c=s[1],l=(0,t.useRef)(),h=(0,t.useRef)(!0);function f(t){["checkbox","radio"].includes(e.type)?(c(t.target.checked),i&&i(t.target.checked)):(c(t.target.value),i&&i(t.target.value))}return(0,t.useRef)(!1),(0,t.useEffect)((function(){if(r){if(!h.current)return clearTimeout(l.current),l.current=setTimeout((function(){clearTimeout(l.current),r(u)}),a||100),function(){clearTimeout(l.current)};h.current=!1}}),[u]),t.createElement(t.Fragment,null,n&&t.createElement("input",Object.assign({},o,{className:null==o?void 0:o.className,style:o.style,value:e.value,onChange:f,onBlur:function(e){n(e.target.value)},onKeyDown:function(e){"Enter"==e.key&&n(u)}})),!n&&t.createElement("input",Object.assign({},o,{className:null==o?void 0:o.className,style:o.style,value:e.value,onChange:f})))})),PX={contrast:1,blur:0,brightness:1,grayscale:0,invert:0,saturate:1,sepia:0},RX=(0,t.memo)((function(e){var n=e.labels,r=e.color,i=e.initialState,a=void 0===i?PX:i,o=e.changeFilter,s=void 0===o?function(){}:o,u=(0,t.useState)(a),c=u[0],l=u[1];return(0,t.useEffect)((function(){l(a?JSON.parse(JSON.stringify(gX({},c,a))):PX)}),[a]),t.createElement("div",null,t.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"space-between"}},t.createElement("p",{className:"item-panel"},n.Contrast),t.createElement("p",{className:"item-panel"},(+c.contrast).toFixed(2))),t.createElement("div",{className:"flex-row-start"},t.createElement(NX,{className:"input-range",onChangedDelayed:function(e){s(gX({},c,{contrast:e}))},delayMs:100,onChangedValue:function(e){l(gX({},c,{contrast:e}))},style:{maxWidth:"100%",width:"100%",color:r},type:"range",min:"0",max:"5",step:"0.01",value:c.contrast})),t.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"space-between"}},t.createElement("p",{className:"item-panel"},n.Brightness),t.createElement("p",{className:"item-panel"},(+c.brightness).toFixed(2))),t.createElement("div",{className:"flex-row-start"},t.createElement(NX,{className:"input-range",onChangedDelayed:function(e){s(gX({},c,{brightness:e}))},onChangedValue:function(e){l(gX({},c,{brightness:e}))},style:{maxWidth:"100%",width:"100%",color:r},type:"range",min:"0",max:"5",step:"0.01",value:c.brightness})),t.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"space-between"}},t.createElement("p",{className:"item-panel"},n.Grayscale),t.createElement("p",{className:"item-panel"},(+c.grayscale).toFixed(2))),t.createElement("div",{className:"flex-row-start"},t.createElement(NX,{className:"input-range",onChangedDelayed:function(e){s(gX({},c,{grayscale:e}))},onChangedValue:function(e){l(gX({},c,{grayscale:e}))},style:{maxWidth:"100%",width:"100%",color:r},type:"range",min:"0",max:"5",step:"0.01",value:c.grayscale})),t.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"space-between"}},t.createElement("p",{className:"item-panel"},n.Saturate),t.createElement("p",{className:"item-panel"},(+c.saturate).toFixed(2))),t.createElement("div",{className:"flex-row-start"},t.createElement(NX,{className:"input-range",onChangedDelayed:function(e){s(gX({},c,{saturate:e}))},onChangedValue:function(e){l(gX({},c,{saturate:e}))},style:{maxWidth:"100%",width:"100%",color:r},type:"range",min:"0",max:"5",step:"0.01",value:c.saturate})),t.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"space-between"}},t.createElement("p",{className:"item-panel"},n.Sepia),t.createElement("p",{className:"item-panel"},(+c.sepia).toFixed(2))),t.createElement("div",{className:"flex-row-start"},t.createElement(NX,{className:"input-range",onChangedDelayed:function(e){s(gX({},c,{sepia:e}))},onChangedValue:function(e){l(gX({},c,{sepia:e}))},style:{maxWidth:"100%",width:"100%",color:r},type:"range",min:"0",max:"5",step:"0.01",value:c.sepia})),t.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"space-between"}},t.createElement("p",{className:"item-panel"},n.Blur),t.createElement("p",{className:"item-panel"},(+c.blur).toFixed(2))),t.createElement("div",{className:"flex-row-start"},t.createElement(NX,{className:"input-range",onChangedDelayed:function(e){s(gX({},c,{blur:e}))},onChangedValue:function(e){l(gX({},c,{blur:e}))},style:{maxWidth:"100%",width:"100%",color:r},type:"range",min:"0",max:"5",step:"0.01",value:c.blur})))}));!function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;n++)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var r=(new Date).getTime(),i=Math.max(0,16-(r-e)),a=window.setTimeout((function(){t(r+i)}),i);return e=r+i,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),function(){if("function"==typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}(),function(e){try{return new CustomEvent("test"),!1}catch(e){}function t(t,n){n=n||{bubbles:!1,cancelable:!1};var r=document.createEvent("MouseEvent");return r.initMouseEvent(t,n.bubbles,n.cancelable,e,0,0,0,0,0,!1,!1,!1,!1,0,null),r}t.prototype=Event.prototype,e.MouseEvent=t}(window);var AX=function(e,t,n,r){var i=this;function a(e){e.stopPropagation(),document.removeEventListener("mouseup",a),document.removeEventListener("mousemove",o),i.eventBus.dispatchEvent(new CustomEvent("handleend",{detail:{handle:i}}))}function o(e){e.stopPropagation(),i.eventBus.dispatchEvent(new CustomEvent("handlemove",{detail:{mouseX:e.clientX,mouseY:e.clientY}}))}this.position=e,this.constraints=t,this.cursor=n,this.eventBus=r,this.el=document.createElement("div"),this.el.className="croppr-handle",this.el.style.cursor=n,this.el.addEventListener("mousedown",(function(e){e.stopPropagation(),document.addEventListener("mouseup",a),document.addEventListener("mousemove",o),i.eventBus.dispatchEvent(new CustomEvent("handlestart",{detail:{handle:i}}))}))},OX=function(){function e(e,t,n,r){this.x1=e,this.y1=t,this.x2=n,this.y2=r}var t=e.prototype;return t.set=function(e,t,n,r){return void 0===e&&(e=null),void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null),this.x1=null==e?this.x1:e,this.y1=null==t?this.y1:t,this.x2=null==n?this.x2:n,this.y2=null==r?this.y2:r,this},t.width=function(){return Math.abs(this.x2-this.x1)},t.height=function(){return Math.abs(this.y2-this.y1)},t.resize=function(e,t,n){void 0===n&&(n=[0,0]);var r=this.x1+this.width()*n[0],i=this.y1+this.height()*n[1];return this.x1=r-e*n[0],this.y1=i-t*n[1],this.x2=this.x1+e,this.y2=this.y1+t,this},t.scale=function(e,t){void 0===t&&(t=[0,0]);var n=this.width()*e,r=this.height()*e;return this.resize(n,r,t),this},t.move=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null);var n=this.width(),r=this.height();return t=null===t?this.y1:t,this.x1=e=null===e?this.x1:e,this.y1=t,this.x2=e+n,this.y2=t+r,this},t.getRelativePoint=function(e){return void 0===e&&(e=[0,0]),[this.width()*e[0],this.height()*e[1]]},t.getAbsolutePoint=function(e){return void 0===e&&(e=[0,0]),[this.x1+this.width()*e[0],this.y1+this.height()*e[1]]},t.constrainToRatio=function(e,t,n){if(void 0===t&&(t=[0,0]),void 0===n&&(n="height"),null!==e){switch(this.width(),this.height(),n){case"height":default:this.resize(this.width(),this.width()*e,t);break;case"width":this.resize(1*this.height()/e,this.height(),t)}return this}},t.constrainToBoundary=function(e,t,n){void 0===n&&(n=[0,0]);var r=this.getAbsolutePoint(n),i=r[0],a=r[1],o=i,s=a,u=e-i,c=t-a,l=-2*n[1]+1,h=null,f=null;switch(-2*n[0]+1){case-1:h=o;break;case 0:h=2*Math.min(o,u);break;case 1:h=u}switch(l){case-1:f=s;break;case 0:f=2*Math.min(s,c);break;case 1:f=c}if(this.width()>h){var d=h/this.width();this.scale(d,n)}if(this.height()>f){var p=f/this.height();this.scale(p,n)}return this},t.constrainToSize=function(e,t,n,r,i,a){if(void 0===e&&(e=null),void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null),void 0===i&&(i=[0,0]),void 0===a&&(a=null),a&&(a>1?(e=1*t/a,r*=a):a<1&&(t=e*a,n=1*r/a)),e&&this.width()>e){var o=e,s=null===a?this.height():t;this.resize(o,s,i)}if(t&&this.height()>t){var u=null===a?this.width():e;this.resize(u,t,i)}if(n&&this.width()<n){var c=n,l=null===a?this.height():r;this.resize(c,l,i)}if(r&&this.height()<r){var h=null===a?this.width():n;this.resize(h,r,i)}return this},e}();function DX(e){e.preventDefault();var t=e.changedTouches[0];t.target.dispatchEvent(new MouseEvent({touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"}[e.type],{bubbles:!0,cancelable:!0,view:window,clientX:t.clientX,clientY:t.clientY,screenX:t.screenX,screenY:t.screenY}))}var LX=[{position:[0,0],constraints:[1,0,0,1],cursor:"nw-resize"},{position:[.5,0],constraints:[1,0,0,0],cursor:"n-resize"},{position:[1,0],constraints:[1,1,0,0],cursor:"ne-resize"},{position:[1,.5],constraints:[0,1,0,0],cursor:"e-resize"},{position:[1,1],constraints:[0,1,1,0],cursor:"se-resize"},{position:[.5,1],constraints:[0,0,1,0],cursor:"s-resize"},{position:[0,1],constraints:[0,0,1,1],cursor:"sw-resize"},{position:[0,.5],constraints:[0,0,0,1],cursor:"w-resize"}];function MX(e,t){return Number(Math.round(e+"e"+t)+"e-"+t)}var FX=function(e){var t,n;function r(t,n,r){return void 0===r&&(r=!1),e.call(this,t,n,r)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,yX(t,n);var i=r.prototype;return i.getValue=function(t){return e.prototype.getValue.call(this,t)},i.setImage=function(t){return e.prototype.setImage.call(this,t)},i.destroy=function(){return e.prototype.destroy.call(this)},i.moveTo=function(e,t){return this.box.move(e,t),this.redraw(),null!==this.options.onCropEnd&&this.options.onCropEnd(this.getValue()),this},i.resizeTo=function(e,t,n){return void 0===n&&(n=[.5,.5]),this.box.resize(e,t,n),this.box.constrainToBoundary(this.cropperEl.offsetWidth,this.cropperEl.offsetHeight,[.5,.5]),this.redraw(),null!==this.options.onCropEnd&&this.options.onCropEnd(this.getValue()),this},i.scaleBy=function(e,t){return void 0===t&&(t=[.5,.5]),this.box.scale(e,t),this.redraw(),null!==this.options.onCropEnd&&this.options.onCropEnd(this.getValue()),this},i.reset=function(e){return e&&(this.options=gX({},this.options,{newOptions:e})),this.box=this.initializeBox(this.options),this.redraw(),null!==this.options.onCropEnd&&this.options.onCropEnd(this.getValue()),this},i.enableVisibility=function(e){var t=document.querySelector(".croppr-container");if(!t)throw new Error("THere is not any croppr");t.style.display=e?"block":"none"},r}(function(){function e(t,n,r){var i=this;if(void 0===r&&(r=!1),this.options=e.parseOptions(n||{}),!t.nodeName&&null==(t=document.querySelector(t)))throw"Unable to find element.";if(!t.getAttribute("src"))throw"Image src not provided.";this._initialized=!1,this._restore={parent:t.parentNode,element:t},r||(0===t.width||0===t.height?t.onload=function(){i.initialize(t)}:this.initialize(t))}var t=e.prototype;return t.initialize=function(e){this.createDOM(e),this.options.convertToPixels(this.cropperEl),this.attachHandlerEvents(),this.attachRegionEvents(),this.attachOverlayEvents(),this.box=this.initializeBox(this.options),this.redraw(),this._initialized=!0,null!==this.options.onInitialize&&this.options.onInitialize(this)},t.createDOM=function(e){var t;this.containerEl=document.createElement("div"),this.containerEl.className="croppr-container",this.eventBus=this.containerEl,(t=this.containerEl).addEventListener("touchstart",DX),t.addEventListener("touchend",DX),t.addEventListener("touchmove",DX),this.cropperEl=document.createElement("div"),this.cropperEl.className="croppr",this.imageEl=document.createElement("img"),this.imageEl.setAttribute("src",e.getAttribute("src")),this.imageEl.setAttribute("alt",e.getAttribute("alt")),this.imageEl.className="croppr-image",this.imageClippedEl=this.imageEl.cloneNode(),this.imageClippedEl.className="croppr-imageClipped",this.regionEl=document.createElement("div"),this.regionEl.innerHTML=new Array(9).fill(1).map((function(){return'<div style="border: 1px dashed #fafafa"></div>'})).join(""),this.regionEl.className="croppr-region",this.overlayEl=document.createElement("div"),this.overlayEl.className="croppr-overlay";var n=document.createElement("div");n.className="croppr-handleContainer",this.handles=[];for(var r=0;r<LX.length;r++){var i=new AX(LX[r].position,LX[r].constraints,LX[r].cursor,this.eventBus);this.handles.push(i),n.appendChild(i.el)}this.cropperEl.appendChild(this.imageEl),this.cropperEl.appendChild(this.imageClippedEl),this.cropperEl.appendChild(this.regionEl),this.cropperEl.appendChild(this.overlayEl),this.cropperEl.appendChild(n),this.containerEl.appendChild(this.cropperEl),e.parentElement.replaceChild(this.containerEl,e)},t.setImage=function(e){var t=this;return this.imageEl.onload=function(){t.box=t.initializeBox(t.options),t.redraw()},this.imageEl.src=e,this.imageClippedEl.src=e,this},t.destroy=function(){this._restore.parent.replaceChild(this._restore.element,this.containerEl)},t.initializeBox=function(e){var t=new OX(0,0,e.startSize.width,e.startSize.height);t.constrainToRatio(e.aspectRatio,[.5,.5]);var n=e.minSize,r=e.maxSize;t.constrainToSize(r.width,r.height,n.width,n.height,[.5,.5],e.aspectRatio),t.constrainToBoundary(this.cropperEl.offsetWidth,this.cropperEl.offsetHeight,[.5,.5]);var i=this.cropperEl.offsetWidth/2-t.width()/2,a=this.cropperEl.offsetHeight/2-t.height()/2;return t.move(i,a),t},t.redraw=function(){var e=this,t=Math.round(this.box.width()),n=Math.round(this.box.height()),r=Math.round(this.box.x1),i=Math.round(this.box.y1),a=Math.round(this.box.x2),o=Math.round(this.box.y2);window.requestAnimationFrame((function(){e.regionEl.style.transform="translate("+r+"px, "+i+"px)",e.regionEl.style.width=t+"px",e.regionEl.style.height=n+"px",e.imageClippedEl.style.clip="rect("+i+"px, "+a+"px, "+o+"px, "+r+"px)";for(var s=e.box.getAbsolutePoint([.5,.5]),u=s[1]-e.cropperEl.offsetHeight/2>>31,c=-2*((s[0]-e.cropperEl.offsetWidth/2>>31^u)+u+u+4)+8,l=0;l<e.handles.length;l++){var h=e.handles[l],f=i+n*h.position[1]-h.el.offsetHeight/2;h.el.style.transform="translate("+Math.round(r+t*h.position[0]-h.el.offsetWidth/2)+"px, "+Math.round(f)+"px)",h.el.style.zIndex=c==l?5:4}}))},t.attachHandlerEvents=function(){var e=this.eventBus;e.addEventListener("handlestart",this.onHandleMoveStart.bind(this)),e.addEventListener("handlemove",this.onHandleMoveMoving.bind(this)),e.addEventListener("handleend",this.onHandleMoveEnd.bind(this))},t.attachRegionEvents=function(){var e=this.eventBus;function t(t){t.stopPropagation(),e.dispatchEvent(new CustomEvent("regionmove",{detail:{mouseX:t.clientX,mouseY:t.clientY}}))}function n(r){r.stopPropagation(),document.removeEventListener("mouseup",n),document.removeEventListener("mousemove",t),e.dispatchEvent(new CustomEvent("regionend",{detail:{mouseX:r.clientX,mouseY:r.clientY}}))}this.regionEl.addEventListener("mousedown",(function(r){r.stopPropagation(),document.addEventListener("mouseup",n),document.addEventListener("mousemove",t),e.dispatchEvent(new CustomEvent("regionstart",{detail:{mouseX:r.clientX,mouseY:r.clientY}}))})),e.addEventListener("regionstart",this.onRegionMoveStart.bind(this)),e.addEventListener("regionmove",this.onRegionMoveMoving.bind(this)),e.addEventListener("regionend",this.onRegionMoveEnd.bind(this))},t.attachOverlayEvents=function(){var e=this,t=null;function n(t){t.stopPropagation(),e.eventBus.dispatchEvent(new CustomEvent("handlemove",{detail:{mouseX:t.clientX,mouseY:t.clientY}}))}function r(i){i.stopPropagation(),document.removeEventListener("mouseup",r),document.removeEventListener("mousemove",n),1!==e.box.width()||1!==e.box.height()?e.eventBus.dispatchEvent(new CustomEvent("handleend",{detail:{mouseX:i.clientX,mouseY:i.clientY}})):e.box=t}this.overlayEl.addEventListener("mousedown",(function(i){i.stopPropagation(),document.addEventListener("mouseup",r),document.addEventListener("mousemove",n);var a=e.cropperEl.getBoundingClientRect(),o=i.clientX-a.left,s=i.clientY-a.top;t=e.box,e.box=new OX(o,s,o+1,s+1),e.eventBus.dispatchEvent(new CustomEvent("handlestart",{detail:{handle:e.handles[4]}}))}))},t.onHandleMoveStart=function(e){var t=e.detail.handle,n=[1-t.position[0],1-t.position[1]],r=this.box.getAbsolutePoint(n);this.activeHandle={handle:t,originPoint:n,originX:r[0],originY:r[1]},null!==this.options.onCropStart&&this.options.onCropStart(this.getValue())},t.onHandleMoveMoving=function(e){var t=e.detail,n=t.mouseX,r=t.mouseY,i=this.cropperEl.getBoundingClientRect();(n-=i.left)<0?n=0:n>i.width&&(n=i.width),(r-=i.top)<0?r=0:r>i.height&&(r=i.height);var a=this.activeHandle.originPoint.slice(),o=this.activeHandle.originX,s=this.activeHandle.originY,u=this.activeHandle.handle,c=1===u.constraints[0],l=1===u.constraints[1],h=1===u.constraints[2],f=1===u.constraints[3],d=(f||l)&&(c||h),p=f||l?o:this.box.x1,v=f||l?o:this.box.x2,m=c||h?s:this.box.y1,g=c||h?s:this.box.y2;p=f?n:p,v=l?n:v,m=c?r:m,g=h?r:g;var y=!1,b=!1;if((f||l)&&(y=f?n>o:n<o),(c||h)&&(b=c?r>s:r<s),y){var k=p;p=v,v=k,a[0]=1-a[0]}if(b){var w=m;m=g,g=w,a[1]=1-a[1]}var _=new OX(p,m,v,g);if(this.options.aspectRatio){var x=this.options.aspectRatio,E=!1;d?E=r>_.y1+x*_.width()||r<_.y2-x*_.width():(c||h)&&(E=!0),_.constrainToRatio(x,a,E?"width":"height")}var S=this.options.minSize,I=this.options.maxSize;_.constrainToSize(I.width,I.height,S.width,S.height,a,this.options.aspectRatio),_.constrainToBoundary(this.cropperEl.offsetWidth,this.cropperEl.offsetHeight,a),this.box=_,this.redraw(),null!==this.options.onCropMove&&this.options.onCropMove(this.getValue())},t.onHandleMoveEnd=function(e){null!==this.options.onCropEnd&&this.options.onCropEnd(this.getValue())},t.onRegionMoveStart=function(e){var t=e.detail,n=t.mouseX,r=t.mouseY,i=this.cropperEl.getBoundingClientRect();this.currentMove={offsetX:(n-=i.left)-this.box.x1,offsetY:(r-=i.top)-this.box.y1},null!==this.options.onCropStart&&this.options.onCropStart(this.getValue())},t.onRegionMoveMoving=function(e){var t=e.detail,n=t.mouseX,r=t.mouseY,i=this.currentMove,a=i.offsetX,o=i.offsetY,s=this.cropperEl.getBoundingClientRect();this.box.move((n-=s.left)-a,(r-=s.top)-o),this.box.x1<0&&this.box.move(0,null),this.box.x2>s.width&&this.box.move(s.width-this.box.width(),null),this.box.y1<0&&this.box.move(null,0),this.box.y2>s.height&&this.box.move(null,s.height-this.box.height()),this.redraw(),null!==this.options.onCropMove&&this.options.onCropMove(this.getValue())},t.onRegionMoveEnd=function(e){null!==this.options.onCropEnd&&this.options.onCropEnd(this.getValue())},t.getValue=function(e){if(void 0===e&&(e=null),null===e&&(e=this.options.returnMode),"real"==e){var t=this.imageEl.naturalWidth,n=this.imageEl.naturalHeight,r=this.imageEl.getBoundingClientRect(),i=t/r.width,a=n/r.height;return{x:Math.round(this.box.x1*i),y:Math.round(this.box.y1*a),width:Math.round(this.box.width()*i),height:Math.round(this.box.height()*a)}}if("ratio"==e){var o=this.imageEl.getBoundingClientRect(),s=o.width,u=o.height;return{x:MX(this.box.x1/s,3),y:MX(this.box.y1/u,3),width:MX(this.box.width()/s,3),height:MX(this.box.height()/u,3)}}if("raw"==e)return{x:Math.round(this.box.x1),y:Math.round(this.box.y1),width:Math.round(this.box.width()),height:Math.round(this.box.height())}},e.parseOptions=function(e){var t=null;void 0!==e.aspectRatio&&("number"==typeof e.aspectRatio?t=e.aspectRatio:e.aspectRatio instanceof Array&&(t=e.aspectRatio[1]/e.aspectRatio[0]));var n=null;null!=e.maxSize&&(n={width:e.maxSize[0]||null,height:e.maxSize[1]||null,unit:e.maxSize[2]||"px"});var r=null;null!=e.minSize&&(r={width:e.minSize[0]||null,height:e.minSize[1]||null,unit:e.minSize[2]||"px"});var i=null;null!=e.startSize&&(i={width:e.startSize[0]||null,height:e.startSize[1]||null,unit:e.startSize[2]||"%"});var a=null;"function"==typeof e.onInitialize&&(a=e.onInitialize);var o=null;"function"==typeof e.onCropStart&&(o=e.onCropStart);var s=null;"function"==typeof e.onCropEnd&&(s=e.onCropEnd);var u=null;"function"==typeof e.onUpdate&&(console.warn("Croppr.js: `onUpdate` is deprecated and will be removed in the next major release. Please use `onCropMove` or `onCropEnd` instead."),u=e.onUpdate),"function"==typeof e.onCropMove&&(u=e.onCropMove);var c=null;if(void 0!==e.returnMode){var l=e.returnMode.toLowerCase();if(-1===["real","ratio","raw"].indexOf(l))throw"Invalid return mode.";c=l}var h=function(e,t){return null!==e?e:t};return{aspectRatio:h(t,null),maxSize:h(n,{width:null,height:null}),minSize:h(r,{width:null,height:null}),startSize:h(i,{width:100,height:100,unit:"%"}),returnMode:h(c,"real"),onInitialize:h(a,null),onCropStart:h(o,null),onCropMove:h(u,null),onCropEnd:h(s,null),convertToPixels:function(e){for(var t=e.offsetWidth,n=e.offsetHeight,r=["maxSize","minSize","startSize"],i=0;i<r.length;i++){var a=r[i];null!==this[a]&&("%"==this[a].unit&&(null!==this[a].width&&(this[a].width=this[a].width/100*t),null!==this[a].height&&(this[a].height=this[a].height/100*n)),delete this[a].unit)}}}},e}()),jX=(0,t.memo)((function(e){var n=e.src,r=e.size,i=e.croppUpdate,a=(0,t.useState)(),o=a[0],s=a[1],u=(0,t.useState)({width:150,height:150}),c=u[0],l=u[1],h=(0,t.useRef)(null),f=(0,t.useRef)();return(0,t.useEffect)((function(){r&&(l(gX({},r)),h.current&&h.current.resizeTo(r.width,r.height))}),[r]),(0,t.useEffect)((function(){n&&s(n)}),[n]),(0,t.useEffect)((function(){return f.current&&o&&(h.current=new FX("#croppr",{minSize:[32,32,"px"],startSize:[c.width,c.height,"px"],onInitialize:function(e){i(null==e?void 0:e.getValue())},onCropEnd:function(e){i(e)}})),function(){var e;return null==h||null===(e=h.current)||void 0===e?void 0:e.destroy()}}),[f.current,o]),t.createElement("div",{className:"CropprWrapper"},t.createElement("img",{ref:f,src:o,id:"croppr"}))})),UX={quality:92,maxHeight:1e3,maxWidth:1e3,cropHeight:150,cropWidth:150,maintainAspectRatio:!0,format:"jpeg",arrayCopiedImages:[],originImageSrc:""},qX=(0,t.memo)((function(e){var n=function(e,t){void 0===t&&(t=!1);try{var n=Math.max(Math.min(e,4e3),32),i=gX({},v);if(t){if(i.maxHeight===n)return Promise.resolve();i.maxHeight=n}else{if(i.maxWidth===n)return Promise.resolve();i.maxWidth=n}m(i);var a=SX((function(){return Promise.resolve(r(i,t)).then((function(){}))}),(function(e){console.log("onChangeSize ~ error",e)}));return Promise.resolve(a&&a.then?a.then((function(){})):void 0)}catch(e){return Promise.reject(e)}},r=function(e,t){void 0===t&&(t=!1);try{var n=SX((function(){return Promise.resolve(xX(v.originImageSrc,t,e)).then((function(e){var t=e.state;b(e.imageUri),m(t)}))}),(function(e){console.log("\ud83d\ude80 ~ file: EditImage.tsx ~ line 73 ~ applyChanges ~ error",e)}));return Promise.resolve(n&&n.then?n.then((function(){})):void 0)}catch(e){return Promise.reject(e)}},i=e.labels,a=void 0===i?{}:i,o=e.image,s=void 0===o?"":o,u=e.color,c=void 0===u?"#1e88e5":u,l=e.initialState,h=void 0===l?UX:l,f=e.saveUpdates,d=void 0===f?function(){}:f,p=(0,t.useState)(h),v=p[0],m=p[1],g=(0,t.useState)(""),y=g[0],b=g[1],k=(0,t.useState)(!1),w=k[0],_=k[1],x=(0,t.useState)({width:150,height:150}),E=x[0],S=x[1],I=(0,t.useState)(),C=I[0],T=I[1],N=(0,t.useRef)(!1);function P(e,t){e&&(m(gX({},v,{cropWidth:e})),S(gX({},E,{width:e}))),t&&(m(gX({},v,{cropHeight:t})),S(gX({},E,{height:t})))}function R(e){void 0===e&&(e=!1),_(!1),d(e?{state:v,imageSrc:y}:null)}(0,t.useEffect)((function(){N.current=window.innerWidth<800,m(JSON.parse(JSON.stringify(gX({},v,h))))}),[h]),(0,t.useEffect)((function(){b(s)}),[s]),(0,t.useEffect)((function(){w||S({width:150,height:150})}),[w]);var A=(0,t.useMemo)((function(){return y&&y.length?Math.ceil(3/4*y.length/1024):""}),[y]);function O(e){return JSON.parse(JSON.stringify(e))}return t.createElement("div",{className:"EditImage"},t.createElement("div",{id:"popup",className:"popup"},t.createElement("div",{style:{flexDirection:"row",boxSizing:"border-box",display:"flex",placeContent:"center flex-end",alignItems:"center",padding:"0px 16px"}},t.createElement("button",{className:"icon-btn",onClick:function(){R(!1)}},t.createElement("span",{className:"material-icons"},"clear"))),t.createElement("div",{className:"image-container"},t.createElement("div",{className:"image-holder-full"},!w&&t.createElement("img",{id:"image-full",src:y}),w&&t.createElement(jX,{src:y,size:E,croppUpdate:function(e){T(e),m(gX({},v,{cropHeight:e.height,cropWidth:e.width}))}})),t.createElement("div",{className:"control-panel"},t.createElement(IX,{lazy:!0,borderLine:!0},t.createElement(CX,{name:"Basic"},(!N.current||N.current&&!w)&&t.createElement(t.Fragment,null,t.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"space-between"}},t.createElement("p",{className:"item-panel"},a.Quality),t.createElement("p",{className:"item-panel"},v.quality+"%")),t.createElement("div",{className:"flex-row-start"},t.createElement(NX,{readOnly:w,disabled:w,className:"input-range",onChangedDelayed:function(e){try{e=Math.max(Math.min(e,100),1);var t=gX({},v,{quality:e});m(t);var n=SX((function(){return Promise.resolve(r(t,!1)).then((function(){}))}),(function(e){console.log("onUpdateQuality ~ error",e)}));return Promise.resolve(n&&n.then?n.then((function(){})):void 0)}catch(e){return Promise.reject(e)}},onChangedValue:function(e){m(gX({},v,{quality:e}))},style:{maxWidth:"100%",width:"100%",color:c},type:"range",min:1,max:100,value:v.quality})),t.createElement("div",{className:"item-panel",style:{display:"flex",width:"100%",justifyContent:"space-between"}},a["Max dimensions"],t.createElement("div",{style:{display:"flex",alignItems:"center"}},t.createElement("input",{disabled:w,readOnly:w,type:"checkbox",checked:v.maintainAspectRatio,onChange:function(e){return m(gX({},v,{maintainAspectRatio:e.target.checked}))},style:{color:c}}),t.createElement("span",{className:"caption"},a["aspect-ratio"]))),t.createElement("div",{className:"flex-row-start",style:{marginTop:"10px",justifyContent:"space-between"}},t.createElement("div",{className:"form-field",style:{maxWidth:"48%",width:"48%"}},t.createElement("label",null,a["max-width(px)"]),t.createElement(NX,{readOnly:w,disabled:w,placeholder:a["max-width(px)"],value:v.maxWidth,onChangedValue:function(e){return m(gX({},v,{maxWidth:e}))},type:"number",min:0,max:2e3,onInputChangedEnd:function(e){n(e,!1)}})),t.createElement("div",{className:"form-field",style:{maxWidth:"48%",width:"48%"}},t.createElement("label",null,a["max-height(px)"]),t.createElement(NX,{readOnly:w,disabled:w,placeholder:a["max-height(px)"],value:v.maxHeight,onChangedValue:function(e){return m(gX({},v,{maxHeight:e}))},type:"number",min:0,max:2e3,onInputChangedEnd:function(e){n(e,!0)}}))),t.createElement("p",{className:"item-panel"},a.Format),t.createElement("div",{className:"flex-row-start",style:{marginTop:"10px",justifyContent:"space-between"}},t.createElement("div",{className:"form-field",style:{width:"100%"}},t.createElement("select",{disabled:w,value:v.format,onChange:function(e){try{var t=gX({},v,{format:e.target.value}),n=SX((function(){return m(t),Promise.resolve(r(t,!1)).then((function(){}))}),(function(e){console.log("onChangeFormat ~ error",e)}));return Promise.resolve(n&&n.then?n.then((function(){})):void 0)}catch(e){return Promise.reject(e)}}},["webp","jpeg","png"].map((function(e,n){return t.createElement("option",{key:n,value:e},e)})))))),t.createElement("div",{className:"flex-row-start",style:{marginTop:"5px",justifyContent:"space-between"}},t.createElement("span",{style:{display:"flex",alignItems:"center"}},t.createElement("input",{type:"checkbox",onChange:function(e){_(e.target.checked)},checked:w,style:{color:c,marginBottom:"3px"}}),t.createElement("span",{className:"item-panel",style:{marginLeft:"4px"}},a.Crop))),w&&t.createElement(t.Fragment,null,t.createElement("div",{className:"flex-row-start",style:{marginTop:"10px",justifyContent:"space-between"}},t.createElement("div",{className:"form-field",style:{maxWidth:"48%",width:"48%"}},t.createElement("label",null,a["width(px)"]),t.createElement(NX,{type:"number",min:0,value:v.cropWidth,onChangedValue:function(e){return m(gX({},v,{cropWidth:e}))},onInputChangedEnd:function(e){P(+e,null)},placeholder:a["width(px)"]})),t.createElement("div",{className:"form-field",style:{maxWidth:"48%",width:"48%"}},t.createElement("label",null,a["height(px)"]),t.createElement(NX,{type:"number",min:0,value:v.cropHeight,onInputChangedEnd:function(e){P(null,+e)},onChangedValue:function(e){return m(gX({},v,{cropHeight:e}))},placeholder:a["height(px)"]}))),t.createElement("p",{style:{marginBottom:"4px !important"}},t.createElement("button",{title:"Cut the image",className:"icon-btn",onClick:function(){var e=O(v),t=document.createElement("canvas");return new Promise((function(n,r){var i=t.getContext("2d"),a=new Image;a.src=y,a.onload=function(){var r=null==C?void 0:C.width;return t.height=null==C?void 0:C.height,t.width=r,i.drawImage(a,Math.abs(null==C?void 0:C.x),Math.abs(null==C?void 0:C.y),null==C?void 0:C.width,null==C?void 0:C.height,0,0,null==C?void 0:C.width,null==C?void 0:C.height),n(t.toDataURL("image/"+e.format,e.quality))},a.onerror=function(e){r(e)}})).then((function(n){e.maxWidth=t.width,e.maxHeight=t.height,e.originImageSrc=n,e=EX(e,n),m(e),b(n),_(!1)})).catch((function(e){console.log(e)}))}},t.createElement("span",{className:"material-icons"}," crop "))))),t.createElement(CX,{disabled:w,name:"Filters"},t.createElement(RX,{color:c,labels:a,initialState:v.basicFilters,changeFilter:function(e){try{var t=SX((function(){var t=O(v);return t.basicFilters=t.basicFilters?gX({},t.basicFilters,e):e,Promise.resolve(r(t,!1)).then((function(){}))}),(function(e){console.log("\ud83d\ude80 ~ file: EditImage.tsx ~ line 259 ~ onChangeFilters ~ e",e)}));return Promise.resolve(t&&t.then?t.then((function(){})):void 0)}catch(e){return Promise.reject(e)}}}))),t.createElement("button",{title:a.Undo,disabled:v.arrayCopiedImages.length<=1,style:{position:"absolute",right:"10px",top:"30px"},className:"icon-btn",onClick:function(){try{try{var e=O(v);if(e.arrayCopiedImages.length>1){e.arrayCopiedImages.pop();var t=e.arrayCopiedImages[e.arrayCopiedImages.length-1];e=gX({},v,{arrayCopiedImages:e.arrayCopiedImages,maxHeight:t.height,maxWidth:t.width,quality:t.quality,format:t.format,originImageSrc:t.originImageSrc,basicFilters:t.basicFilters}),m(e),b(t.lastImage)}}catch(e){console.log("\ud83d\ude80 ~ file: edit-image.component.ts ~ line 126 ~ EditImageComponent ~ onRestore ~ e",e)}return Promise.resolve()}catch(e){return Promise.reject(e)}}},t.createElement("span",{className:"material-icons"}," refresh ")),t.createElement("div",{className:"flex-row-start",style:{marginTop:"10px",justifyContent:"space-between",alignItems:"center"}},t.createElement("button",{className:"save-btn",onClick:function(){R(!0)}},a.Save),A&&t.createElement("p",{className:"caption image-caption",style:{color:A>120?"#f44336":"unset",fontWeight:A>120?"500":"unset"}},"size: ",A,"Kb \xa0 ",v.format))))))})),zX={language:"en",objectFit:"cover",hideDeleteBtn:!1,hideDownloadBtn:!1,hideEditBtn:!1,hideAddBtn:!1,compressInitial:null},VX={maxHeight:3e3,maxWidth:3e3,cropHeight:150,cropWidth:150,maintainAspectRatio:!0,format:"jpeg",arrayCopiedImages:[],originImageSrc:"",basicFilters:void 0,quality:100};(0,t.memo)((function(e){var n=function(e){try{var t=btoa(e.target.result),n=gX({},f),r=R.current+t;n.originImageSrc=R.current+t;var i=function(){if(C.compressInitial)return n=gX({},n,{quality:Math.min(C.compressInitial||92,100),maintainAspectRatio:!0,format:"jpeg"}),Promise.resolve(xX(n.originImageSrc,!1,n,{getDimFromImage:!0})).then((function(e){d(e.state),m(e.imageUri),b(!0)}));var e=document.createElement("img");e.src=r,e.onload=function(){n.arrayCopiedImages=[],n.maxHeight=e.height,n.maxWidth=e.width,n.format=P.current.split("image/")[1],n.arrayCopiedImages.push({lastImage:r,width:e.width,height:e.height,quality:n.quality,format:P.current.split("image/")[1],originImageSrc:n.originImageSrc}),d(n),m(r),b(!0)}}();return Promise.resolve(i&&i.then?i.then((function(){})):void 0)}catch(e){return Promise.reject(e)}},r=e.config,i=void 0===r?{}:r,a=e.imageSrcProp,o=void 0===a?"":a,s=e.color,u=void 0===s?"#1e88e5":s,c=e.imageChanged,l=void 0===c?function(){}:c,h=(0,t.useState)(gX({},VX)),f=h[0],d=h[1],p=(0,t.useState)(""),v=p[0],m=p[1],g=(0,t.useState)(!1),y=g[0],b=g[1],k=(0,t.useState)(!1),w=k[0],_=k[1],x=(0,t.useState)(kX),E=x[0],S=x[1],I=(0,t.useState)(zX),C=I[0],T=I[1],N=(0,t.useRef)(null),P=(0,t.useRef)(""),R=(0,t.useRef)(""),A=Date.now().toString(20),O=(0,t.useRef)("download");function D(e){var t;e.preventDefault(),null==N||null===(t=N.current)||void 0===t||t.click()}function L(e){var t,r=null===(t=e.target)||void 0===t?void 0:t.files;if(r){var i=r[0];if(O.current=i.name.split(".")[0],P.current=i.type,!P.current.includes("image"))return;if(R.current="data:"+i.type+";base64,",i){d(gX({},f,{format:P.current.split("image/")[1]}));var a=new FileReader;a.onload=n.bind(this),a.readAsBinaryString(i)}}}(0,t.useRef)(!1),(0,t.useEffect)((function(){var e;!function(){var e=document.head;if(!e.querySelector("#ngp-image-picker-icons-id")){var t=document.createElement("link");t.href="https://fonts.googleapis.com/icon?family=Material+Icons",t.rel="stylesheet",t.id="ngp-image-picker-icons-id",e.appendChild(t)}}(),e=gX({},C,i),T(e),null!=i.language&&("en"==i.language&&S(gX({},kX)),"es"==i.language&&S(gX({},bX)),"fr"==i.language&&S(gX({},wX)),"de"==i.language&&S(gX({},_X)))}),[i]),(0,t.useEffect)((function(){!function(){try{var e=function(){if(o)return Promise.resolve(function(e){var t=gX({},f),n=e.split("."),r=n[n.length-1];if(t.format=r=!r||"png"!=r&&"jpeg"!=r&&"webp"!=r?"jpeg":r,null!=i.compressInitial){var a=1;i.compressInitial>=0&&i.compressInitial<=100&&(a=i.compressInitial),t.quality=a}return new Promise((function(n,i){var a=new Image;a.crossOrigin="Anonymous",t.maxHeight=a.height,t.maxWidth=a.width,a.onload=function(){var e=document.createElement("canvas"),i=e.getContext("2d");e.width=1*a.width,e.height=1*a.height,i.drawImage(a,0,0,e.width,e.height),console.log(t.quality);var o=e.toDataURL("image/"+r,t.quality/100);return n({dataUri:o,width:e.width,height:e.height})},a.onerror=function(t){return i(t.message||"Error loading the src = "+e)},a.src=e})).then((function(e){return t=gX({},t,{maxHeight:e.height,maxWidth:e.width}),{imageUri:e.dataUri,state:t}}))}(o)).then((function(e){var t=e.state;t.originImageSrc=o,t.arrayCopiedImages=[{lastImage:e.imageUri,width:t.maxWidth,height:t.maxHeight,quality:t.quality,format:t.format,originImageSrc:o}],m(e.imageUri),d(t),b(!0)}));var e=gX({},f);e.originImageSrc=null,e.arrayCopiedImages=[],b(!1),m(null),d(e)}();Promise.resolve(e&&e.then?e.then((function(){})):void 0)}catch(e){return Promise.reject(e)}}()}),[o]),(0,t.useEffect)((function(){l(v)}),[v]);var M=(0,t.useMemo)((function(){return v&&v.length?Math.ceil(3/4*v.length/1024):""}),[v]);return t.createElement("div",{className:"ReactImagePickerEditor"},!y&&t.createElement("div",{className:"place-image"},t.createElement("div",{className:"image-holder",style:{width:C.width,height:C.height,borderRadius:C.borderRadius,aspectRatio:C.aspectRatio+""}},t.createElement("button",{title:E["Upload a image"],className:"icon-btn image-upload-btn",onClick:D},t.createElement("span",{className:"material-icons"},"add_a_photo")),t.createElement("input",{ref:N,type:"file",style:{display:"none"},id:"filePicker-"+A,onChange:L}))),y&&t.createElement("div",{className:"place-image"},t.createElement("div",{className:"image-holder-loaded",style:{width:C.width,height:C.height,borderRadius:C.borderRadius,aspectRatio:C.aspectRatio+""}},t.createElement("img",{src:v,alt:"image-loaded",style:{borderRadius:C.borderRadius,objectFit:C.objectFit}}),t.createElement("div",{className:"curtain",onClick:D},t.createElement("button",{title:E["Upload a image"]},t.createElement("span",{className:"material-icons"},"add_a_photo"))),t.createElement("input",{ref:N,type:"file",style:{display:"none"},id:"filePicker-"+A,onChange:L})),M&&t.createElement("p",{className:"caption image-caption",style:{color:M>120?"#f44336":"unset",fontWeight:M>120?"500":"unset"}},"size: ",M,"Kb \xa0 ",f.format),t.createElement("div",{style:{flexDirection:"row",boxSizing:"border-box",display:"flex",placeContent:"flex-start",alignItems:"flex-start"},className:"editing-bar-btn"},!C.hideAddBtn&&t.createElement("button",{className:"icon-btn",id:"upload-img",title:E["Upload a image"],onClick:D},t.createElement("span",{className:"material-icons"},"add_a_photo")),!C.hideEditBtn&&t.createElement("button",{className:"icon-btn",id:"edit-img",title:E["Open the editor panel"],onClick:function(){_(!0)}},t.createElement("span",{className:"material-icons"},"edit")),!C.hideDownloadBtn&&t.createElement("a",{id:"download-img",title:E["Download the image"],href:v,download:O.current},t.createElement("span",{className:"material-icons"},"cloud_download")),!C.hideDeleteBtn&&t.createElement("button",{className:"icon-btn",id:"delete-img",title:E.Remove,onClick:function(){return function(){m(null),b(!1);var e=gX({},f,VX);d(e),_(!1)}()}},t.createElement("span",{className:"material-icons"},"delete")))),w&&t.createElement(qX,{saveUpdates:function(e){_(!1),e&&(d(e.state),m(e.imageSrc))},labels:E,color:u,image:v,initialState:f}))}));var BX=function(){var e=cp(),n=e.currentUser,r=e.updatePassword,i=e.updateEmail,a=ir((0,t.useState)(""),2),o=(a[0],a[1]),s=ir((0,t.useState)(!1),2),u=s[0],c=s[1],l=av(),h=ir((0,t.useState)(),2),f=h[0],d=(h[1],ir((0,t.useState)(),2)),p=d[0],v=(d[1],ir((0,t.useState)(),2)),m=v[0],g=(v[1],ir((0,t.useState)(),2)),y=g[0],b=(g[1],ir((0,t.useState)(),2)),k=b[0],w=(b[1],ir((0,t.useState)(),2)),_=(w[0],w[1],ir((0,t.useState)(),2)),x=(_[0],_[1]),E=ir((0,t.useState)(),2),S=(E[0],E[1]),I=ir((0,t.useState)(),2),C=(I[0],I[1]),T=ir((0,t.useState)(),2),N=(T[0],T[1]),P=ir((0,t.useState)(),2),R=(P[0],P[1]),A=(0,t.useRef)(),O=ir((0,t.useState)([]),2),D=O[0],L=(O[1],ir((0,t.useState)(""),2)),M=(L[0],L[1],(0,t.useRef)(window.innerWidth)),F=(0,t.useRef)(window.innerHeight),j=(0,t.useRef)("10%"),U=(0,t.useRef)("0%"),q=ir((0,t.useState)(),2),z=q[0],V=q[1],B=ir((0,t.useState)(),2),W=B[0],H=B[1],G=function(e){e.preventDefault();switch(e.target.name){case"firstname":console.log("firstname: "+e.target.value);break;case"lastname":console.log("lastname: "+e.target.value);break;case"email":console.log("email: "+e.target.value);break;case"new_password":console.log("new_password: "+e.target.value);break;case"confirm_new_password":console.log("confirm_new_password: "+e.target.value)}};return(0,t.useEffect)((function(){var e=M.current,t=F.current,r=0;console.log("old_image: "+A.current),console.log("width: "+e+" height: "+t),t>e+100?(r=800,V(e*(400/e)+"px"),H(r+"px")):(r=800,V(e*(600/e)+"px"),H(r+"px")),IG.ref(n.uid).get().then((function(e){if(e.exists()){var t=e.val().firstName,n=e.val().lastName,r=e.val().email,i=e.val().password,a=e.val().profileImage;x(t),S(n),C(r),N(i),R(a),D.push(t),D.push(n),D.push(r),D.push(i),D.push(a)}else console.log("No data vailable")})).catch((function(e){console.error(e)}))}),[]),(0,sp.jsx)(vm,{className:"ui container center aligned",textAlign:"center",verticalAlign:"middle",style:{borderColor:"red",transform:"translate("+U.current+","+j.current+")"},children:(0,sp.jsx)(vm.Row,{children:(0,sp.jsx)(vm.Column,{width:6,style:{minWidth:z,maxHeight:W},children:(0,sp.jsxs)(ny,{style:{width:"100%"},children:[(0,sp.jsxs)(vk,{onSubmit:function(e){if(e.preventDefault(),y.current.value!==k.current.value)return o("Passwords do not match");var t=[];c(!0),o(""),m.current.value!==n.email&&t.push(i(m.current.value)),y.current.value&&t.push(r(y.current.value)),Promise.all(t).then((function(){l("/login")})).catch((function(){o("Failed to update account")})).finally((function(){c(!1)}))},children:[(0,sp.jsx)(mX,{className:"text-center mb-4",children:"Update Profile"}),(0,sp.jsx)(vk.Field,{id:"first-name",children:(0,sp.jsx)(vk.Input,{name:"firstname",label:"firstname",type:"text",id:"user-first-name",icon:"user",placeholder:"Enter Firstname",onChange:G,ref:f,required:!0})}),(0,sp.jsx)(vk.Field,{id:"last-name",children:(0,sp.jsx)(vk.Input,{name:"lastname",label:"Lastname",type:"text",ref:p,icon:"user",id:"user-first-name",placeholder:"Last Name",onChange:G,required:!0})}),(0,sp.jsx)(vk.Field,{id:"email",children:(0,sp.jsx)(vk.Input,{name:"email",label:"Email",type:"email",icon:"envelope",ref:m,defaultValue:n.email,onChange:G,required:!0})}),(0,sp.jsx)(vk.Field,{id:"password",children:(0,sp.jsx)(vk.Input,{name:"new_password",label:"Passord",placeholder:"Leave blank to keep the same",type:"password",icon:"lock",ref:y,defaultValue:n.password,onChange:G,required:!0})}),(0,sp.jsx)(vk.Field,{id:"password-confirm",children:(0,sp.jsx)(vk.Input,{name:"confirm_new_Password",label:"Password",placeholder:"Confirm the new password",type:"password",icon:"lock",ref:k,onChange:G,required:!0})}),(0,sp.jsx)(ly,{disabled:u,className:"w-100",type:"submit",color:"blue",children:"Update"})]}),(0,sp.jsx)("div",{className:"w-100 text-center mt-2",children:(0,sp.jsx)(Lv,{to:"/mainpage",children:"Cancel"})})]})})})})};var WX=function(){var e=ir((0,t.useState)(),2),n=e[0],r=e[1],i=ir((0,t.useState)(),2),a=i[0],o=i[1],s=ir((0,t.useState)(),2),u=s[0],c=s[1],l=ir((0,t.useState)(),2),h=l[0],f=l[1],d=ir((0,t.useState)(),2),p=d[0],v=d[1],m=ir((0,t.useState)(""),2),g=(m[0],m[1]),y=ir((0,t.useState)({dataFromRealTimeDatabase:[]}),2),b=(y[0],y[1],cp()),k=b.currentUser,w=(b.logout,ir((0,t.useState)(k.uid),1)[0]),_=av(),x=ir((0,t.useState)(!1),2),E=(x[0],x[1]);function S(){return(S=ki(mi().mark((function e(){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(""),E(!0);try{_("/update-profile")}catch(t){g("failed to log oumint")}E(!1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,t.useEffect)((function(){IG.ref(w).get().then((function(e){if(e.exists()){var t=e.val().firstName,n=e.val().lastName,i=e.val().password,a=e.val().profileImage,s=e.val().email;r(t),o(n),c(i),f(a),v(s)}else console.log("No data available")})).catch((function(e){console.error(e)}))})),(0,sp.jsx)("div",{id:"dashboard",style:{height:"800px",paddingTop:"5%"},children:(0,sp.jsx)("center",{children:(0,sp.jsxs)(ny,{color:"blue",style:{width:"firContent",height:"fitContent"},children:[(0,sp.jsx)(Bg,{className:"ui circular big centered image",floated:"center",size:"big",src:h,wrapped:!0,ui:!1}),(0,sp.jsx)(ny.Content,{children:(0,sp.jsxs)(vm.Column,{children:[(0,sp.jsxs)(vm.Row,{style:{display:"block"},children:[(0,sp.jsx)("strong",{children:"Firstname: "})," ",n]}),(0,sp.jsxs)(vm.Row,{style:{display:"block"},children:[(0,sp.jsx)("strong",{children:"Lastname: "})," ",a]}),(0,sp.jsxs)(vm.Row,{style:{display:"block"},children:[(0,sp.jsx)("strong",{children:"Email: "})," ",p]}),(0,sp.jsxs)(vm.Row,{style:{display:"block"},children:[(0,sp.jsx)("strong",{children:"Password: "})," ",u]})]})}),(0,sp.jsx)(ny.Content,{extra:!0,children:(0,sp.jsx)(ly,{variant:"link",className:"ui blue button",onClick:function(){return S.apply(this,arguments)},"data-tooltip":"Update to database.","data-position":"top center",style:{width:"fitContent"},color:"blue",children:"Update Profile"})})]})})})};var HX=function(){return(0,sp.jsx)("div",{id:"notifications_page_container",children:(0,sp.jsx)("h1",{children:"NotificationsPage"})})};var GX=function(e){var n=e.page,r=e.firstname,i=e.lastname,a=e.profile_image,o=e.id_of_current_user,s=ir((0,t.useState)(""),2),u=(s[0],s[1]),c=ir((0,t.useState)(!1),2),l=(c[0],c[1]),h=av(),f=cp().logout,d=ir((0,t.useState)("0px"),2),p=d[0],v=d[1],m=(0,t.useRef)(window.innerWidth),g=(0,t.useRef)(window.innerHeight);function y(){return(y=ki(mi().mark((function e(){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(""),e.prev=1,u(""),l(!0),h("/login"),e.next=7,f();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),u("failed to log out");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}switch((0,t.useEffect)((function(){m.current+400>g.current&&g.current>700?v("600px"):m.current+400<g.current&&g.current>700?v("300px"):m.current+400<g.current&&g.current<700&&v("250px")})),n){case"home":return(0,sp.jsx)(HX,{});case"settings":return(0,sp.jsx)(BX,{});case"logout":return(0,sp.jsx)("div",{children:(0,sp.jsx)("h1",{children:function(){return y.apply(this,arguments)}()})});default:return(0,sp.jsx)(lX,{u_firstname:r,u_lastname:i,u_profile_image:a,u_id:o,height:p})}};function KX(e){var n=e.children,r=e.className,i=e.content,a=u("header",r),s=y(KX,e),c=b(KX,e);return t.createElement(c,o({},s,{className:a}),Wn(n)?i:n)}KX.handledProps=["as","children","className","content"],KX.propTypes={};var QX=KX,YX=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var XX=function(e){return e.match(YX)||[]},JX=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var $X=function(e){return JX.test(e)},ZX="\\ud800-\\udfff",eJ="\\u2700-\\u27bf",tJ="a-z\\xdf-\\xf6\\xf8-\\xff",nJ="A-Z\\xc0-\\xd6\\xd8-\\xde",rJ="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",iJ="["+rJ+"]",aJ="\\d+",oJ="["+eJ+"]",sJ="["+tJ+"]",uJ="[^"+ZX+rJ+aJ+eJ+tJ+nJ+"]",cJ="(?:\\ud83c[\\udde6-\\uddff]){2}",lJ="[\\ud800-\\udbff][\\udc00-\\udfff]",hJ="["+nJ+"]",fJ="(?:"+sJ+"|"+uJ+")",dJ="(?:"+hJ+"|"+uJ+")",pJ="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",vJ="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",mJ="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",gJ="[\\ufe0e\\ufe0f]?",yJ=gJ+mJ+("(?:\\u200d(?:"+["[^"+ZX+"]",cJ,lJ].join("|")+")"+gJ+mJ+")*"),bJ="(?:"+[oJ,cJ,lJ].join("|")+")"+yJ,kJ=RegExp([hJ+"?"+sJ+"+"+pJ+"(?="+[iJ,hJ,"$"].join("|")+")",dJ+"+"+vJ+"(?="+[iJ,hJ+fJ,"$"].join("|")+")",hJ+"?"+fJ+"+"+pJ,hJ+"+"+vJ,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",aJ,bJ].join("|"),"g");var wJ=function(e){return e.match(kJ)||[]};var _J=function(e,t,n){return e=En(e),void 0===(t=n?void 0:t)?$X(e)?wJ(e):XX(e):e.match(t)||[]},xJ=RegExp("['\u2019]","g");var EJ=function(e){return function(t){return zb(_J(Fb(t).replace(xJ,"")),e,"")}};var SJ=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Hm(e,t,n)};var IJ=function(e){return e.split("")},CJ="\\ud800-\\udfff",TJ="["+CJ+"]",NJ="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",PJ="\\ud83c[\\udffb-\\udfff]",RJ="[^"+CJ+"]",AJ="(?:\\ud83c[\\udde6-\\uddff]){2}",OJ="[\\ud800-\\udbff][\\udc00-\\udfff]",DJ="(?:"+NJ+"|"+PJ+")"+"?",LJ="[\\ufe0e\\ufe0f]?",MJ=LJ+DJ+("(?:\\u200d(?:"+[RJ,AJ,OJ].join("|")+")"+LJ+DJ+")*"),FJ="(?:"+[RJ+NJ+"?",NJ,AJ,OJ,TJ].join("|")+")",jJ=RegExp(PJ+"(?="+PJ+")|"+FJ+MJ,"g");var UJ=function(e){return e.match(jJ)||[]};var qJ=function(e){return Vy(e)?UJ(e):IJ(e)};var zJ=function(e){return function(t){t=En(t);var n=Vy(t)?qJ(t):void 0,r=n?n[0]:t.charAt(0),i=n?SJ(n,1).join(""):t.slice(1);return r[e]()+i}}("toUpperCase"),VJ=EJ((function(e,t,n){return e+(n?" ":"")+zJ(t)})),BJ=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){t.props.disabled||rg(t.props,"onClick",e,t.props)},t}return mm(n,e),n.prototype.render=function(){var e=this.props,r=e.active,i=e.children,a=e.className,s=e.color,c=e.content,l=e.disabled,f=e.fitted,p=e.header,v=e.icon,m=e.link,g=e.name,k=e.onClick,w=e.position,_=u(s,w,h(r,"active"),h(l,"disabled"),h(!0===v||v&&!(g||c),"icon"),h(p,"header"),h(m,"link"),d(f,"fitted"),"item",a),x=b(n,this.props,(function(){if(k)return"a"})),E=y(n,this.props);return Wn(i)?t.createElement(x,o({},E,{className:_,onClick:this.handleClick}),Dg.create(v,{autoGenerateKey:!1}),Wn(c)?VJ(g):c):t.createElement(x,o({},E,{className:_,onClick:this.handleClick}),i)},n}(t.Component);function WJ(e){var n=e.children,r=e.className,i=e.content,a=e.position,s=u(a,"menu",r),c=y(WJ,e),l=b(WJ,e);return t.createElement(l,o({},c,{className:s}),Wn(n)?i:n)}BJ.handledProps=["active","as","children","className","color","content","disabled","fitted","header","icon","index","link","name","onClick","position"],BJ.propTypes={},BJ.create=sm(BJ,(function(e){return{content:e,name:e}})),WJ.handledProps=["as","children","className","content","position"],WJ.propTypes={};var HJ=WJ,GJ=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleItemOverrides=function(e){return{onClick:function(n,r){var i=r.index;t.setState({activeIndex:i}),rg(e,"onClick",n,r),rg(t.props,"onItemClick",n,r)}}},t}mm(n,e);var r=n.prototype;return r.renderItems=function(){var e=this,t=this.props.items,n=this.state.activeIndex;return Zg(t,(function(t,r){return BJ.create(t,{defaultProps:{active:parseInt(n,10)===r,index:r},overrideProps:e.handleItemOverrides})}))},r.render=function(){var e=this.props,r=e.attached,i=e.borderless,a=e.children,s=e.className,c=e.color,l=e.compact,p=e.fixed,v=e.floated,m=e.fluid,k=e.icon,w=e.inverted,_=e.pagination,x=e.pointing,E=e.secondary,S=e.size,I=e.stackable,C=e.tabular,T=e.text,N=e.vertical,P=e.widths,R=u("ui",c,S,h(i,"borderless"),h(l,"compact"),h(m,"fluid"),h(w,"inverted"),h(_,"pagination"),h(x,"pointing"),h(E,"secondary"),h(I,"stackable"),h(T,"text"),h(N,"vertical"),d(r,"attached"),d(v,"floated"),d(k,"icon"),d(C,"tabular"),f(p,"fixed"),g(P,"item"),s,"menu"),A=y(n,this.props),O=b(n,this.props);return t.createElement(O,o({},A,{className:R}),Wn(a)?this.renderItems():a)},n}(_g);GJ.handledProps=["activeIndex","as","attached","borderless","children","className","color","compact","defaultActiveIndex","fixed","floated","fluid","icon","inverted","items","onItemClick","pagination","pointing","secondary","size","stackable","tabular","text","vertical","widths"],GJ.propTypes={},GJ.autoControlledProps=["activeIndex"],GJ.Header=QX,GJ.Item=BJ,GJ.Menu=HJ,GJ.create=sm(GJ,(function(e){return{items:e}}));var KJ=GJ;var QJ=function(){return(0,sp.jsx)("div",{children:(0,sp.jsx)("h1",{children:"New"})})};var YJ=function(e){var n=e.is_the_notification_section_visible;return(0,t.useEffect)((function(){})),(0,sp.jsx)(tX,{visible:n,animation:"scale",duration:500,children:(0,sp.jsxs)("div",{id:"show_notifications_in_main_page_container",stryle:{backgroundColor:"#666362"},children:[(0,sp.jsx)(Xn,{inverted:!0,id:"my_segment",color:"red",children:(0,sp.jsx)("p",{children:"something"})}),(0,sp.jsx)(Lv,{to:"/notifications-page",element:(0,sp.jsx)(HX,{}),children:"view all"})]})})};var XJ=function(){return(0,sp.jsx)("div",{id:"image_id",children:(0,sp.jsx)("h1",{children:"Images."})})},JJ=function(e){var n=e.color,r=void 0===n?"currentColor":n,i=e.direction,a=void 0===i?"left":i,o=e.distance,s=void 0===o?"md":o,u=e.duration,c=void 0===u?.4:u,l=e.easing,h=void 0===l?"cubic-bezier(0, 0, 0, 1)":l,f=e.hideOutline,d=void 0===f||f,p=e.label,v=e.lines,m=void 0===v?3:v,g=e.onToggle,y=e.render,b=e.rounded,k=void 0!==b&&b,w=e.size,_=void 0===w?32:w,x=e.toggle,E=e.toggled,S=ir((0,t.useState)(!1),2),I=S[0],C=S[1],T=Math.max(12,Math.min(48,_)),N=Math.round((48-T)/2),P=T/12,R=Math.round(P),A=T/(m*(("lg"===s?.25:"sm"===s?.75:.5)+(3===m?1:1.25))),O=Math.round(A),D=R*m+O*(m-1),L=Math.round((48-D)/2),M=parseFloat((T/(3===m?"lg"===s?4.0425:"sm"===s?5.1625:4.6325:"lg"===s?6.7875:"sm"===s?8.4875:7.6675)-(P-R+(A-O))/(3===m?1:2)/(4/3)).toFixed(2)),F=Math.max(0,c),j={cursor:"pointer",height:"".concat(48,"px"),position:"relative",transition:"".concat(F,"s ").concat(h),userSelect:"none",width:"".concat(48,"px")},U={background:r,height:"".concat(R,"px"),left:"".concat(N,"px"),position:"absolute"};d&&(j.outline="none"),k&&(U.borderRadius="9em");var q=x||C,z=void 0!==E?E:I;return y({barHeight:R,barStyles:U,burgerStyles:j,easing:h,handler:function(){q(!z),"function"===typeof g&&g(!z)},isLeft:"left"===a,isToggled:z,label:p,margin:O,move:M,time:F,topOffset:L,width:T})};function $J(){return $J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$J.apply(this,arguments)}var ZJ=function(e){return t.createElement(JJ,$J({},e,{render:function(e){return t.createElement("div",{className:"hamburger-react","aria-label":e.label,"aria-expanded":e.isToggled,onClick:e.handler,onKeyUp:function(t){return"Enter"===t.key&&e.handler()},role:"button",style:Di(Di({},e.burgerStyles),{},{transform:"".concat(e.isToggled?"rotate(".concat(180*(e.isLeft?-1:1),"deg)"):"none")}),tabIndex:0},t.createElement("div",{style:Di(Di({},e.barStyles),{},{width:"".concat(e.width,"px"),top:"".concat(e.topOffset,"px"),transition:"".concat(e.time,"s ").concat(e.easing),transform:"".concat(e.isToggled?"rotate(".concat(45*(e.isLeft?-1:1),"deg) translate(").concat(e.move*(e.isLeft?-1:1),"px, ").concat(e.move,"px)"):"none")})}),t.createElement("div",{style:Di(Di({},e.barStyles),{},{width:"".concat(e.width,"px"),top:"".concat(e.topOffset+e.barHeight+e.margin,"px"),transition:"".concat(e.time,"s ").concat(e.easing),opacity:"".concat(e.isToggled?"0":"1")})}),t.createElement("div",{style:Di(Di({},e.barStyles),{},{width:"".concat(e.width,"px"),top:"".concat(e.topOffset+2*e.barHeight+2*e.margin,"px"),transition:"".concat(e.time,"s ").concat(e.easing),transform:"".concat(e.isToggled?"rotate(".concat(45*(e.isLeft?1:-1),"deg) translate(").concat(e.move*(e.isLeft?-1:1),"px, ").concat(-1*e.move,"px)"):"none")})}))}}))};var e$=function(){var e=ir((0,t.useState)({visible:!1}),2),n=e[0],r=e[1],i=ir((0,t.useState)(!1),2),a=i[0],o=i[1],s=(0,t.useRef)("#BDB5D5"),u=ir((0,t.useState)({menu_item_button_color:s.current}),2),c=u[0],l=(u[1],ir((0,t.useState)(),2)),h=(l[0],l[1],ir((0,t.useState)(),2)),f=(h[0],h[1],ir((0,t.useState)({is_notifications_button_clicked:!0}),2)),d=f[0],p=f[1],v=ir((0,t.useState)(),2),m=(v[0],v[1],ir((0,t.useState)(),2)),g=m[0],y=m[1],b=ir((0,t.useState)(),2),k=b[0],w=b[1],_=ir((0,t.useState)(),2),x=_[0],E=_[1],S=ir((0,t.useState)(),2),I=S[0],C=(S[1],cp().logout),T=av(),N=(0,t.useRef)(window.innerWidth),P=(0,t.useRef)(window.innerHeight),R=ir((0,t.useState)(),2),A=(R[0],R[1]),O=(0,t.useRef)("#C5CDD8"),D=((0,t.useRef)("#1E90FF"),(0,t.useRef)("#FFFAFA"),(0,t.useRef)("#F0EFE7"),(0,t.useRef)("#666362"),(0,t.useRef)("large"));(0,t.useEffect)((function(){r(!n),N.current>P.current?(A("80%"),y(2),w(12),E(2)):(A("75%"),y(3),w(10),E(3))}),[a]);var L=function(e,t){var n=t.name;switch(e.preventDefault(),console.log("visibility: "+d),n){case"bell":p(!d);break;case"power_off":C(),T("/");break;case"settings":T("/update-profile");break;case"images":T("/images")}};return(0,sp.jsx)("div",{id:"my_navigation_bar",children:(0,sp.jsxs)(vm,{columns:16,reversed:"mobile",children:[(0,sp.jsx)(vm.Column,{width:x,children:(0,sp.jsx)(ZJ,{duration:.8,toggled:a,toggle:o,color:s.current})}),(0,sp.jsxs)(vm.Column,{width:k,style:{display:"inline"},children:[(0,sp.jsx)(tX,{visible:n,animation:"scale",duration:"500",children:(0,sp.jsxs)(KJ,{incon:"labeled",item:4,fluid:!0,secondary:!0,left:!0,horizontal:!0,children:[(0,sp.jsx)(ly,{className:"ui circular icon button",name:"power_off",style:{color:O,backgroundColor:c},onClick:L,children:(0,sp.jsx)(Dg,{name:D.current+" power off"})}),(0,sp.jsx)(ly,{className:"ui circular icon button",name:"images",style:{color:O,backgroundColor:c},onClick:L,children:(0,sp.jsx)(Dg,{name:D.current+" images"})}),(0,sp.jsx)(ly,{className:"ui circular icon button",name:"settings",style:{color:O,backgroundColor:c},onClick:L,children:(0,sp.jsx)(Dg,{name:D.current+" settings"})}),(0,sp.jsx)(ly,{className:"ui circular icon button",name:"bell",style:{color:O,backgroundColor:c},onClick:L,value:I,children:(0,sp.jsx)(Dg,{name:D.current+" bell"})}),(0,sp.jsx)(YJ,{is_the_notification_section_visible:!d})]})})," "]})," ",(0,sp.jsx)(vm.Column,{width:g,children:(0,sp.jsxs)(Dg,{name:"large ui circular icon",style:{marginLeft:"0",borderColor:"red",backgroundColor:"#d4d6bf"},children:[" ","EA"]})}),"  "]})})};var t$=function(){(0,t.useRef)(null);var e=(0,t.useRef)(window.innerWidth),n=(0,t.useRef)(window.innerHeight),r=ir(t.useState(),2),i=r[0],a=(r[1],ir((0,t.useState)("big"),2)),o=(a[0],a[1]),s=cp(),u=s.currentUser,c=(s.updatePassword,s.updateEmail,s.logout,ir((0,t.useState)(),2)),l=c[0],h=c[1],f=ir((0,t.useState)(),2),d=f[0],p=f[1],v=ir((0,t.useState)(),2),m=v[0],g=v[1],y=ir((0,t.useState)({t_current_user_id:"some_user"}),2),b=y[0],k=y[1],w=ir((0,t.useState)({user_information_query:{}}),2),_=(w[0],w[1],ir((0,t.useState)({fake_id:""}),2));return _[0],_[1],(0,t.useRef)(),(0,t.useEffect)((function(){n.current>e.current&&o("larger"),h("emmanuel"),p("agyapong"),g("None yet"),k("000000"),console.log("id:",b)}),1),(0,sp.jsxs)("div",{id:"mainPageContainer",children:[(0,sp.jsxs)("div",{id:"body",children:[(0,sp.jsx)(e$,{}),(0,sp.jsx)("div",{id:"subContainer",children:(0,sp.jsx)(GX,{page:i,firstname:l,lastname:d,profile_image:m,id_of_current_user:u.uid})})]}),(0,sp.jsx)(IY,{})]})};var n$=function(){var e=ir(t.useState(""),2),n=e[0],r=e[1],i=ir(t.useState(""),2),a=i[0],o=i[1],s=cp().login,u=ir((0,t.useState)(""),2),c=(u[0],u[1]),l=ir((0,t.useState)(!1),2),h=l[0],f=l[1],d=av(),p=(0,t.useRef)("ui dividing header text-center mb-4"),v=ir((0,t.useState)(),2),m=v[0],g=v[1],y=ir((0,t.useState)(),2),b=y[0],k=y[1],w=ir((0,t.useState)(),2),_=w[0],x=w[1],E=(0,t.useRef)("+50%"),S=(0,t.useRef)("0%"),I=(0,t.useRef)("myLocation");function C(){return(C=ki(mi().mark((function e(t){return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,c(""),f(!0),e.next=6,s(n,a);case 6:d("/mainpage"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),c("Failed to log in");case 12:f(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return(0,t.useEffect)((function(){var e=window.innerWidth,t=window.innerHeight;if(t>e+100){var n=t*(400/t);g(e*(400/e)+"px"),k(n+"px"),x("Mobile")}else{var r=t*(400/t);g(e*(600/e)+"px"),k(r+"px"),x("Desktop")}}),[]),(0,sp.jsx)("div",{id:"loginId",children:(0,sp.jsx)(vm,{style:{borderColor:"red",transform:"translate("+S.current+","+E.current+")"},className:_,textAlign:"center",verticalAlign:"middle",children:(0,sp.jsx)(vm.Row,{centered:!0,children:(0,sp.jsxs)(vm.Column,{width:6,style:{minWidth:m,maxHeight:b},children:[(0,sp.jsx)(ny,{style:{width:"100%"},children:(0,sp.jsx)("div",{children:(0,sp.jsxs)(vk,{size:"big",onSubmit:function(e){return C.apply(this,arguments)},children:[(0,sp.jsx)("h2",{className:p.current,children:" Log In"}),(0,sp.jsx)(vk.Group,{children:(0,sp.jsx)(vk.Field,{width:16,children:(0,sp.jsx)(vk.Input,{label:"Email",icon:"envelope",type:"email",placeholder:"Enter Email...",value:n,onChange:function(e){e.preventDefault(),r(e.target.value)},required:!0})})}),(0,sp.jsx)(vk.Field,{children:(0,sp.jsx)(vk.Input,{label:"password",icon:"lock",type:"password",placeholder:"Ennter Password...",value:a,onChange:function(e){e.preventDefault(),o(e.target.value),console.log("passswordlIs",e.target.value)},required:!0})}),(0,sp.jsx)(ly,{className:"w-100",color:"primary",disabled:h,icon:"login",size:"big",type:"submit",children:"Login"}),(0,sp.jsx)("div",{className:"w-100 text-center mt-2",children:(0,sp.jsx)(Lv,{to:"/forgot-password",element:(0,sp.jsx)(SY,{}),children:"Forgot Password?"})})]},"big")})}),(0,sp.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need a account? ",(0,sp.jsx)(Lv,{to:"/signup",element:(0,sp.jsx)(r$,{l:I.current}),children:"Sign Up"})]})]})})})})};var r$=function(e){e.l;var n=ir((0,t.useState)(),2),r=n[0],i=n[1],a=ir((0,t.useState)(),2),o=a[0],s=a[1],u=ir((0,t.useState)(),2),c=u[0],l=u[1],h=ir((0,t.useState)(),2),f=h[0],d=h[1],p=ir((0,t.useState)(),2),v=p[0],m=p[1],g=cp(),y=(g.current_user,g.signup),b=g.logout,k=g.setUserId,w=ir((0,t.useState)(""),2),_=(w[0],w[1]),x=ir((0,t.useState)(!1),2),E=x[0],S=x[1],I=av(),C=ir((0,t.useState)(),2),T=C[0],N=C[1],P=ir((0,t.useState)(),2),R=P[0],A=P[1],O=(0,t.useRef)("10%"),D=(0,t.useRef)("0%"),L=(0,cX.v4)();function M(){return(M=ki(mi().mark((function e(t){var n,i,a,s,u,l;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),f===v){e.next=3;break}return e.abrupt("return",_("Password do not match"));case 3:n=r,i=o,a=c,s=f,u=L.slice(0,8),l=(new Date).toLocaleDateString("en-us",{weekday:"short",year:"numeric",month:"short",day:"numeric"}),j(n,i,a,s,u);try{_(""),S(!0),new Promise((function(e,t){setTimeout((function(){y(c,f),k(),F(n,i,a,s,u,l),console.log("Success!"),e("Success!")}),1e3)})).then((function(e){return b(),I("/")})).catch((function(e){return b()}))}catch(h){_("Failed to create an account")}S(!1);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,t.useEffect)((function(){var e=window.innerWidth;if(window.innerHeight>e+100){N(e*(400/e)+"px"),A("800px")}else{N(e*(600/e)+"px"),A("800px")}}));var F=function(e,t,n,r,i,a){IG.ref(i).set({firstname:e,lastname:t,email:n,password:r,temporary_user_id:i,real_user_id:"working-on-it",profile_image_uri:"https://firebasestorage.googleapis.com/v0/b/thejournal-d14eb.appspot.com/o/storage_of_me%2Fprofile_images%2F1e87a7f1-aced-4dce-a853-fb163ef52b24.jpg?alt=media&token=0bdb1342-01a9-467e-964b-2007ab2dccbc",time:a}).catch(alert)},j=function(e,t,n,i,a){ZF.collection("users").doc(r).set({firstname:e,lastname:t,email:n,password:i,temporary_user_id:a,profile_image:"https://firebasestorage.googleapis.com/v0/b/thejournal-d14eb.appspot.com/o/storage_of_me%2Fprofile_images%2F1e87a7f1-aced-4dce-a853-fb163ef52b24.jpg?alt=media&token=0bdb1342-01a9-467e-964b-2007ab2dccbc",message:e+" welcome to Notebook ^,^!"})},U=function(e){switch(e.target.name){case"firstname":console.log("firstname is: "+e.target.value),i(e.target.value);break;case"lastname":console.log("latname is: "+e.target.value),s(e.target.value);break;case"email":console.log("email is: "+e.target.value),l(e.target.value);break;case"password":console.log("password is: "+e.target.value),d(e.target.value);break;case"confirm_password":console.log("confirm_password is: "+e.target.value),m(e.target.value)}};return(0,sp.jsx)("div",{children:(0,sp.jsxs)(vm,{className:"ui container center aligned",textAlign:"center",verticalAlign:"middle",style:{borderColor:"red",transform:"translate("+D.current+","+O.current+")"},children:[(0,sp.jsx)(vm.Row,{children:(0,sp.jsx)(vm.Column,{width:6,style:{minWidth:T,maxHeight:R},children:(0,sp.jsx)(ny,{style:{width:"100%"},children:(0,sp.jsxs)(vk,{size:"big",onSubmit:function(e){return M.apply(this,arguments)},children:[(0,sp.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),(0,sp.jsx)(vk.Field,{id:"first-name",children:(0,sp.jsx)(vk.Input,{name:"firstname",type:"text",label:"Firstname",placeholder:"Enter Firstname...",icon:"user",onChange:U,value:r,required:!0})}),(0,sp.jsx)(vk.Field,{id:"last-name",children:(0,sp.jsx)(vk.Input,{name:"lastname",type:"text",label:"Lastname",placeholder:"Enter Lastname...",icon:"user",onChange:U,value:o,required:!0})}),(0,sp.jsx)(vk.Field,{id:"email",children:(0,sp.jsx)(vk.Input,{name:"email",type:"email",label:"Email",placeholder:"Enter Email...",icon:"envelope",onChange:U,value:c,required:!0})}),(0,sp.jsx)(vk.Field,{id:"password",children:(0,sp.jsx)(vk.Input,{name:"password",type:"password",label:"Enter Password",placeholder:"Enter Password...",icon:"lock",onChange:U,value:f,required:!0})}),(0,sp.jsx)(vk.Field,{id:"password-confirm",children:(0,sp.jsx)(vk.Input,{name:"confirm_password",type:"password",label:"Confirm Password",placeholder:"Confirm Password...",icon:"lock",onChange:U,value:v,required:!0})}),(0,sp.jsx)(ly,{disabled:E,className:"w-100",color:"blue",size:"big",type:"submit",children:"Sign Up"})]},"big")})})}),(0,sp.jsxs)("div",{className:"w-100 text-center mt-2",children:["Already have an account? ",(0,sp.jsx)(Lv,{to:"/",element:(0,sp.jsx)(n$,{}),children:"Log In"})]})]})})},i$=["component"];var a$=function(e){return e.component,CG(e,i$),cp().currentUser?(0,sp.jsx)(wv,{}):(0,sp.jsx)(kv,{to:"/login"})};var o$=function(){return(0,sp.jsx)("div",{children:(0,sp.jsx)(Av,{basename:"/notebook",children:(0,sp.jsx)(lp,{children:(0,sp.jsxs)(Ev,{children:[(0,sp.jsx)(_v,{path:"/login",element:(0,sp.jsx)(WX,{})}),(0,sp.jsx)(_v,{path:"/",element:(0,sp.jsx)(a$,{}),children:(0,sp.jsx)(_v,{exact:!0,path:"/",element:(0,sp.jsx)(t$,{})})}),(0,sp.jsx)(_v,{path:"/update-profile",element:(0,sp.jsx)(BX,{})}),(0,sp.jsx)(_v,{path:"/signup",element:(0,sp.jsx)(r$,{})}),(0,sp.jsx)(_v,{path:"/login",element:(0,sp.jsx)(n$,{})}),(0,sp.jsx)(_v,{path:"/forgot-password",element:(0,sp.jsx)(SY,{})}),(0,sp.jsx)(_v,{path:"/note",element:(0,sp.jsx)(lX,{})}),(0,sp.jsx)(_v,{path:"/mainpage",element:(0,sp.jsx)(t$,{})}),(0,sp.jsx)(_v,{path:"/new",element:(0,sp.jsx)(QJ,{})}),(0,sp.jsx)(_v,{path:"/update-profile",element:(0,sp.jsx)(BX,{})}),(0,sp.jsx)(_v,{path:"/notifications-page",element:(0,sp.jsx)(HX,{})}),(0,sp.jsx)(_v,{path:"/images",element:(0,sp.jsx)(XJ,{})}),(0,sp.jsx)(_v,{path:"/image-uploader",element:(0,sp.jsx)(sX,{})})]})})})})};var s$=function(){return(0,sp.jsx)(vm,{columns:1,stackable:!0,centered:!0,vertical:!0,id:"AppId",children:(0,sp.jsx)("div",{children:(0,sp.jsx)(Av,{basename:"/notebook",children:(0,sp.jsx)(lp,{children:(0,sp.jsxs)(Ev,{children:[(0,sp.jsx)(_v,{path:"/login",element:(0,sp.jsx)(WX,{})}),(0,sp.jsx)(_v,{path:"/",element:(0,sp.jsx)(a$,{}),children:(0,sp.jsx)(_v,{exact:!0,path:"/",element:(0,sp.jsx)(t$,{})})}),(0,sp.jsx)(_v,{path:"/update-profile",element:(0,sp.jsx)(BX,{})}),(0,sp.jsx)(_v,{path:"/signup",element:(0,sp.jsx)(r$,{})}),(0,sp.jsx)(_v,{path:"/login",element:(0,sp.jsx)(n$,{})}),(0,sp.jsx)(_v,{path:"/forgot-password",element:(0,sp.jsx)(SY,{})}),(0,sp.jsx)(_v,{path:"/note",element:(0,sp.jsx)(lX,{})}),(0,sp.jsx)(_v,{path:"/mainpage",element:(0,sp.jsx)(t$,{})}),(0,sp.jsx)(_v,{path:"/new",element:(0,sp.jsx)(QJ,{})}),(0,sp.jsx)(_v,{path:"/update-profile",element:(0,sp.jsx)(BX,{})}),(0,sp.jsx)(_v,{path:"/notifications-page",element:(0,sp.jsx)(HX,{})}),(0,sp.jsx)(_v,{path:"/images",element:(0,sp.jsx)(XJ,{})}),(0,sp.jsx)(_v,{path:"/image-uploader",element:(0,sp.jsx)(sX,{})})]})})})})})};var u$=function(){return Zn.tq?(0,sp.jsx)(Xn,{style:{height:"100%"},children:(0,sp.jsx)($n,{children:(0,sp.jsx)(s$,{})})}):(0,sp.jsx)(Xn,{style:{height:"100%"},children:(0,sp.jsx)($n,{children:(0,sp.jsx)(o$,{})})})};i.render((0,sp.jsx)(t.StrictMode,{children:(0,sp.jsx)(u$,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.d5c5cbcb.js.map